var Zt=Object.defineProperty;var zr=Object.getOwnPropertyDescriptor;var Qr=Object.getOwnPropertyNames;var Zr=Object.prototype.hasOwnProperty;var er=(J,T)=>()=>(J&&(T=J(J=0)),T);var Mt=(J,T,S,O)=>{if(T&&typeof T=="object"||typeof T=="function")for(let v of Qr(T))!Zr.call(J,v)&&v!==S&&Zt(J,v,{get:()=>T[v],enumerable:!(O=zr(T,v))||O.enumerable});return J},dt=(J,T,S)=>(Mt(J,T,"default"),S&&Mt(S,T,"default"));var tr=J=>Mt(Zt({},"__esModule",{value:!0}),J);var Ot={};import*as rn from"node:async_hooks";var rr=er(()=>{dt(Ot,rn)});var bt={};import*as nn from"node:buffer";var nr=er(()=>{dt(bt,nn)});globalThis._ENTRIES={};self.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-c67a75d1b6f99dc8.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:["static/_ERpYDMaMYirWbGPnxv7k/_buildManifest.js","static/_ERpYDMaMYirWbGPnxv7k/_ssgManifest.js"],rootMainFiles:["static/chunks/webpack-981255ff4040078c.js","static/chunks/fd9d1056-bb5e642edb71cb6e.js","static/chunks/938-af0c54527eb3d299.js","static/chunks/main-app-fdb274144f5f837c.js"],pages:{"/_app":["static/chunks/webpack-981255ff4040078c.js","static/chunks/framework-8883d1e9be70c3da.js","static/chunks/main-ced0ab26db6ceefe.js","static/chunks/pages/_app-98cb51ec6f9f135f.js"],"/_error":["static/chunks/webpack-981255ff4040078c.js","static/chunks/framework-8883d1e9be70c3da.js","static/chunks/main-ced0ab26db6ceefe.js","static/chunks/pages/_error-e87e5963ec1b8011.js"]},ampFirstPages:[]};self.__REACT_LOADABLE_MANIFEST="{}";self.__NEXT_FONT_MANIFEST='{"pages":{},"app":{"/Users/pwittig/code/workers-ai-playground-nextjs/src/app/layout":["static/media/c9a5bc6a7c948fb0-s.p.woff2"]},"appUsingSizeAdjust":true,"pagesUsingSizeAdjust":false}';self.__PRERENDER_MANIFEST='{"version":4,"routes":{"/favicon.ico":{"initialHeaders":{"cache-control":"public, max-age=0, must-revalidate","content-type":"image/x-icon","x-next-cache-tags":"_N_T_/layout,_N_T_/favicon.ico/layout,_N_T_/favicon.ico/route,_N_T_/favicon.ico"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data"}],"initialRevalidateSeconds":false,"srcRoute":"/favicon.ico","dataRoute":null},"/":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/page,_N_T_/"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data"}],"initialRevalidateSeconds":false,"srcRoute":"/","dataRoute":"/index.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"810725106a90e954c8e7c873c8dcb114","previewModeSigningKey":"bed33c302cffcc9a01895bbe23a90dbae5a20c61731246d9c1cf09ced584899e","previewModeEncryptionKey":"5952762938c65126efc67756b845273170464625d5b68d324e8cb1f11303c827"}}';(()=>{"use strict";var J={},T={};function S(O){var v=T[O];if(v!==void 0)return v.exports;var f=T[O]={exports:{}},m=!0;try{J[O](f,f.exports,S),m=!1}finally{m&&delete T[O]}return f.exports}S.m=J,(()=>{var O=[];S.O=(v,f,m,c)=>{if(f){c=c||0;for(var a=O.length;a>0&&O[a-1][2]>c;a--)O[a]=O[a-1];O[a]=[f,m,c];return}for(var e=1/0,a=0;a<O.length;a++){for(var[f,m,c]=O[a],r=!0,n=0;n<f.length;n++)(c&!1||e>=c)&&Object.keys(S.O).every(h=>S.O[h](f[n]))?f.splice(n--,1):(r=!1,c<e&&(e=c));if(r){O.splice(a--,1);var s=m();s!==void 0&&(v=s)}}return v}})(),S.n=O=>{var v=O&&O.__esModule?()=>O.default:()=>O;return S.d(v,{a:v}),v},(()=>{var O=Object.getPrototypeOf?f=>Object.getPrototypeOf(f):f=>f.__proto__,v;S.t=function(f,m){if(m&1&&(f=this(f)),m&8||typeof f=="object"&&f&&(m&4&&f.__esModule||m&16&&typeof f.then=="function"))return f;var c=Object.create(null);S.r(c);var a={};v=v||[null,O({}),O([]),O(O)];for(var e=m&2&&f;typeof e=="object"&&!~v.indexOf(e);e=O(e))Object.getOwnPropertyNames(e).forEach(r=>a[r]=()=>f[r]);return a.default=()=>f,S.d(c,a),c}})(),S.d=(O,v)=>{for(var f in v)S.o(v,f)&&!S.o(O,f)&&Object.defineProperty(O,f,{enumerable:!0,get:v[f]})},S.e=()=>Promise.resolve(),S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),S.o=(O,v)=>Object.prototype.hasOwnProperty.call(O,v),S.r=O=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})},(()=>{var O={993:0};S.O.j=m=>O[m]===0;var v=(m,c)=>{var[a,e,r]=c,n,s,t=0;if(a.some(i=>O[i]!==0)){for(n in e)S.o(e,n)&&(S.m[n]=e[n]);if(r)var o=r(S)}for(m&&m(c);t<a.length;t++)s=a[t],S.o(O,s)&&O[s]&&O[s][0](),O[s]=0;return S.O(o)},f=self.webpackChunk_N_E=self.webpackChunk_N_E||[];f.forEach(v.bind(null,0)),f.push=v.bind(null,f.push.bind(f))})()})();(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{67:J=>{"use strict";J.exports=(rr(),tr(Ot))},195:J=>{"use strict";J.exports=(nr(),tr(bt))},337:(J,T,S)=>{"use strict";let O,v,f;S.r(T),S.d(T,{ComponentMod:()=>Fr,default:()=>$r});var m,c,a,e={};S.r(e),S.d(e,{POST:()=>Lr,dynamic:()=>wr,runtime:()=>xr});var r={};async function n(){if("_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&_ENTRIES.middleware_instrumentation.register)try{await _ENTRIES.middleware_instrumentation.register()}catch(d){throw d.message=`An error occurred while loading instrumentation hook: ${d.message}`,d}}S.r(r),S.d(r,{headerHooks:()=>Hr,originalPathname:()=>jr,patchFetch:()=>Gr,requestAsyncStorage:()=>Ur,routeModule:()=>Dt,serverHooks:()=>Xt,staticGenerationAsyncStorage:()=>Jt,staticGenerationBailout:()=>Br});let s=null;function t(){return s||(s=n()),s}function o(d){return`The edge runtime does not support Node.js '${d}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==S.g.process&&(process.env=S.g.process.env,S.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:function(d){let u=new Proxy(function(){},{get(p,R){if(R==="then")return{};throw Error(o(d))},construct(){throw Error(o(d))},apply(p,R,w){if(typeof w[0]=="function")return w[0](u);throw Error(o(d))}});return new Proxy({},{get:()=>u})},enumerable:!1,configurable:!0}),t();class i extends Error{constructor({page:u}){super(`The middleware "${u}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class l extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class h extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}function g(d){let u={},p=[];if(d)for(let[R,w]of d.entries())R.toLowerCase()==="set-cookie"?(p.push(...function(M){var q,ee,Z,$,F,te=[],oe=0;function xe(){for(;oe<M.length&&/\s/.test(M.charAt(oe));)oe+=1;return oe<M.length}for(;oe<M.length;){for(q=oe,F=!1;xe();)if((ee=M.charAt(oe))===","){for(Z=oe,oe+=1,xe(),$=oe;oe<M.length&&(ee=M.charAt(oe))!=="="&&ee!==";"&&ee!==",";)oe+=1;oe<M.length&&M.charAt(oe)==="="?(F=!0,oe=$,te.push(M.substring(q,Z)),q=oe):oe=Z+1}else oe+=1;(!F||oe>=M.length)&&te.push(M.substring(q,M.length))}return te}(w)),u[R]=p.length===1?p[0]:p):u[R]=w;return u}function E(d){try{return String(new URL(String(d)))}catch(u){throw Error(`URL is malformed "${String(d)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:u})}}let A=Symbol("response"),_=Symbol("passThrough"),C=Symbol("waitUntil");class N{constructor(u){this[C]=[],this[_]=!1}respondWith(u){this[A]||(this[A]=Promise.resolve(u))}passThroughOnException(){this[_]=!0}waitUntil(u){this[C].push(u)}}class U extends N{constructor(u){super(u.request),this.sourcePage=u.page}get request(){throw new i({page:this.sourcePage})}respondWith(){throw new i({page:this.sourcePage})}}var j=S(639),D=S(789);let L=Symbol("internal request");class b extends Request{constructor(u,p={}){let R=typeof u!="string"&&"url"in u?u.url:String(u);E(R),u instanceof Request?super(u,p):super(R,p);let w=new j.c(R,{headers:g(this.headers),nextConfig:p.nextConfig});this[L]={cookies:new D.q(this.headers),geo:p.geo||{},ip:p.ip,nextUrl:w,url:w.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[L].cookies}get geo(){return this[L].geo}get ip(){return this[L].ip}get nextUrl(){return this[L].nextUrl}get page(){throw new l}get ua(){throw new h}get url(){return this[L].url}}let I=Symbol("internal response"),H=new Set([301,302,303,307,308]);function B(d,u){var p;if(!(d==null||(p=d.request)==null)&&p.headers){if(!(d.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let R=[];for(let[w,M]of d.request.headers)u.set("x-middleware-request-"+w,M),R.push(w);u.set("x-middleware-override-headers",R.join(","))}}class se extends Response{constructor(u,p={}){super(u,p),this[I]={cookies:new D.n(this.headers),url:p.url?new j.c(p.url,{headers:g(this.headers),nextConfig:p.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[I].cookies}static json(u,p){let R=Response.json(u,p);return new se(R.body,R)}static redirect(u,p){let R=typeof p=="number"?p:p?.status??307;if(!H.has(R))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let w=typeof p=="object"?p:{},M=new Headers(w?.headers);return M.set("Location",E(u)),new se(null,{...w,headers:M,status:R})}static rewrite(u,p){let R=new Headers(p?.headers);return R.set("x-middleware-rewrite",E(u)),B(p,R),new se(null,{...p,headers:R})}static next(u){let p=new Headers(u?.headers);return p.set("x-middleware-next","1"),B(u,p),new se(null,{...u,headers:p})}}function G(d,u){let p=typeof u=="string"?new URL(u):u,R=new URL(d,u),w=p.protocol+"//"+p.host;return R.protocol+"//"+R.host===w?R.toString().replace(w,""):R.toString()}var ue=S(2);S(283);let Pe={client:"client",server:"server",edgeServer:"edge-server"};Pe.client,Pe.server,Pe.edgeServer,Symbol("polyfills");let y=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",ue.H4],P=["__nextDataReq"];function K(d){return d.startsWith("/")?d:"/"+d}function X(d){return d.replace(/\.rsc($|\?)/,"$1")}var W=S(707),ie=S(932),z=S(445),re=S(200);class pe extends b{constructor(u){super(u.input,u.init),this.sourcePage=u.page}get request(){throw new i({page:this.sourcePage})}respondWith(){throw new i({page:this.sourcePage})}waitUntil(){throw new i({page:this.sourcePage})}}let Ee={keys:d=>Array.from(d.keys()),get:(d,u)=>d.get(u)??void 0},Se=(d,u)=>(0,re.Yz)().withPropagatedContext(d.headers,u,Ee),Fe=!1;async function et(d){let u,p;(function(){if(!Fe&&(Fe=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:ge,wrapRequestHandler:ve}=S(471);ge(),Se=ve(Se)}})(),await t();let R=self.__BUILD_MANIFEST!==void 0,w=typeof self.__PRERENDER_MANIFEST=="string"?JSON.parse(self.__PRERENDER_MANIFEST):void 0;d.request.url=X(d.request.url);let M=new j.c(d.request.url,{headers:d.request.headers,nextConfig:d.request.nextConfig});for(let ge of[...M.searchParams.keys()]){let ve=M.searchParams.getAll(ge);if(ge!==W.dN&&ge.startsWith(W.dN)){let Te=ge.substring(W.dN.length);for(let he of(M.searchParams.delete(Te),ve))M.searchParams.append(Te,he);M.searchParams.delete(ge)}}let q=M.buildId;M.buildId="";let ee=d.request.headers["x-nextjs-data"];ee&&M.pathname==="/index"&&(M.pathname="/");let Z=function(ge){let ve=new Headers;for(let[Te,he]of Object.entries(ge))for(let ye of Array.isArray(he)?he:[he])ye!==void 0&&(typeof ye=="number"&&(ye=ye.toString()),ve.append(Te,ye));return ve}(d.request.headers),$=new Map;if(!R)for(let ge of ue.vu){let ve=ge.toString().toLowerCase();Z.get(ve)&&($.set(ve,Z.get(ve)),Z.delete(ve))}let F=new pe({page:d.page,input:function(ge,ve){let Te=typeof ge=="string",he=Te?new URL(ge):ge;for(let ye of y)he.searchParams.delete(ye);if(ve)for(let ye of P)he.searchParams.delete(ye);return Te?he.toString():he}(M,!0).toString(),init:{body:d.request.body,geo:d.request.geo,headers:Z,ip:d.request.ip,method:d.request.method,nextConfig:d.request.nextConfig,signal:d.request.signal}});ee&&Object.defineProperty(F,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCache&&d.IncrementalCache&&(globalThis.__incrementalCache=new d.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:void 0,dev:!1,requestHeaders:d.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:{previewModeId:"development-id"}})}));let te=new U({request:F,page:d.page});if((u=await Se(F,()=>d.page==="/middleware"||d.page==="/src/middleware"?ie.B.wrap(z.F,{req:F,renderOpts:{onUpdateCookies:ge=>{p=ge},previewProps:w?.preview||{previewModeId:"development-id",previewModeEncryptionKey:"",previewModeSigningKey:""}}},()=>d.handler(F,te)):d.handler(F,te)))&&!(u instanceof Response))throw TypeError("Expected an instance of Response to be returned");u&&p&&u.headers.set("set-cookie",p);let oe=u?.headers.get("x-middleware-rewrite");if(u&&oe){let ge=new j.c(oe,{forceLocale:!0,headers:d.request.headers,nextConfig:d.request.nextConfig});ge.host===F.nextUrl.host&&(ge.buildId=q||ge.buildId,u.headers.set("x-middleware-rewrite",String(ge)));let ve=G(String(ge),String(M));ee&&u.headers.set("x-nextjs-rewrite",ve)}let xe=u?.headers.get("Location");if(u&&xe&&!R){let ge=new j.c(xe,{forceLocale:!1,headers:d.request.headers,nextConfig:d.request.nextConfig});u=new Response(u.body,u),ge.host===F.nextUrl.host&&(ge.buildId=q||ge.buildId,u.headers.set("Location",String(ge))),ee&&(u.headers.delete("Location"),u.headers.set("x-nextjs-redirect",G(String(ge),String(M))))}let Ae=u||se.next(),we=Ae.headers.get("x-middleware-override-headers"),Qe=[];if(we){for(let[ge,ve]of $)Ae.headers.set(`x-middleware-request-${ge}`,ve),Qe.push(ge);Qe.length>0&&Ae.headers.set("x-middleware-override-headers",we+","+Qe.join(","))}return{response:Ae,waitUntil:Promise.all(te[C]),fetchMetrics:F.fetchMetrics}}var ke=S(834),Oe=S.n(ke);let Q=0,x="x-vercel-cache-tags",k="x-vercel-sc-headers",V="x-vercel-revalidate",le="x-vercel-cache-item-name";class ne{static isAvailable(u){return!!(u._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL)}constructor(u){if(this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,this.headers={},this.headers["Content-Type"]="application/json",k in u._requestHeaders){let w=JSON.parse(u._requestHeaders[k]);for(let M in w)this.headers[M]=w[M];delete u._requestHeaders[k]}let p=u._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL,R=u._requestHeaders["x-vercel-sc-basepath"]||process.env.SUSPENSE_CACHE_BASEPATH;process.env.SUSPENSE_CACHE_AUTH_TOKEN&&(this.headers.Authorization=`Bearer ${process.env.SUSPENSE_CACHE_AUTH_TOKEN}`),p?(this.cacheEndpoint=`https://${p}${R||""}`,this.debug&&console.log("using cache endpoint",this.cacheEndpoint)):this.debug&&console.log("no cache endpoint available"),u.maxMemoryCacheSize?O||(this.debug&&console.log("using memory store for fetch cache"),O=new(Oe())({max:u.maxMemoryCacheSize,length({value:w}){var M;if(!w)return 25;if(w.kind==="REDIRECT")return JSON.stringify(w.props).length;if(w.kind==="IMAGE")throw Error("invariant image should not be incremental-cache");return w.kind==="FETCH"?JSON.stringify(w.data||"").length:w.kind==="ROUTE"?w.body.length:w.html.length+(((M=JSON.stringify(w.pageData))==null?void 0:M.length)||0)}})):this.debug&&console.log("not using memory store for fetch cache")}async revalidateTag(u){if(this.debug&&console.log("revalidateTag",u),Date.now()<Q){this.debug&&console.log("rate limited ",Q);return}try{let p=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/revalidate?tags=${u}`,{method:"POST",headers:this.headers,next:{internal:!0}});if(p.status===429){let R=p.headers.get("retry-after")||"60000";Q=Date.now()+parseInt(R)}if(!p.ok)throw Error(`Request failed with status ${p.status}.`)}catch(p){console.warn(`Failed to revalidate tag ${u}`,p)}}async get(...u){let[p,R={}]=u,{tags:w,softTags:M,kindHint:q,fetchIdx:ee,fetchUrl:Z}=R;if(q!=="fetch")return null;if(Date.now()<Q)return this.debug&&console.log("rate limited"),null;let $=O?.get(p);if(Date.now()-($?.lastModified||0)>2e3&&($=void 0),!$&&this.cacheEndpoint)try{let F=Date.now(),te=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${p}`,{method:"GET",headers:{...this.headers,[le]:Z,[x]:w?.join(",")||"",[W.Ar]:M?.join(",")||""},next:{internal:!0,fetchType:"cache-get",fetchUrl:Z,fetchIdx:ee}});if(te.status===429){let we=te.headers.get("retry-after")||"60000";Q=Date.now()+parseInt(we)}if(te.status===404)return this.debug&&console.log(`no fetch cache entry for ${p}, duration: ${Date.now()-F}ms`),null;if(!te.ok)throw console.error(await te.text()),Error(`invalid response from cache ${te.status}`);let oe=await te.json();if(!oe||oe.kind!=="FETCH")throw this.debug&&console.log({cached:oe}),Error("invalid cache value");let xe=te.headers.get("x-vercel-cache-state"),Ae=te.headers.get("age");$={value:oe,lastModified:xe!=="fresh"?Date.now()-W.BR:Date.now()-1e3*parseInt(Ae||"0",10)},this.debug&&console.log(`got fetch cache entry for ${p}, duration: ${Date.now()-F}ms, size: ${Object.keys(oe).length}, cache-state: ${xe} tags: ${w?.join(",")} softTags: ${M?.join(",")}`),$&&O?.set(p,$)}catch(F){this.debug&&console.error("Failed to get from fetch-cache",F)}return $||null}async set(...u){let[p,R,w]=u,{fetchCache:M,fetchIdx:q,fetchUrl:ee,tags:Z}=w;if(M){if(Date.now()<Q){this.debug&&console.log("rate limited");return}if(O?.set(p,{value:R,lastModified:Date.now()}),this.cacheEndpoint)try{let $=Date.now();R!==null&&"revalidate"in R&&(this.headers[V]=R.revalidate.toString()),!this.headers[V]&&R!==null&&"data"in R&&(this.headers["x-vercel-cache-control"]=R.data.headers["cache-control"]);let F=JSON.stringify({...R,tags:void 0});this.debug&&console.log("set cache",p);let te=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${p}`,{method:"POST",headers:{...this.headers,[le]:ee||"",[x]:Z?.join(",")||""},body:F,next:{internal:!0,fetchType:"cache-set",fetchUrl:ee,fetchIdx:q}});if(te.status===429){let oe=te.headers.get("retry-after")||"60000";Q=Date.now()+parseInt(oe)}if(!te.ok)throw this.debug&&console.log(await te.text()),Error(`invalid response ${te.status}`);this.debug&&console.log(`successfully set to fetch-cache for ${p}, duration: ${Date.now()-$}ms, size: ${F.length}`)}catch($){this.debug&&console.error("Failed to update fetch cache",$)}}}}var fe=S(62),Y=S.n(fe);class Re{constructor(u){this.fs=u.fs,this.flushToDisk=u.flushToDisk,this.serverDistDir=u.serverDistDir,this.appDir=!!u._appDir,this.pagesDir=!!u._pagesDir,this.revalidatedTags=u.revalidatedTags,this.experimental=u.experimental,this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,u.maxMemoryCacheSize&&!v?(this.debug&&console.log("using memory store for fetch cache"),v=new(Oe())({max:u.maxMemoryCacheSize,length({value:p}){var R;if(!p)return 25;if(p.kind==="REDIRECT")return JSON.stringify(p.props).length;if(p.kind==="IMAGE")throw Error("invariant image should not be incremental-cache");return p.kind==="FETCH"?JSON.stringify(p.data||"").length:p.kind==="ROUTE"?p.body.length:p.html.length+(((R=JSON.stringify(p.pageData))==null?void 0:R.length)||0)}})):this.debug&&console.log("not using memory store for fetch cache"),this.serverDistDir&&this.fs&&(this.tagsManifestPath=Y().join(this.serverDistDir,"..","cache","fetch-cache","tags-manifest.json"),this.loadTagsManifest())}loadTagsManifest(){if(this.tagsManifestPath&&this.fs&&!f){try{f=JSON.parse(this.fs.readFileSync(this.tagsManifestPath,"utf8"))}catch{f={version:1,items:{}}}this.debug&&console.log("loadTagsManifest",f)}}async revalidateTag(u){if(this.debug&&console.log("revalidateTag",u),this.loadTagsManifest(),!f||!this.tagsManifestPath)return;let p=f.items[u]||{};p.revalidatedAt=Date.now(),f.items[u]=p;try{await this.fs.mkdir(Y().dirname(this.tagsManifestPath)),await this.fs.writeFile(this.tagsManifestPath,JSON.stringify(f||{})),this.debug&&console.log("Updated tags manifest",f)}catch(R){console.warn("Failed to update tags manifest.",R)}}async get(...u){var p,R,w;let[M,q={}]=u,{tags:ee,softTags:Z,kindHint:$}=q,F=v?.get(M);if(this.debug&&console.log("get",M,ee,$,!!F),(F==null||(p=F.value)==null?void 0:p.kind)==="PAGE"){let te,oe=(w=F.value.headers)==null?void 0:w[W.Et];typeof oe=="string"&&(te=oe.split(",")),te?.length&&(this.loadTagsManifest(),te.some(xe=>{var Ae;return(f==null||(Ae=f.items[xe])==null?void 0:Ae.revalidatedAt)&&f?.items[xe].revalidatedAt>=(F?.lastModified||Date.now())})&&(F=void 0))}return F&&(F==null||(R=F.value)==null?void 0:R.kind)==="FETCH"&&(this.loadTagsManifest(),[...ee||[],...Z||[]].some(te=>{var oe;return!!this.revalidatedTags.includes(te)||(f==null||(oe=f.items[te])==null?void 0:oe.revalidatedAt)&&f?.items[te].revalidatedAt>=(F?.lastModified||Date.now())})&&(F=void 0)),F??null}async set(...u){let[p,R,w]=u;if(v?.set(p,{value:R,lastModified:Date.now()}),this.debug&&console.log("set",p),this.flushToDisk){if(R?.kind==="ROUTE"){let M=this.getFilePath(`${p}.body`,"app");await this.fs.mkdir(Y().dirname(M)),await this.fs.writeFile(M,R.body);let q={headers:R.headers,status:R.status,postponed:void 0};await this.fs.writeFile(M.replace(/\.body$/,W.EX),JSON.stringify(q,null,2));return}if(R?.kind==="PAGE"){let M=typeof R.pageData=="string",q=this.getFilePath(`${p}.html`,M?"app":"pages");if(await this.fs.mkdir(Y().dirname(q)),await this.fs.writeFile(q,R.html),await this.fs.writeFile(this.getFilePath(`${p}${M?this.experimental.ppr?W.Sx:W.hd:W.JT}`,M?"app":"pages"),M?R.pageData:JSON.stringify(R.pageData)),R.headers||R.status){let ee={headers:R.headers,status:R.status,postponed:R.postponed};await this.fs.writeFile(q.replace(/\.html$/,W.EX),JSON.stringify(ee))}}else if(R?.kind==="FETCH"){let M=this.getFilePath(p,"fetch");await this.fs.mkdir(Y().dirname(M)),await this.fs.writeFile(M,JSON.stringify({...R,tags:w.tags}))}}}detectFileKind(u){if(!this.appDir&&!this.pagesDir)throw Error("Invariant: Can't determine file path kind, no page directory enabled");if(!this.appDir&&this.pagesDir)return"pages";if(this.appDir&&!this.pagesDir)return"app";let p=this.getFilePath(u,"pages");if(this.fs.existsSync(p))return"pages";if(p=this.getFilePath(u,"app"),this.fs.existsSync(p))return"app";throw Error(`Invariant: Unable to determine file path kind for ${u}`)}getFilePath(u,p){switch(p){case"fetch":return Y().join(this.serverDistDir,"..","cache","fetch-cache",u);case"pages":return Y().join(this.serverDistDir,"pages",u);case"app":return Y().join(this.serverDistDir,"app",u);default:throw Error("Invariant: Can't determine file path kind")}}}let Me=["(..)(..)","(.)","(..)","(...)"];function Je(d){return d.split("/").find(u=>Me.find(p=>u.startsWith(p)))!==void 0}let je=/\/\[[^/]+?\](?=\/|$)/;function Ue(d){return Je(d)&&(d=function(u){let p,R,w;for(let M of u.split("/"))if(R=Me.find(q=>M.startsWith(q))){[p,w]=u.split(R,2);break}if(!p||!R||!w)throw Error(`Invalid interception route: ${u}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(p=K(p.split("/").reduce((M,q,ee,Z)=>q?q[0]==="("&&q.endsWith(")")||q[0]==="@"||(q==="page"||q==="route")&&ee===Z.length-1?M:M+"/"+q:M,"")),R){case"(.)":w=p==="/"?`/${w}`:p+"/"+w;break;case"(..)":if(p==="/")throw Error(`Invalid interception route: ${u}. Cannot use (..) marker at the root level, use (.) instead.`);w=p.split("/").slice(0,-1).concat(w).join("/");break;case"(...)":w="/"+w;break;case"(..)(..)":let M=p.split("/");if(M.length<=2)throw Error(`Invalid interception route: ${u}. Cannot use (..)(..) marker at the root level or one level up.`);w=M.slice(0,-2).concat(w).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:p,interceptedRoute:w}}(d).interceptedRoute),je.test(d)}typeof performance<"u"&&["mark","measure","getEntriesByName"].every(d=>typeof performance[d]=="function");class Ve extends Error{}function tt(d){return/^\/index(\/|$)/.test(d)&&!Ue(d)?"/index"+d:d==="/"?"/index":K(d)}function Ie(d){return d.replace(/\/$/,"").replace(/\/index$/,"")||"/"}class st{constructor({fs:u,dev:p,appDir:R,pagesDir:w,flushToDisk:M,fetchCache:q,minimalMode:ee,serverDistDir:Z,requestHeaders:$,requestProtocol:F,maxMemoryCacheSize:te,getPrerenderManifest:oe,fetchCacheKeyPrefix:xe,CurCacheHandler:Ae,allowedRevalidateHeaderKeys:we,experimental:Qe}){var ge,ve,Te,he;this.locks=new Map,this.unlocks=new Map;let ye=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;Ae?ye&&console.log("using custom cache handler",Ae.name):(u&&Z&&(ye&&console.log("using filesystem cache handler"),Ae=Re),ne.isAvailable({_requestHeaders:$})&&ee&&q&&(ye&&console.log("using fetch cache handler"),Ae=ne)),process.env.__NEXT_TEST_MAX_ISR_CACHE&&(te=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=p,this.minimalMode=ee,this.requestHeaders=$,this.requestProtocol=F,this.allowedRevalidateHeaderKeys=we,this.prerenderManifest=oe(),this.fetchCacheKeyPrefix=xe;let Le=[];$[W.y3]===((ve=this.prerenderManifest)==null||(ge=ve.preview)==null?void 0:ge.previewModeId)&&(this.isOnDemandRevalidate=!0),ee&&typeof $[W.of]=="string"&&$[W.X_]===((he=this.prerenderManifest)==null||(Te=he.preview)==null?void 0:Te.previewModeId)&&(Le=$[W.of].split(",")),Ae&&(this.cacheHandler=new Ae({dev:p,fs:u,flushToDisk:M,serverDistDir:Z,revalidatedTags:Le,maxMemoryCacheSize:te,_pagesDir:!!w,_appDir:!!R,_requestHeaders:$,fetchCacheKeyPrefix:xe,experimental:Qe}))}calculateRevalidate(u,p,R){if(R)return new Date().getTime()-1e3;let{initialRevalidateSeconds:w}=this.prerenderManifest.routes[Ie(u)]||{initialRevalidateSeconds:1};return typeof w=="number"?1e3*w+p:w}_getPathname(u,p){return p?u:tt(u)}async unlock(u){let p=this.unlocks.get(u);p&&(p(),this.locks.delete(u),this.unlocks.delete(u))}async lock(u){process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY;let p=()=>Promise.resolve(),R=this.locks.get(u);if(R)await R;else{let w=new Promise(M=>{p=async()=>{M()}});this.locks.set(u,w),this.unlocks.set(u,p)}return p}async revalidateTag(u){var p,R;return process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,(R=this.cacheHandler)==null||(p=R.revalidateTag)==null?void 0:p.call(R,u)}async fetchCacheKey(u,p={}){let R,w=[],M=new TextEncoder,q=new TextDecoder;if(p.body)if(typeof p.body.getReader=="function"){let $=p.body,F=[];try{await $.pipeTo(new WritableStream({write(Ae){typeof Ae=="string"?(F.push(M.encode(Ae)),w.push(Ae)):(F.push(Ae),w.push(q.decode(Ae,{stream:!0})))}})),w.push(q.decode());let te=F.reduce((Ae,we)=>Ae+we.length,0),oe=new Uint8Array(te),xe=0;for(let Ae of F)oe.set(Ae,xe),xe+=Ae.length;p._ogBody=oe}catch(te){console.error("Problem reading body",te)}}else if(typeof p.body.keys=="function"){let $=p.body;for(let F of(p._ogBody=p.body,new Set([...$.keys()]))){let te=$.getAll(F);w.push(`${F}=${(await Promise.all(te.map(async oe=>typeof oe=="string"?oe:await oe.text()))).join(",")}`)}}else if(typeof p.body.arrayBuffer=="function"){let $=p.body,F=await $.arrayBuffer();w.push(await $.text()),p._ogBody=new Blob([F],{type:$.type})}else typeof p.body=="string"&&(w.push(p.body),p._ogBody=p.body);let ee=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",u,p.method,typeof(p.headers||{}).keys=="function"?Object.fromEntries(p.headers):p.headers,p.mode,p.redirect,p.credentials,p.referrer,p.referrerPolicy,p.integrity,p.cache,w]);{var Z;let $=M.encode(ee);Z=await crypto.subtle.digest("SHA-256",$),R=Array.prototype.map.call(new Uint8Array(Z),F=>F.toString(16).padStart(2,"0")).join("")}return R}async get(u,p={}){var R,w,M;let q,ee;if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.dev&&(p.kindHint!=="fetch"||this.requestHeaders["cache-control"]==="no-cache"))return null;u=this._getPathname(u,p.kindHint==="fetch");let Z=null,$=p.revalidate,F=await((R=this.cacheHandler)==null?void 0:R.get(u,p));if((F==null||(w=F.value)==null?void 0:w.kind)==="FETCH")return[...p.tags||[],...p.softTags||[]].some(oe=>{var xe;return(xe=this.revalidatedTags)==null?void 0:xe.includes(oe)})?null:($=$||F.value.revalidate,{isStale:(Date.now()-(F.lastModified||0))/1e3>$,value:{kind:"FETCH",data:F.value.data,revalidate:$},revalidateAfter:Date.now()+1e3*$});let te=(M=this.prerenderManifest.routes[Ie(u)])==null?void 0:M.initialRevalidateSeconds;return F?.lastModified===-1?(q=-1,ee=-1*W.BR):q=(ee=this.calculateRevalidate(u,F?.lastModified||Date.now(),this.dev&&p.kindHint!=="fetch"))!==!1&&ee<Date.now()||void 0,F&&(Z={isStale:q,curRevalidate:te,revalidateAfter:ee,value:F.value}),!F&&this.prerenderManifest.notFoundRoutes.includes(u)&&(Z={isStale:q,value:null,curRevalidate:te,revalidateAfter:ee},this.set(u,Z.value,p)),Z}async set(u,p,R){if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,!this.dev||R.fetchCache){if(R.fetchCache&&JSON.stringify(p).length>2097152){if(this.dev)throw Error("fetch for over 2MB of data can not be cached");return}u=this._getPathname(u,R.fetchCache);try{var w;R.revalidate===void 0||R.fetchCache||(this.prerenderManifest.routes[u]={experimentalPPR:void 0,dataRoute:Y().posix.join("/_next/data",`${tt(u)}.json`),srcRoute:null,initialRevalidateSeconds:R.revalidate,prefetchDataRoute:void 0}),await((w=this.cacheHandler)==null?void 0:w.set(u,p,R))}catch(M){console.warn("Failed to update prerender cache for",u,M)}}}}function ot(d){let{re:u,groups:p}=d;return R=>{let w=u.exec(R);if(!w)return!1;let M=ee=>{try{return decodeURIComponent(ee)}catch{throw new Ve("failed to decode param")}},q={};return Object.keys(p).forEach(ee=>{let Z=p[ee],$=w[Z.pos];$!==void 0&&(q[ee]=~$.indexOf("/")?$.split("/").map(F=>M(F)):Z.repeat?[M($)]:M($))}),q}}let Tt=/[|\\{}()[\]^$+*?.-]/,Be=/[|\\{}()[\]^$+*?.-]/g;function He(d){return Tt.test(d)?d.replace(Be,"\\$&"):d}var Xe=S(274);function nt(d){let u=d.startsWith("[")&&d.endsWith("]");u&&(d=d.slice(1,-1));let p=d.startsWith("...");return p&&(d=d.slice(3)),{key:d,repeat:p,optional:u}}function kt(d){let{parameterizedRoute:u,groups:p}=function(R){let w=(0,Xe.Q)(R).slice(1).split("/"),M={},q=1;return{parameterizedRoute:w.map(ee=>{let Z=Me.find(F=>ee.startsWith(F)),$=ee.match(/\[((?:\[.*\])|.+)\]/);if(Z&&$){let{key:F,optional:te,repeat:oe}=nt($[1]);return M[F]={pos:q++,repeat:oe,optional:te},"/"+He(Z)+"([^/]+?)"}if(!$)return"/"+He(ee);{let{key:F,repeat:te,optional:oe}=nt($[1]);return M[F]={pos:q++,repeat:te,optional:oe},te?oe?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:M}}(d);return{re:RegExp("^"+u+"(?:/)?$"),groups:p}}function Ut(d){let{interceptionMarker:u,getSafeRouteKey:p,segment:R,routeKeys:w,keyPrefix:M}=d,{key:q,optional:ee,repeat:Z}=nt(R),$=q.replace(/\W/g,"");M&&($=""+M+$);let F=!1;($.length===0||$.length>30)&&(F=!0),isNaN(parseInt($.slice(0,1)))||(F=!0),F&&($=p()),M?w[$]=""+M+q:w[$]=q;let te=u?He(u):"";return Z?ee?"(?:/"+te+"(?<"+$+">.+?))?":"/"+te+"(?<"+$+">.+?)":"/"+te+"(?<"+$+">[^/]+?)"}class ar{constructor(u){this.definition=u,Ue(u.pathname)&&(this.dynamic=ot(kt(u.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return this.dynamic!==void 0}match(u){let p=this.test(u);return p?{definition:this.definition,params:p.params}:null}test(u){if(this.dynamic){let p=this.dynamic(u);return p?{params:p}:null}return u===this.definition.pathname?{}:null}}let Ht=Symbol.for("__next_internal_waitUntil__"),sr=globalThis[Ht]||(globalThis[Ht]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var Bt=S(25),or=S(823),lt=S(752);function xt(d){let u={};return d.forEach((p,R)=>{u[R]===void 0?u[R]=p:Array.isArray(u[R])?u[R].push(p):u[R]=[u[R],p]}),u}function Pt(d){return d.replace(/__ESC_COLON_/gi,":")}function jt(d,u){if(!d.includes(":"))return d;for(let p of Object.keys(u))d.includes(":"+p)&&(d=d.replace(RegExp(":"+p+"\\*","g"),":"+p+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+p+"\\?","g"),":"+p+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+p+"\\+","g"),":"+p+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+p+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+p));return d=d.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,lt.MY)("/"+d,{validate:!1})(u).slice(1)}class wt{constructor(u){this.routeModule=u,this.matcher=new ar(u.definition)}static wrap(u,p={}){let R=new wt(u);return w=>et({...w,...p,IncrementalCache:st,handler:R.handler.bind(R)})}async handler(u,p){let{params:R}=function({page:Z,i18n:$,basePath:F,rewrites:te,pageIsDynamic:oe,trailingSlash:xe,caseSensitive:Ae}){let we,Qe,ge;return oe&&(ge=(Qe=ot(we=function(ve,Te){let he=function(ye,Le){let Ce,be=(0,Xe.Q)(ye).slice(1).split("/"),Ne=(Ce=0,()=>{let de="",me=++Ce;for(;me>0;)de+=String.fromCharCode(97+(me-1)%26),me=Math.floor((me-1)/26);return de}),ae={};return{namedParameterizedRoute:be.map(de=>{let me=Me.some(_e=>de.startsWith(_e)),ce=de.match(/\[((?:\[.*\])|.+)\]/);if(me&&ce){let[_e]=de.split(ce[0]);return Ut({getSafeRouteKey:Ne,interceptionMarker:_e,segment:ce[1],routeKeys:ae,keyPrefix:Le?"nxtI":void 0})}return ce?Ut({getSafeRouteKey:Ne,segment:ce[1],routeKeys:ae,keyPrefix:Le?"nxtP":void 0}):"/"+He(de)}).join(""),routeKeys:ae}}(ve,Te);return{...kt(ve),namedRegex:"^"+he.namedParameterizedRoute+"(?:/)?$",routeKeys:he.routeKeys}}(Z,!1)))(Z)),{handleRewrites:function(ve,Te){let he={},ye=Te.pathname,Le=Ce=>{let be=function(Ne,ae){let de=[],me=(0,lt.Bo)(Ne,de,{delimiter:"/",sensitive:typeof ae?.sensitive=="boolean"&&ae.sensitive,strict:ae?.strict}),ce=(0,lt.WS)(ae?.regexModifier?new RegExp(ae.regexModifier(me.source),me.flags):me,de);return(_e,$e)=>{if(typeof _e!="string")return!1;let Ge=ce(_e);if(!Ge)return!1;if(ae?.removeUnnamedParams)for(let Ke of de)typeof Ke.name=="number"&&delete Ge.params[Ke.name];return{...$e,...Ge.params}}}(Ce.source+(xe?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!Ae})(Te.pathname);if((Ce.has||Ce.missing)&&be){let Ne=function(ae,de,me,ce){me===void 0&&(me=[]),ce===void 0&&(ce=[]);let _e={},$e=Ge=>{let Ke,it=Ge.key;switch(Ge.type){case"header":it=it.toLowerCase(),Ke=ae.headers[it];break;case"cookie":if("cookies"in ae)Ke=ae.cookies[Ge.key];else{var St;Ke=(St=ae.headers,function(){let{cookie:Ye}=St;if(!Ye)return{};let{parse:Ze}=S(577);return Ze(Array.isArray(Ye)?Ye.join("; "):Ye)})()[Ge.key]}break;case"query":Ke=de[it];break;case"host":{let{host:Ye}=ae?.headers||{};Ke=Ye?.split(":",1)[0].toLowerCase()}}if(!Ge.value&&Ke)return _e[function(Ye){let Ze="";for(let at=0;at<Ye.length;at++){let ht=Ye.charCodeAt(at);(ht>64&&ht<91||ht>96&&ht<123)&&(Ze+=Ye[at])}return Ze}(it)]=Ke,!0;if(Ke){let Ye=RegExp("^"+Ge.value+"$"),Ze=Array.isArray(Ke)?Ke.slice(-1)[0].match(Ye):Ke.match(Ye);if(Ze)return Array.isArray(Ze)&&(Ze.groups?Object.keys(Ze.groups).forEach(at=>{_e[at]=Ze.groups[at]}):Ge.type==="host"&&Ze[0]&&(_e.host=Ze[0])),!0}return!1};return!!me.every(Ge=>$e(Ge))&&!ce.some(Ge=>$e(Ge))&&_e}(ve,Te.query,Ce.has,Ce.missing);Ne?Object.assign(be,Ne):be=!1}if(be){let{parsedDestination:Ne,destQuery:ae}=function(de){let me,ce=Object.assign({},de.query);delete ce.__nextLocale,delete ce.__nextDefaultLocale,delete ce.__nextDataReq,delete ce.__nextInferredLocaleFromDefault,delete ce[ue.H4];let _e=de.destination;for(let De of Object.keys({...de.params,...ce}))_e=_e.replace(RegExp(":"+He(De),"g"),"__ESC_COLON_"+De);let $e=function(De){if(De.startsWith("/"))return function(ct,Qt){let _t=new URL("http://n"),Kr=Qt?new URL(Qt,_t):ct.startsWith(".")?new URL("http://n"):_t,{pathname:qr,searchParams:Wr,search:Vr,hash:Yr,href:Jr,origin:Xr}=new URL(ct,Kr);if(Xr!==_t.origin)throw Error("invariant: invalid relative URL, router received "+ct);return{pathname:qr,query:xt(Wr),search:Vr,hash:Yr,href:Jr.slice(_t.origin.length)}}(De);let qe=new URL(De);return{hash:qe.hash,hostname:qe.hostname,href:qe.href,pathname:qe.pathname,port:qe.port,protocol:qe.protocol,query:xt(qe.searchParams),search:qe.search}}(_e),Ge=$e.query,Ke=Pt(""+$e.pathname+($e.hash||"")),it=Pt($e.hostname||""),St=[],Ye=[];(0,lt.Bo)(Ke,St),(0,lt.Bo)(it,Ye);let Ze=[];St.forEach(De=>Ze.push(De.name)),Ye.forEach(De=>Ze.push(De.name));let at=(0,lt.MY)(Ke,{validate:!1}),ht=(0,lt.MY)(it,{validate:!1});for(let[De,qe]of Object.entries(Ge))Array.isArray(qe)?Ge[De]=qe.map(ct=>jt(Pt(ct),de.params)):typeof qe=="string"&&(Ge[De]=jt(Pt(qe),de.params));let zt=Object.keys(de.params).filter(De=>De!=="nextInternalLocale");if(de.appendParamsToQuery&&!zt.some(De=>Ze.includes(De)))for(let De of zt)De in Ge||(Ge[De]=de.params[De]);if(Je(Ke))for(let De of Ke.split("/")){let qe=Me.find(ct=>De.startsWith(ct));if(qe){de.params[0]=qe;break}}try{let[De,qe]=(me=at(de.params)).split("#",2);$e.hostname=ht(de.params),$e.pathname=De,$e.hash=(qe?"#":"")+(qe||""),delete $e.search}catch(De){throw De.message.match(/Expected .*? to not repeat, but got an array/)?Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"):De}return $e.query={...ce,...$e.query},{newUrl:me,destQuery:Ge,parsedDestination:$e}}({appendParamsToQuery:!0,destination:Ce.destination,params:be,query:Te.query});if(Ne.protocol)return!0;if(Object.assign(he,ae,be),Object.assign(Te.query,Ne.query),delete Ne.query,Object.assign(Te,Ne),ye=Te.pathname,F&&(ye=ye.replace(RegExp(`^${F}`),"")||"/"),$){let de=(0,or.h)(ye,$.locales);ye=de.pathname,Te.query.nextInternalLocale=de.detectedLocale||be.nextInternalLocale}if(ye===Z)return!0;if(oe&&Qe){let de=Qe(ye);if(de)return Te.query={...Te.query,...de},!0}}return!1};for(let Ce of te.beforeFiles||[])Le(Ce);if(ye!==Z){let Ce=!1;for(let be of te.afterFiles||[])if(Ce=Le(be))break;if(!Ce&&!(()=>{let be=(0,Xe.Q)(ye||"");return be===(0,Xe.Q)(Z)||Qe?.(be)})()){for(let be of te.fallback||[])if(Ce=Le(be))break}}return he},defaultRouteRegex:we,dynamicRouteMatcher:Qe,defaultRouteMatches:ge,getParamsFromRouteMatches:function(ve,Te,he){return ot(function(){let{groups:ye,routeKeys:Le}=we;return{re:{exec:Ce=>{let be=Object.fromEntries(new URLSearchParams(Ce)),Ne=$&&he&&be[1]===he;for(let me of Object.keys(be)){let ce=be[me];me!==W.dN&&me.startsWith(W.dN)&&(be[me.substring(W.dN.length)]=ce,delete be[me])}let ae=Object.keys(Le||{}),de=me=>{if($){let ce=Array.isArray(me),_e=ce?me[0]:me;if(typeof _e=="string"&&$.locales.some($e=>$e.toLowerCase()===_e.toLowerCase()&&(he=$e,Te.locale=he,!0)))return ce&&me.splice(0,1),!ce||me.length===0}return!1};return ae.every(me=>be[me])?ae.reduce((me,ce)=>{let _e=Le?.[ce];return _e&&!de(be[ce])&&(me[ye[_e].pos]=be[ce]),me},{}):Object.keys(be).reduce((me,ce)=>{if(!de(be[ce])){let _e=ce;return Ne&&(_e=parseInt(ce,10)-1+""),Object.assign(me,{[_e]:be[ce]})}return me},{})}},groups:ye}}())(ve.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(ve,Te)=>{var he,ye,Le;let Ce;return he=ve,ye=we,Le=ge,Ce=!0,ye?{params:he=Object.keys(ye.groups).reduce((be,Ne)=>{let ae=he[Ne];typeof ae=="string"&&(ae=X(ae)),Array.isArray(ae)&&(ae=ae.map(ce=>(typeof ce=="string"&&(ce=X(ce)),ce)));let de=Le[Ne],me=ye.groups[Ne].optional;return((Array.isArray(de)?de.some(ce=>Array.isArray(ae)?ae.some(_e=>_e.includes(ce)):ae?.includes(ce)):ae?.includes(de))||ae===void 0&&!(me&&Te))&&(Ce=!1),me&&(!ae||Array.isArray(ae)&&ae.length===1&&(ae[0]==="index"||ae[0]===`[[...${Ne}]]`))&&(ae=void 0,delete he[Ne]),ae&&typeof ae=="string"&&ye.groups[Ne].repeat&&(ae=ae.split("/")),ae&&(be[Ne]=ae),be},{}),hasValidParams:Ce}:{params:he,hasValidParams:!1}},normalizeVercelUrl:(ve,Te,he)=>function(ye,Le,Ce,be,Ne){if(be&&Le&&Ne){let ae=(0,Bt.parse)(ye.url,!0);for(let de of(delete ae.search,Object.keys(ae.query)))(de!==W.dN&&de.startsWith(W.dN)||(Ce||Object.keys(Ne.groups)).includes(de))&&delete ae.query[de];ye.url=(0,Bt.format)(ae)}}(ve,Te,he,oe,we),interpolateDynamicPath:(ve,Te)=>function(he,ye,Le){if(!Le)return he;for(let Ce of Object.keys(Le.groups)){let{optional:be,repeat:Ne}=Le.groups[Ce],ae=`[${Ne?"...":""}${Ce}]`;be&&(ae=`[${ae}]`);let de=he.indexOf(ae);if(de>-1){let me,ce=ye[Ce];me=Array.isArray(ce)?ce.map(_e=>_e&&encodeURIComponent(_e)).join("/"):ce?encodeURIComponent(ce):"",he=he.slice(0,de)+me+he.slice(de+ae.length)}}return he}(ve,Te,we)}}({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:u.nextUrl.basePath,rewrites:{},caseSensitive:!1}).normalizeDynamicRouteParams(xt(u.nextUrl.searchParams)),w=typeof self.__PRERENDER_MANIFEST=="string"?JSON.parse(self.__PRERENDER_MANIFEST):void 0,M={params:R,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:w?.preview||{previewModeEncryptionKey:"",previewModeId:"development-id",previewModeSigningKey:""},notFoundRoutes:[]},renderOpts:{supportsDynamicHTML:!0,experimental:{ppr:!1}}},q=await this.routeModule.handle(u,M),ee=[sr.waitUntilPromise];return M.renderOpts.waitUntil&&ee.push(M.renderOpts.waitUntil),p.waitUntil(Promise.all(ee)),q}}var ir=S(381);(function(d){d.PAGES="PAGES",d.PAGES_API="PAGES_API",d.APP_PAGE="APP_PAGE",d.APP_ROUTE="APP_ROUTE"})(m||(m={}));var lr=S(845);(function(d){d.String="str",d.Bool="bool",d.Float16="float16",d.Float32="float32",d.Int16="int16",d.Int32="int32",d.Int64="int64",d.Int8="int8",d.Uint16="uint16",d.Uint32="uint32",d.Uint64="uint64",d.Uint8="uint8"})(c||(c={}));let Lt=Object.getPrototypeOf(Uint8Array);function ft(d){return Array.isArray(d)||d instanceof Lt}function Gt(d){return d instanceof Lt?d.length:d.flat(1/0).reduce((u,p)=>u+(p instanceof Lt?p.length:1),0)}class ze{constructor(u,p,R={}){this.type=u,this.value=p,function w(M,q){if(ft(q)){q.forEach(ee=>w(M,ee));return}switch(M){case c.Bool:if(typeof q=="boolean")return;break;case c.Float16:case c.Float32:if(typeof q=="number")return;break;case c.Int8:case c.Uint8:case c.Int16:case c.Uint16:case c.Int32:case c.Uint32:if(Number.isInteger(q))return;break;case c.Int64:case c.Uint64:if(typeof q=="bigint")return;break;case c.String:if(typeof q=="string")return}throw Error(`unexpected type "${M}" with value "${q}".`)}(u,this.value),R.shape===void 0?ft(this.value)?this.shape=[Gt(p)]:this.shape=[]:this.shape=R.shape,function(w,M){if(w.length===0&&!ft(M))return;let q=w.reduce((ee,Z)=>{if(!Number.isInteger(Z))throw Error(`expected shape to be array-like of integers but found non-integer element "${Z}"`);return ee*Z},1);if(q!=Gt(M))throw Error(`invalid shape: expected ${q} elements for shape ${w} but value array has length ${M.length}`)}(this.shape,this.value),this.name=R.name||null}static fromJSON(u){let{type:p,shape:R,value:w,b64Value:M,name:q}=u,ee={shape:R,name:q};if(M===void 0)return new ze(p,function Z($,F){if(ft(F))return F.map(te=>Z($,te));switch($){case c.String:case c.Bool:case c.Float16:case c.Float32:case c.Int8:case c.Uint8:case c.Int16:case c.Uint16:case c.Uint32:case c.Int32:return F;case c.Int64:case c.Uint64:return BigInt(F)}throw Error(`unexpected type "${$}" with value "${F}".`)}(p,w),ee);{let Z=function($,F){let te=atob($),oe=new Uint8Array(te.length);for(let Ae=0;Ae<te.length;Ae++)oe[Ae]=te.charCodeAt(Ae);let xe=new DataView(oe.buffer).buffer;switch(F){case"float32":return new Float32Array(xe);case"float64":return new Float64Array(xe);case"int32":return new Int32Array(xe);case"int64":return new BigInt64Array(xe);default:throw Error(`invalid data type for base64 input: ${F}`)}}(M,p)[0];return new ze(p,Z,ee)}}toJSON(){return{type:this.type,shape:this.shape,name:this.name,value:function u(p,R){if(ft(R))return[...R].map(w=>u(p,w));switch(p){case c.String:case c.Bool:case c.Float16:case c.Float32:case c.Int8:case c.Uint8:case c.Int16:case c.Uint16:case c.Uint32:case c.Int32:return R;case c.Int64:case c.Uint64:return R.toString()}throw Error(`unexpected type "${p}" with value "${R}".`)}(this.type,this.value)}}}var ur=S(61),Ft=S.t(ur,2);(function(d){d[d.NONE=0]="NONE",d[d.CARRY_SYSTEM_INST=1]="CARRY_SYSTEM_INST",d[d.ABSORB_ROLE=2]="ABSORB_ROLE",d[d.APPEND_LAST_SYSTEM=3]="APPEND_LAST_SYSTEM"})(a||(a={}));let pt={llama2:{system:{pre:`[INST] <<SYS>>
`,post:`
<</SYS>>

`},user:{pre:"<s>[INST] ",post:" [/INST]",flag:a.CARRY_SYSTEM_INST},assistant:{pre:" ",post:"</s>"}},openchat:{system:{flag:a.ABSORB_ROLE},user:{pre:"GPT4 User: ",post:"<|end_of_turn|>",flag:a.APPEND_LAST_SYSTEM},assistant:{pre:"GPT4 Assistant: ",post:"<|end_of_turn|>"},global:{post:"GPT4 Assistant:"}},chatml:{system:{pre:`<|im_start|>system
`,post:`<|im_end|>
`},user:{pre:`<|im_start|>user
`,post:`<|im_end|>
`},assistant:{pre:`<|im_start|>assistant
`,post:`<|im_end|>
`},global:{post:`<|im_start|>assistant
`}},"orca-hashes":{system:{pre:`### System:
`,post:`

`},user:{pre:`### User:
`,post:`

`},assistant:{pre:`### Assistant:
`,post:`

`},global:{post:`### Assistant:

`}},"codellama-instruct":{system:{pre:"[INST] ",post:`
`},user:{pre:"[INST] ",post:` [/INST]
`,flag:a.CARRY_SYSTEM_INST},assistant:{post:`
`}},"mistral-instruct":{system:{pre:"<s>[INST] ",post:" "},user:{pre:"[INST] ",post:" [/INST]",flag:a.CARRY_SYSTEM_INST},assistant:{pre:" ",post:"</s>"}},zephyr:{system:{pre:`<s><|system|>
`,post:`</s>
`},user:{pre:`<|user|>
`,post:`</s>
`},assistant:{pre:`<|assistant|>
`,post:`</s>
`},global:{post:`<|assistant|>
`}}},$t=(d,u)=>{let p="",R={lastSystem:!1,systemCount:0,userCount:0,assistantCount:0};for(let w of d)switch(w.role){case"system":R.systemCount++,R.lastSystem=w.content,p+=It(u,w.role,w.content,R);break;case"user":R.userCount++,p+=It(u,w.role,w.content,R);break;case"assistant":R.assistantCount++,p+=It(u,w.role,w.content,R)}return It(u,"global",p,R)},Kt=(d,u,p,R)=>p=="pre"&&pt[d][u].flag==a.CARRY_SYSTEM_INST&&R.systemCount==1&&R.userCount==1?"":pt[d][u][p]||"",It=(d,u,p,R)=>pt[d]&&pt[d][u]?pt[d][u].flag==a.ABSORB_ROLE?"":(pt[d][u].flag==a.APPEND_LAST_SYSTEM&&R.lastSystem&&R.userCount==1&&(p=`${R.lastSystem}${[":",".","!","?"].indexOf(R.lastSystem.slice(-1))==-1?":":""} ${p}`),Kt(d,u,"pre",R)+(p||"")+Kt(d,u,"post",R)):p||"";class cr{constructor(u,p){this.schema={input:{type:"object",oneOf:[{properties:{prompt:{type:"string",maxLength:4096},raw:{type:"boolean",default:!1},stream:{type:"boolean",default:!1},max_tokens:{type:"integer",default:256}},required:["prompt"]},{properties:{messages:{type:"array",items:{type:"object",properties:{role:{type:"string"},content:{type:"string",maxLength:4096}},required:["role","content"]}},stream:{type:"boolean",default:!1},max_tokens:{type:"integer",default:256}},required:["messages"]}]},output:{oneOf:[{type:"object",contentType:"application/json",properties:{response:{type:"string"}}},{type:"string",contentType:"text/event-stream",format:"binary"}]}},this.inputs=u,this.modelSettings=p}preProcessing(){this.inputs.stream&&this.modelSettings.inputsDefaultsStream?this.inputs={...this.modelSettings.inputsDefaultsStream,...this.inputs}:this.modelSettings.inputsDefaults&&(this.inputs={...this.modelSettings.inputsDefaults,...this.inputs});let u="";u=this.inputs.messages===void 0?this.inputs.raw==!0?this.inputs.prompt:$t([{role:"system",content:this.modelSettings.preProcessingArgs.defaultContext},{role:"user",content:this.inputs.prompt}],this.modelSettings.preProcessingArgs.promptTemplate):$t(this.inputs.messages,this.modelSettings.preProcessingArgs.promptTemplate),this.preProcessedInputs=u}generateTensors(){this.tensors=[new ze(c.String,[this.preProcessedInputs],{shape:[1],name:"INPUT_0"}),new ze(c.Uint32,[this.inputs.max_tokens],{shape:[1],name:"INPUT_1"})]}postProcessing(u){this.modelSettings.postProcessingFunc?this.postProcessedOutputs={response:this.modelSettings.postProcessingFunc(u)}:this.postProcessedOutputs={response:u.name.value[0]}}postProcessingStream(u){return this.modelSettings.postProcessingFuncStream?{response:this.modelSettings.postProcessingFuncStream(u)}:{response:u.name.value[0]}}}class pr{constructor(u,p){this.schema={input:{type:"object",properties:{text:{type:"string"}},required:["text"]},output:{type:"array",contentType:"application/json",items:{type:"object",properties:{score:{type:"number"},label:{type:"string"}}}}},this.inputs=u,this.modelSettings=p}preProcessing(){this.preProcessedInputs=this.inputs}generateTensors(){this.tensors=[new ze(c.String,[this.preProcessedInputs.text],{shape:[1],name:"input_text"})]}postProcessing(u){this.postProcessedOutputs=[{label:"NEGATIVE",score:u.logits.value[0][0]},{label:"POSITIVE",score:u.logits.value[0][1]}]}}class hr{constructor(u,p){this.schema={input:{type:"object",properties:{text:{oneOf:[{type:"string"},{type:"array",items:{type:"string"},maxItems:100}]}},required:["text"]},output:{type:"object",contentType:"application/json",properties:{shape:{type:"array",items:{type:"number"}},data:{type:"array",items:{type:"array",items:{type:"number"}}}}}},this.inputs=u,this.modelSettings=p}preProcessing(){this.preProcessedInputs=this.inputs}generateTensors(){this.tensors=[new ze(c.String,Array.isArray(this.preProcessedInputs.text)?this.preProcessedInputs.text:[this.preProcessedInputs.text],{shape:[Array.isArray(this.preProcessedInputs.text)?this.preProcessedInputs.text.length:[this.preProcessedInputs.text].length],name:"input_text"})]}postProcessing(u){this.postProcessedOutputs={shape:u.embeddings.shape,data:u.embeddings.value}}}class dr{constructor(u,p){this.schema={input:{type:"object",properties:{text:{type:"string"},source_lang:{type:"string",default:"en"},target_lang:{type:"string"}},required:["text","target_lang"]},output:{type:"object",contentType:"application/json",properties:{translated_text:{type:"string"}}}},this.inputs=u,this.modelSettings=p}preProcessing(){this.preProcessedInputs=this.inputs}generateTensors(){this.tensors=[new ze(c.String,[this.preProcessedInputs.text],{shape:[1,1],name:"text"}),new ze(c.String,[this.preProcessedInputs.source_lang||"en"],{shape:[1,1],name:"source_lang"}),new ze(c.String,[this.preProcessedInputs.target_lang],{shape:[1,1],name:"target_lang"})]}postProcessing(u){this.postProcessedOutputs={translated_text:u.name.value[0]}}}class fr{constructor(u,p){this.schema={input:{oneOf:[{type:"string",format:"binary"},{type:"object",properties:{audio:{type:"array",items:{type:"number"}}}}]},output:{type:"object",contentType:"application/json",properties:{text:{type:"string"},word_count:{type:"number"},words:{type:"array",items:{type:"object",properties:{word:{type:"string"},start:{type:"number"},end:{type:"number"}}}}},required:["text"]}},this.inputs=u,this.modelSettings=p}preProcessing(){this.preProcessedInputs=this.inputs}generateTensors(){this.tensors=[new ze(c.Uint8,this.preProcessedInputs.audio,{shape:[1,this.preProcessedInputs.audio.length],name:"audio"})]}postProcessing(u){this.modelSettings.postProcessingFunc?this.postProcessedOutputs=this.modelSettings.postProcessingFunc(u):this.postProcessedOutputs={text:u.name.value[0].trim()}}}let gr=["TENCH","GOLDFISH","WHITE SHARK","TIGER SHARK","HAMMERHEAD SHARK","ELECTRIC RAY","STINGRAY","ROOSTER","HEN","OSTRICH","BRAMBLING","GOLDFINCH","HOUSE FINCH","SNOWBIRD","INDIGO FINCH","ROBIN","BULBUL","JAY","MAGPIE","CHICKADEE","WATER OUZEL","KITE","BALD EAGLE","VULTURE","GREAT GREY OWL","FIRE SALAMANDER","NEWT","EFT","SPOTTED SALAMANDER","AXOLOTL","BULL FROG","TREE FROG","TAILED FROG","LOGGERHEAD","LEATHERBACK TURTLE","MUD TURTLE","TERRAPIN","BOX TURTLE","BANDED GECKO","COMMON IGUANA","AMERICAN CHAMELEON","WHIPTAIL","AGAMA","FRILLED LIZARD","ALLIGATOR LIZARD","GILA MONSTER","GREEN LIZARD","AFRICAN CHAMELEON","KOMODO DRAGON","AFRICAN CROCODILE","AMERICAN ALLIGATOR","TRICERATOPS","THUNDER SNAKE","RINGNECK SNAKE","HOGNOSE SNAKE","GREEN SNAKE","KING SNAKE","GARTER SNAKE","WATER SNAKE","VINE SNAKE","NIGHT SNAKE","BOA","ROCK PYTHON","COBRA","GREEN MAMBA","SEA SNAKE","HORNED VIPER","DIAMONDBACK","SIDEWINDER","TRILOBITE","HARVESTMAN","SCORPION","GARDEN SPIDER","BARN SPIDER","GARDEN SPIDER","BLACK WIDOW","TARANTULA","WOLF SPIDER","TICK","CENTIPEDE","GROUSE","PTARMIGAN","RUFFED GROUSE","PRAIRIE CHICKEN","PEACOCK","QUAIL","PARTRIDGE","AFRICAN GREY","MACAW","COCKATOO","LORIKEET","COUCAL","BEE EATER","HORNBILL","HUMMINGBIRD","JACAMAR","TOUCAN","DRAKE","MERGANSER","GOOSE","BLACK SWAN","TUSKER","ECHIDNA","PLATYPUS","WALLABY","KOALA","WOMBAT","JELLYFISH","SEA ANEMONE","BRAIN CORAL","FLATWORM","NEMATODE","CONCH","SNAIL","SLUG","SEA SLUG","CHITON","CHAMBERED NAUTILUS","DUNGENESS CRAB","ROCK CRAB","FIDDLER CRAB","KING CRAB","AMERICAN LOBSTER","SPINY LOBSTER","CRAYFISH","HERMIT CRAB","ISOPOD","WHITE STORK","BLACK STORK","SPOONBILL","FLAMINGO","LITTLE BLUE HERON","AMERICAN EGRET","BITTERN","CRANE","LIMPKIN","EUROPEAN GALLINULE","AMERICAN COOT","BUSTARD","RUDDY TURNSTONE","RED-BACKED SANDPIPER","REDSHANK","DOWITCHER","OYSTERCATCHER","PELICAN","KING PENGUIN","ALBATROSS","GREY WHALE","KILLER WHALE","DUGONG","SEA LION","CHIHUAHUA","JAPANESE SPANIEL","MALTESE DOG","PEKINESE","SHIH-TZU","BLENHEIM SPANIEL","PAPILLON","TOY TERRIER","RHODESIAN RIDGEBACK","AFGHAN HOUND","BASSET","BEAGLE","BLOODHOUND","BLUETICK","COONHOUND","WALKER HOUND","ENGLISH FOXHOUND","REDBONE","BORZOI","IRISH WOLFHOUND","ITALIAN GREYHOUND","WHIPPET","IBIZAN HOUND","NORWEGIAN ELKHOUND","OTTERHOUND","SALUKI","SCOTTISH DEERHOUND","WEIMARANER","STAFFORDSHIRE BULLTERRIER","STAFFORDSHIRE TERRIER","BEDLINGTON TERRIER","BORDER TERRIER","KERRY BLUE TERRIER","IRISH TERRIER","NORFOLK TERRIER","NORWICH TERRIER","YORKSHIRE TERRIER","WIRE-HAIRED FOX TERRIER","LAKELAND TERRIER","SEALYHAM TERRIER","AIREDALE","CAIRN","AUSTRALIAN TERRIER","DANDIE DINMONT","BOSTON BULL","MINIATURE SCHNAUZER","GIANT SCHNAUZER","STANDARD SCHNAUZER","SCOTCH TERRIER","TIBETAN TERRIER","SILKY TERRIER","WHEATEN TERRIER","WHITE TERRIER","LHASA","RETRIEVER","CURLY-COATED RETRIEVER","GOLDEN RETRIEVER","LABRADOR RETRIEVER","CHESAPEAKE BAY RETRIEVER","SHORT-HAIRED POINTER","VISLA","ENGLISH SETTER","IRISH SETTER","GORDON SETTER","BRITTANY SPANIEL","CLUMBER","ENGLISH SPRINGER","WELSH SPRINGER SPANIEL","COCKER SPANIEL","SUSSEX SPANIEL","IRISH WATERSPANIEL","KUVASZ","SCHIPPERKE","GROENENDAEL","MALINOIS","BRIARD","KELPIE","KOMONDOR","OLD ENGLISH SHEEPDOG","SHETLAND SHEEPDOG","COLLIE","BORDER COLLIE","BOUVIER DES FLANDRES","ROTTWEILER","GERMAN SHEPHERD","DOBERMAN","MINIATURE PINSCHER","GREATER SWISS MOUNTAIN DOG","BERNESE MOUNTAIN DOG","APPENZELLER","ENTLEBUCHER","BOXER","BULL MASTIFF","TIBETAN MASTIFF","FRENCH BULLDOG","GREAT DANE","SAINT BERNARD","ESKIMO DOG","MALAMUTE","SIBERIAN HUSKY","DALMATIAN","AFFENPINSCHER","BASENJI","PUG","LEONBERG","NEWFOUNDLAND","GREAT PYRENEES","SAMOYED","POMERANIAN","CHOW","KEESHOND","BRABANCON GRIFFON","PEMBROKE","CARDIGAN","TOY POODLE","MINIATURE POODLE","STANDARD POODLE","MEXICAN HAIRLESS","TIMBER WOLF","WHITE WOLF","RED WOLF","COYOTE","DINGO","DHOLE","AFRICAN HUNTING DOG","HYENA","RED FOX","KIT FOX","ARCTIC FOX","GREY FOX","TABBY","TIGER CAT","PERSIAN CAT","SIAMESE CAT","EGYPTIAN CAT","COUGAR","LYNX","LEOPARD","SNOW LEOPARD","JAGUAR","LION","TIGER","CHEETAH","BROWN BEAR","AMERICAN BLACK BEAR","ICE BEAR","SLOTH BEAR","MONGOOSE","MEERKAT","TIGER BEETLE","LADYBUG","GROUND BEETLE","LONG-HORNED BEETLE","LEAF BEETLE","DUNG BEETLE","RHINOCEROS BEETLE","WEEVIL","FLY","BEE","ANT","GRASSHOPPER","CRICKET","WALKING STICK","COCKROACH","MANTIS","CICADA","LEAFHOPPER","LACEWING","DRAGONFLY","DAMSELFLY","ADMIRAL","RINGLET","MONARCH","CABBAGE BUTTERFLY","SULPHUR BUTTERFLY","LYCAENID","STARFISH","SEA URCHIN","SEA CUCUMBER","WOOD RABBIT","HARE","ANGORA","HAMSTER","PORCUPINE","FOX SQUIRREL","MARMOT","BEAVER","GUINEA PIG","SORREL","ZEBRA","HOG","WILD BOAR","WARTHOG","HIPPOPOTAMUS","OX","WATER BUFFALO","BISON","RAM","BIGHORN","IBEX","HARTEBEEST","IMPALA","GAZELLE","ARABIAN CAMEL","LLAMA","WEASEL","MINK","POLECAT","BLACK-FOOTED FERRET","OTTER","SKUNK","BADGER","ARMADILLO","THREE-TOED SLOTH","ORANGUTAN","GORILLA","CHIMPANZEE","GIBBON","SIAMANG","GUENON","PATAS","BABOON","MACAQUE","LANGUR","COLOBUS","PROBOSCIS MONKEY","MARMOSET","CAPUCHIN","HOWLER MONKEY","TITI","SPIDER MONKEY","SQUIRREL MONKEY","MADAGASCAR CAT","INDRI","INDIAN ELEPHANT","AFRICAN ELEPHANT","LESSER PANDA","GIANT PANDA","BARRACOUTA","EEL","COHO","ROCK BEAUTY","ANEMONE FISH","STURGEON","GAR","LIONFISH","PUFFER","ABACUS","ABAYA","ACADEMIC GOWN","ACCORDION","ACOUSTIC GUITAR","AIRCRAFT CARRIER","AIRLINER","AIRSHIP","ALTAR","AMBULANCE","AMPHIBIAN","ANALOG CLOCK","APIARY","APRON","ASHCAN","ASSAULT RIFLE","BACKPACK","BAKERY","BALANCE BEAM","BALLOON","BALLPOINT","BAND AID","BANJO","BANNISTER","BARBELL","BARBER CHAIR","BARBERSHOP","BARN","BAROMETER","BARREL","BARROW","BASEBALL","BASKETBALL","BASSINET","BASSOON","BATHING CAP","BATH TOWEL","BATHTUB","BEACH WAGON","BEACON","BEAKER","BEARSKIN","BEER BOTTLE","BEER GLASS","BELL COTE","BIB","BICYCLE-BUILT-FOR-TWO","BIKINI","BINDER","BINOCULARS","BIRDHOUSE","BOATHOUSE","BOBSLED","BOLO TIE","BONNET","BOOKCASE","BOOKSHOP","BOTTLECAP","BOW","BOW TIE","BRASS","BRASSIERE","BREAKWATER","BREASTPLATE","BROOM","BUCKET","BUCKLE","BULLETPROOF VEST","BULLET TRAIN","BUTCHER SHOP","CAB","CALDRON","CANDLE","CANNON","CANOE","CAN OPENER","CARDIGAN","CAR MIRROR","CAROUSEL","CARPENTERS KIT","CARTON","CAR WHEEL","CASH MACHINE","CASSETTE","CASSETTE PLAYER","CASTLE","CATAMARAN","CD PLAYER","CELLO","CELLULAR TELEPHONE","CHAIN","CHAINLINK FENCE","CHAIN MAIL","CHAIN SAW","CHEST","CHIFFONIER","CHIME","CHINA CABINET","CHRISTMAS STOCKING","CHURCH","CINEMA","CLEAVER","CLIFF DWELLING","CLOAK","CLOG","COCKTAIL SHAKER","COFFEE MUG","COFFEEPOT","COIL","COMBINATION LOCK","COMPUTER KEYBOARD","CONFECTIONERY","CONTAINER SHIP","CONVERTIBLE","CORKSCREW","CORNET","COWBOY BOOT","COWBOY HAT","CRADLE","CRANE","CRASH HELMET","CRATE","CRIB","CROCK POT","CROQUET BALL","CRUTCH","CUIRASS","DAM","DESK","DESKTOP COMPUTER","DIAL TELEPHONE","DIAPER","DIGITAL CLOCK","DIGITAL WATCH","DINING TABLE","DISHRAG","DISHWASHER","DISK BRAKE","DOCK","DOGSLED","DOME","DOORMAT","DRILLING PLATFORM","DRUM","DRUMSTICK","DUMBBELL","DUTCH OVEN","ELECTRIC FAN","ELECTRIC GUITAR","ELECTRIC LOCOMOTIVE","ENTERTAINMENT CENTER","ENVELOPE","ESPRESSO MAKER","FACE POWDER","FEATHER BOA","FILE","FIREBOAT","FIRE ENGINE","FIRE SCREEN","FLAGPOLE","FLUTE","FOLDING CHAIR","FOOTBALL HELMET","FORKLIFT","FOUNTAIN","FOUNTAIN PEN","FOUR-POSTER","FREIGHT CAR","FRENCH HORN","FRYING PAN","FUR COAT","GARBAGE TRUCK","GASMASK","GAS PUMP","GOBLET","GO-KART","GOLF BALL","GOLFCART","GONDOLA","GONG","GOWN","GRAND PIANO","GREENHOUSE","GRILLE","GROCERY STORE","GUILLOTINE","HAIR SLIDE","HAIR SPRAY","HALF TRACK","HAMMER","HAMPER","HAND BLOWER","HAND-HELD COMPUTER","HANDKERCHIEF","HARD DISC","HARMONICA","HARP","HARVESTER","HATCHET","HOLSTER","HOME THEATER","HONEYCOMB","HOOK","HOOPSKIRT","HORIZONTAL BAR","HORSE CART","HOURGLASS","IPOD","IRON","JACK-O-LANTERN","JEAN","JEEP","JERSEY","JIGSAW PUZZLE","JINRIKISHA","JOYSTICK","KIMONO","KNEE PAD","KNOT","LAB COAT","LADLE","LAMPSHADE","LAPTOP","LAWN MOWER","LENS CAP","LETTER OPENER","LIBRARY","LIFEBOAT","LIGHTER","LIMOUSINE","LINER","LIPSTICK","LOAFER","LOTION","LOUDSPEAKER","LOUPE","LUMBERMILL","MAGNETIC COMPASS","MAILBAG","MAILBOX","MAILLOT","MAILLOT","MANHOLE COVER","MARACA","MARIMBA","MASK","MATCHSTICK","MAYPOLE","MAZE","MEASURING CUP","MEDICINE CHEST","MEGALITH","MICROPHONE","MICROWAVE","MILITARY UNIFORM","MILK CAN","MINIBUS","MINISKIRT","MINIVAN","MISSILE","MITTEN","MIXING BOWL","MOBILE HOME","MODEL T","MODEM","MONASTERY","MONITOR","MOPED","MORTAR","MORTARBOARD","MOSQUE","MOSQUITO NET","MOTOR SCOOTER","MOUNTAIN BIKE","MOUNTAIN TENT","MOUSE","MOUSETRAP","MOVING VAN","MUZZLE","NAIL","NECK BRACE","NECKLACE","NIPPLE","NOTEBOOK","OBELISK","OBOE","OCARINA","ODOMETER","OIL FILTER","ORGAN","OSCILLOSCOPE","OVERSKIRT","OXCART","OXYGEN MASK","PACKET","PADDLE","PADDLEWHEEL","PADLOCK","PAINTBRUSH","PAJAMA","PALACE","PANPIPE","PAPER TOWEL","PARACHUTE","PARALLEL BARS","PARK BENCH","PARKING METER","PASSENGER CAR","PATIO","PAY-PHONE","PEDESTAL","PENCIL BOX","PENCIL SHARPENER","PERFUME","PETRI DISH","PHOTOCOPIER","PICK","PICKELHAUBE","PICKET FENCE","PICKUP","PIER","PIGGY BANK","PILL BOTTLE","PILLOW","PING-PONG BALL","PINWHEEL","PIRATE","PITCHER","PLANE","PLANETARIUM","PLASTIC BAG","PLATE RACK","PLOW","PLUNGER","POLAROID CAMERA","POLE","POLICE VAN","PONCHO","POOL TABLE","POP BOTTLE","POT","POTTERS WHEEL","POWER DRILL","PRAYER RUG","PRINTER","PRISON","PROJECTILE","PROJECTOR","PUCK","PUNCHING BAG","PURSE","QUILL","QUILT","RACER","RACKET","RADIATOR","RADIO","RADIO TELESCOPE","RAIN BARREL","RECREATIONAL VEHICLE","REEL","REFLEX CAMERA","REFRIGERATOR","REMOTE CONTROL","RESTAURANT","REVOLVER","RIFLE","ROCKING CHAIR","ROTISSERIE","RUBBER ERASER","RUGBY BALL","RULE","RUNNING SHOE","SAFE","SAFETY PIN","SALTSHAKER","SANDAL","SARONG","SAX","SCABBARD","SCALE","SCHOOL BUS","SCHOONER","SCOREBOARD","SCREEN","SCREW","SCREWDRIVER","SEAT BELT","SEWING MACHINE","SHIELD","SHOE SHOP","SHOJI","SHOPPING BASKET","SHOPPING CART","SHOVEL","SHOWER CAP","SHOWER CURTAIN","SKI","SKI MASK","SLEEPING BAG","SLIDE RULE","SLIDING DOOR","SLOT","SNORKEL","SNOWMOBILE","SNOWPLOW","SOAP DISPENSER","SOCCER BALL","SOCK","SOLAR DISH","SOMBRERO","SOUP BOWL","SPACE BAR","SPACE HEATER","SPACE SHUTTLE","SPATULA","SPEEDBOAT","SPIDER WEB","SPINDLE","SPORTS CAR","SPOTLIGHT","STAGE","STEAM LOCOMOTIVE","STEEL ARCH BRIDGE","STEEL DRUM","STETHOSCOPE","STOLE","STONE WALL","STOPWATCH","STOVE","STRAINER","STREETCAR","STRETCHER","STUDIO COUCH","STUPA","SUBMARINE","SUIT","SUNDIAL","SUNGLASS","SUNGLASSES","SUNSCREEN","SUSPENSION BRIDGE","SWAB","SWEATSHIRT","SWIMMING TRUNKS","SWING","SWITCH","SYRINGE","TABLE LAMP","TANK","TAPE PLAYER","TEAPOT","TEDDY","TELEVISION","TENNIS BALL","THATCH","THEATER CURTAIN","THIMBLE","THRESHER","THRONE","TILE ROOF","TOASTER","TOBACCO SHOP","TOILET SEAT","TORCH","TOTEM POLE","TOW TRUCK","TOYSHOP","TRACTOR","TRAILER TRUCK","TRAY","TRENCH COAT","TRICYCLE","TRIMARAN","TRIPOD","TRIUMPHAL ARCH","TROLLEYBUS","TROMBONE","TUB","TURNSTILE","TYPEWRITER KEYBOARD","UMBRELLA","UNICYCLE","UPRIGHT","VACUUM","VASE","VAULT","VELVET","VENDING MACHINE","VESTMENT","VIADUCT","VIOLIN","VOLLEYBALL","WAFFLE IRON","WALL CLOCK","WALLET","WARDROBE","WARPLANE","WASHBASIN","WASHER","WATER BOTTLE","WATER JUG","WATER TOWER","WHISKEY JUG","WHISTLE","WIG","WINDOW SCREEN","WINDOW SHADE","WINDSOR TIE","WINE BOTTLE","WING","WOK","WOODEN SPOON","WOOL","WORM FENCE","WRECK","YAWL","YURT","WEB SITE","COMIC BOOK","CROSSWORD PUZZLE","STREET SIGN","TRAFFIC LIGHT","BOOK JACKET","MENU","PLATE","GUACAMOLE","CONSOMME","HOT POT","TRIFLE","ICE CREAM","ICE LOLLY","FRENCH LOAF","BAGEL","PRETZEL","CHEESEBURGER","HOTDOG","MASHED POTATO","HEAD CABBAGE","BROCCOLI","CAULIFLOWER","ZUCCHINI","SPAGHETTI SQUASH","ACORN SQUASH","BUTTERNUT SQUASH","CUCUMBER","ARTICHOKE","BELL PEPPER","CARDOON","MUSHROOM","GRANNY SMITH","STRAWBERRY","ORANGE","LEMON","FIG","PINEAPPLE","BANANA","JACKFRUIT","CUSTARD APPLE","POMEGRANATE","HAY","CARBONARA","CHOCOLATE SAUCE","DOUGH","MEAT LOAF","PIZZA","POTPIE","BURRITO","RED WINE","ESPRESSO","CUP","EGGNOG","ALP","BUBBLE","CLIFF","CORAL REEF","GEYSER","LAKESIDE","PROMONTORY","SANDBAR","SEASHORE","VALLEY","VOLCANO","BALLPLAYER","GROOM","SCUBA DIVER","RAPESEED","DAISY","LADY SLIPPER","CORN","ACORN","HIP","BUCKEYE","CORAL FUNGUS","AGARIC","GYROMITRA","STINKHORN","EARTHSTAR","HEN-OF-THE-WOODS","BOLETE","EAR","TOILET TISSUE"];class mr{constructor(u,p){this.schema={input:{oneOf:[{type:"string",format:"binary"},{type:"object",properties:{image:{type:"array",items:{type:"number"}}}}]},output:{type:"array",contentType:"application/json",items:{type:"object",properties:{score:{type:"number"},label:{type:"string"}}}}},this.inputs=u,this.modelSettings=p}preProcessing(){this.preProcessedInputs=this.inputs}generateTensors(){this.tensors=[new ze(c.Uint8,this.preProcessedInputs.image,{shape:[1,this.preProcessedInputs.image.length],name:"input"})]}postProcessing(u){let p=[],R=u.output.value[0];for(var w in R)p.push({label:gr[w],score:R[w]});p.sort((M,q)=>q.score-M.score),this.postProcessedOutputs=p.slice(0,5)}}class yr{constructor(u,p){this.schema={input:{oneOf:[{type:"string",format:"binary"},{type:"object",properties:{image:{type:"array",items:{type:"number"}}}}]},output:{type:"array",contentType:"application/json",items:{type:"object",properties:{score:{type:"number"},label:{type:"string"},box:{type:"object",properties:{xmin:{type:"number"},ymin:{type:"number"},xmax:{type:"number"},ymax:{type:"number"}}}}}}},this.inputs=u,this.modelSettings=p}preProcessing(){this.preProcessedInputs=this.inputs}generateTensors(){this.tensors=[new ze(c.Uint8,this.preProcessedInputs.image,{shape:[1,this.preProcessedInputs.image.length],name:"input"})]}postProcessing(u){let p=u.scores.value[0].map((R,w)=>({score:R,label:u.label_names.value[u.labels.value[0][w]],box:{xmin:u.boxes.value[0][w][0],ymin:u.boxes.value[0][w][1],xmax:u.boxes.value[0][w][2],ymax:u.boxes.value[0][w][3]}}));this.postProcessedOutputs=p}}class Er{constructor(u,p){this.schema={input:{type:"object",properties:{prompt:{type:"string"},num_steps:{type:"integer",default:20,maximum:20}},required:["prompt"]},output:{type:"string",contentType:"image/png",format:"binary"}},this.inputs=u,this.modelSettings=p}preProcessing(){this.preProcessedInputs=this.inputs}generateTensors(){this.tensors=[new ze(c.String,[this.preProcessedInputs.prompt],{shape:[1],name:"input_text"}),new ze(c.Int32,[this.preProcessedInputs.num_steps],{shape:[1],name:"num_steps"})]}postProcessing(u){this.postProcessedOutputs=new Uint8Array(u.output_image.value)}}let rt="A chat between a curious human and an artificial intelligence assistant. The assistant gives helpful, detailed, and polite answers to the human's questions.",Ct={"text-classification":{models:["@cf/huggingface/distilbert-sst-2-int8"],class:pr,id:"19606750-23ed-4371-aab2-c20349b53a60"},"text-to-image":{models:["@cf/stabilityai/stable-diffusion-xl-base-1.0"],class:Er,id:"3d6e1f35-341b-4915-a6c8-9a7142a9033a"},"text-embeddings":{models:["@cf/baai/bge-small-en-v1.5","@cf/baai/bge-base-en-v1.5","@cf/baai/bge-large-en-v1.5"],class:hr,id:"0137cdcf-162a-4108-94f2-1ca59e8c65ee"},"speech-recognition":{models:["@cf/openai/whisper"],class:fr,id:"dfce1c48-2a81-462e-a7fd-de97ce985207"},"image-classification":{models:["@cf/microsoft/resnet-50"],class:mr,id:"00cd182b-bf30-4fc4-8481-84a3ab349657"},"object-detection":{models:["@cf/facebook/detr-resnet-50"],class:yr,id:"9c178979-90d9-49d8-9e2c-0f1cf01815d4"},"text-generation":{models:["@cf/meta/llama-2-7b-chat-int8","@cf/mistral/mistral-7b-instruct-v0.1","@cf/meta/llama-2-7b-chat-fp16","@hf/thebloke/llama-2-13b-chat-awq","@hf/thebloke/zephyr-7b-beta-awq","@hf/thebloke/mistral-7b-instruct-v0.1-awq","@hf/thebloke/codellama-7b-instruct-awq","@hf/thebloke/openchat_3.5-awq","@hf/thebloke/openhermes-2.5-mistral-7b-awq","@hf/thebloke/starling-lm-7b-alpha-awq","@hf/thebloke/orca-2-13b-awq","@hf/thebloke/neural-chat-7b-v3-1-awq"],class:cr,id:"c329a1f9-323d-4e91-b2aa-582dd4188d34"},translation:{models:["@cf/meta/m2m100-1.2b"],class:dr,id:"f57d07cb-9087-487a-bbbf-bc3e17fecc4b"}},We=(d,u)=>{let p=d.generated_text.value[0];if(u)for(var R in u)p=p.replace(u[R],"");return p},Nt={"@hf/thebloke/openchat_3.5-awq":{route:"thebloke-openchat-3-5-awq",experimental:!0,inputsDefaultsStream:{max_tokens:512},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"openchat",defaultContext:rt},postProcessingFunc:We,postProcessingFuncStream:We},"@hf/thebloke/openhermes-2.5-mistral-7b-awq":{route:"thebloke-openhermes-2-5-mistral-7b-awq",experimental:!0,inputsDefaultsStream:{max_tokens:512},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"chatml",defaultContext:rt},postProcessingFunc:d=>We(d,["<|im_end|>"]),postProcessingFuncStream:d=>We(d,["<|im_end|>"])},"@hf/thebloke/starling-lm-7b-alpha-awq":{route:"thebloke-starling-lm-7b-alpha-awq",experimental:!0,inputsDefaultsStream:{max_tokens:512},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"openchat",defaultContext:rt},postProcessingFunc:d=>We(d,["<|end_of_turn|>"]),postProcessingFuncStream:d=>We(d,["<|end_of_turn|>"])},"@hf/thebloke/orca-2-13b-awq":{route:"thebloke-orca-2-13b-awq",experimental:!0,inputsDefaultsStream:{max_tokens:512},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"chatml",defaultContext:rt},postProcessingFunc:We,postProcessingFuncStream:We},"@hf/thebloke/neural-chat-7b-v3-1-awq":{route:"thebloke-neural-chat-7b-v3-1-awq",experimental:!0,inputsDefaultsStream:{max_tokens:512},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"orca-hashes",defaultContext:rt},postProcessingFunc:We,postProcessingFuncStream:We},"@cf/facebook/detr-resnet-50":{experimental:!0},"@cf/stabilityai/stable-diffusion-xl-base-1.0":{route:"stable-diffusion-xl-base-1-0"},"@hf/thebloke/llama-2-13b-chat-awq":{route:"thebloke-llama-2-13b-chat-awq",experimental:!0,inputsDefaultsStream:{max_tokens:512},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"llama2",defaultContext:rt},postProcessingFunc:We,postProcessingFuncStream:We},"@hf/thebloke/zephyr-7b-beta-awq":{route:"thebloke-zephyr-7b-beta-awq",experimental:!0,inputsDefaultsStream:{max_tokens:596},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"zephyr",defaultContext:rt},postProcessingFunc:We,postProcessingFuncStream:We},"@hf/thebloke/mistral-7b-instruct-v0.1-awq":{route:"thebloke-mistral-7b-instruct-v0-1-awq",experimental:!0,inputsDefaultsStream:{max_tokens:596},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"mistral-instruct",defaultContext:rt},postProcessingFunc:We,postProcessingFuncStream:We},"@hf/thebloke/codellama-7b-instruct-awq":{route:"thebloke-codellama-7b-instruct-awq",inputsDefaultsStream:{max_tokens:596},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"llama2",defaultContext:"Write code to solve the following coding problem that obeys the constraints and passes the example test cases. Please wrap your code answer using   ```:"},postProcessingFunc:We,postProcessingFuncStream:We},"@cf/meta/llama-2-7b-chat-fp16":{route:"llama-2-7b-chat-fp16",inputsDefaultsStream:{max_tokens:2500},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"llama2",defaultContext:rt}},"@cf/meta/llama-2-7b-chat-int8":{route:"llama_2_7b_chat_int8",inputsDefaultsStream:{max_tokens:1800},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"llama2",defaultContext:rt}},"@cf/openai/whisper":{experimental:!0,postProcessingFunc:d=>d.word_count?{text:d.name.value.join("").trim(),word_count:parseInt(d.word_count.value),words:d.name.value.map((u,p)=>({word:u.trim(),start:d.timestamps.value[0][p][0],end:d.timestamps.value[0][p][1]}))}:{text:d.name.value.join("").trim()}},"@cf/mistral/mistral-7b-instruct-v0.1":{route:"mistral-7b-instruct-v0-1",inputsDefaultsStream:{max_tokens:1800},inputsDefaults:{max_tokens:256},preProcessingArgs:{promptTemplate:"mistral-instruct",defaultContext:rt}}},vr=(d,u,p)=>{Ct[d].models.push(u),Nt[u]=p},ut=(d,u,p)=>{if(d&&(console.log(`\x1B[1m${u}`),p[0]!==!1))if(typeof p=="object"||Array.isArray(p)){let R=JSON.stringify(p);console.log(R.length>512?`${R.substring(0,512)}...`:R)}else console.log(p)},Rr=(d,u)=>{if(!Ft[`#/definitions/${d}`](u))throw Ft[`#/definitions/${d}`].errors.map(p=>p.message).join(",")},Ar=d=>{if(Array.isArray(d))return d.map(u=>u.toJSON());if(d!==null&&typeof d=="object")return Object.keys(d).map(u=>{let p=d[u].toJSON();return p.name=u,p});throw Error("invalid inputs, must be Array<Tensor<any>> | TensorsObject")},qt=d=>{let u={};for(let p=0,R=d.length;p<R;p++){let w=ze.fromJSON(d[p]);u[w.name||"output"+p]=w}return u},Wt=(d,u)=>{let p=Object.keys(Nt);for(var R in p)if(p[R]==d)return u?Nt[p[R]][u]:Nt[p[R]];return!1};class Sr extends TransformStream{constructor(){let u;super({start(p){u=function(R){let w,M,q,ee,Z,$,F;return te(),{feed:function(oe){var xe;M=M?M+oe:oe,w&&(xe=M,Vt.every((ge,ve)=>xe.charCodeAt(ve)===ge))&&(M=M.slice(Vt.length)),w=!1;let Ae=M.length,we=0,Qe=!1;for(;we<Ae;){let ge;Qe&&(M[we]===`
`&&++we,Qe=!1);let ve=-1,Te=ee;for(let he=q;ve<0&&he<Ae;++he)(ge=M[he])===":"&&Te<0?Te=he-we:ge==="\r"?(Qe=!0,ve=he-we):ge===`
`&&(ve=he-we);if(ve<0){q=Ae-we,ee=Te;break}q=0,ee=-1,function(he,ye,Le,Ce){if(Ce===0){F.length>0&&(R({type:"event",id:Z,event:$||void 0,data:F.slice(0,-1)}),F="",Z=void 0),$=void 0;return}let be=Le<0,Ne=he.slice(ye,ye+(be?Ce:Le)),ae=0;ae=be?Ce:he[ye+Le+1]===" "?Le+2:Le+1;let de=ye+ae,me=Ce-ae,ce=he.slice(de,de+me).toString();if(Ne==="data")F+=ce?`${ce}
`:`
`;else if(Ne==="event")$=ce;else if(Ne!=="id"||ce.includes("\0")){if(Ne==="retry"){let _e=parseInt(ce,10);Number.isNaN(_e)||R({type:"reconnect-interval",value:_e})}}else Z=ce}(M,we,Te,ve),we+=ve+1}we===Ae?M="":we>0&&(M=M.slice(we))},reset:te};function te(){w=!0,M="",q=0,ee=-1,Z=void 0,$=void 0,F=""}}(R=>{R.type==="event"&&p.enqueue(R)})},transform(p){u.feed(p)}})}}let Vt=[239,187,191];class Or extends TransformStream{constructor(){super({transform(u,p){if(u.data!=="[DONE]")try{let R=JSON.parse(u.data);p.enqueue(R)}catch(R){console.error(`failed to parse incoming data (${R.stack}): ${u.data}`);return}}})}}let br=d=>{let{readable:u,writable:p}=new TransformStream,R=(d??new ReadableStream).pipeThrough(new TextDecoderStream).pipeThrough(new Sr).pipeThrough(new Or).getReader(),w=p.getWriter(),M=new TextEncoder;return{readable:u,reader:R,writer:w,write:async ee=>{await w.write(M.encode(ee))}}},Yt=(d,u,p,R,w)=>{let{readable:M,reader:q,writer:ee,write:Z}=br(d);return(p&&p.waitUntil?$=>p.waitUntil($()):$=>$())(async()=>{try{for(;;){let{done:$,value:F}=await q.read();if($){await Z(`data: [DONE]

`);break}if(ut(u,"stream response",F),R){let te=qt(F.result);await Z(`data: ${JSON.stringify(w?w(te):te)}

`)}else await Z(`data: ${JSON.stringify(F)}

`)}}catch($){console.error($.stack),await Z("an unknown error occurred while streaming")}await ee.close()}),M};class Tr extends Error{constructor(u,p){super(u),this.name="InferenceUpstreamError",this.httpCode=p}}class Pr{constructor(u,p,R={}){this.binding=u,this.model=p,this.options=R}async run(u,p){let R={input:Ar(u),stream:!1};p?.stream&&(R.stream=p?.stream);let w=JSON.stringify(R),M={method:"POST",body:new Response(w).body.pipeThrough(new CompressionStream("gzip")),headers:{...this.options?.extraHeaders||{},"content-encoding":"gzip","cf-consn-sdk-version":"1.0.41","cf-consn-model-id":`${this.options.prefix?`${this.options.prefix}:`:""}${this.model}`,"cf-consn-routing-model":Wt(this.model,"route")||"default"}},q=this.options.apiEndpoint?await fetch(this.options.apiEndpoint,M):await this.binding.fetch("http://workers-binding.ai/run",M);if(!q.ok)throw new Tr(await q.text(),q.status);if(p?.stream)return Yt(q.body,this.options.debug,this.options.ctx,!0,p.postProcessing);{let{result:ee}=await q.json();return qt(ee)}}}class Ir{constructor(u,p={}){this.binding=u,this.options=p}addModel(u,p,R){vr(u,p,R)}async run(u,p){let R=Object.keys(Ct);for(var w in R)if(Ct[R[w]].models.indexOf(u)!==-1){let M=Wt(u),q=this.options.sessionOptions||{};if(this.task=new Ct[R[w]].class(p,M),Rr(R[w],p),ut(this.options.debug,"input",p),this.options.apiGateway){let ee={method:"POST",body:JSON.stringify(p),headers:{authorization:`Bearer ${this.options.apiToken}`,"content-type":"application/json"}},Z=await fetch(`https://api.cloudflare.com/client/v4/accounts/${this.options.apiAccount}/ai/run/${u}`,ee);if(!Z.ok)throw Error(await Z.text());if(Z.headers.get("content-type")=="application/json"){let{result:$}=await Z.json();return $}return Z.headers.get("content-type")=="text/event-stream"?Yt(Z.body,this.options.debug,q.ctx,!1,!1):await Z.blob()}{this.task.preProcessing(),ut(this.options.debug,"pre-processed inputs",this.task.preProcessedInputs),this.task.generateTensors(),ut(this.options.debug,"input tensors",this.task.tensors);let ee=new Pr(this.binding,u,{debug:!!this.options.debug,...q});if(p.stream)return ut(this.options.debug,"streaming",!1),await ee.run(this.task.tensors,{stream:!0,postProcessing:Z=>this.task.postProcessingStream(Z)});{let Z=await ee.run(this.task.tensors);return ut(this.options.debug,"response",Z),this.task.postProcessing(Z,q.ctx),ut(this.options.debug,"post-processed response",this.task.postProcessedOutputs),this.task.postProcessedOutputs}}}throw Error(`No such model ${u} or task`)}}var gt={code:"0",name:"text",parse:d=>{if(typeof d!="string")throw Error('"text" parts expect a string value.');return{type:"text",value:d}}},mt={code:"1",name:"function_call",parse:d=>{if(d==null||typeof d!="object"||!("function_call"in d)||typeof d.function_call!="object"||d.function_call==null||!("name"in d.function_call)||!("arguments"in d.function_call)||typeof d.function_call.name!="string"||typeof d.function_call.arguments!="string")throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:d}}},yt={code:"2",name:"data",parse:d=>{if(!Array.isArray(d))throw Error('"data" parts expect an array value.');return{type:"data",value:d}}},Et={code:"3",name:"error",parse:d=>{if(typeof d!="string")throw Error('"error" parts expect a string value.');return{type:"error",value:d}}},vt={code:"4",name:"assistant_message",parse:d=>{if(d==null||typeof d!="object"||!("id"in d)||!("role"in d)||!("content"in d)||typeof d.id!="string"||typeof d.role!="string"||d.role!=="assistant"||!Array.isArray(d.content)||!d.content.every(u=>u!=null&&typeof u=="object"&&"type"in u&&u.type==="text"&&"text"in u&&u.text!=null&&typeof u.text=="object"&&"value"in u.text&&typeof u.text.value=="string"))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:d}}},Rt={code:"5",name:"assistant_control_data",parse:d=>{if(d==null||typeof d!="object"||!("threadId"in d)||!("messageId"in d)||typeof d.threadId!="string"||typeof d.messageId!="string")throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:d.threadId,messageId:d.messageId}}}},At={code:"6",name:"data_message",parse:d=>{if(d==null||typeof d!="object"||!("role"in d)||!("data"in d)||typeof d.role!="string"||d.role!=="data")throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:d}}},Cr={[gt.code]:gt,[mt.code]:mt,[yt.code]:yt,[Et.code]:Et,[vt.code]:vt,[Rt.code]:Rt,[At.code]:At},Nr=(gt.name,gt.code,mt.name,mt.code,yt.name,yt.code,Et.name,Et.code,vt.name,vt.code,Rt.name,Rt.code,At.name,At.code,[gt,mt,yt,Et,vt,Rt,At].map(d=>d.code)),en=d=>{let u=d.indexOf(":");if(u===-1)throw Error("Failed to parse stream string. No separator found.");let p=d.slice(0,u);if(!Nr.includes(p))throw Error(`Failed to parse stream string. Invalid code ${p}.`);let R=JSON.parse(d.slice(u+1));return Cr[p].parse(R)};((d,u=21)=>(p=u)=>{let R="",w=p;for(;w--;)R+=d[Math.random()*d.length|0];return R})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),Symbol("internal_openai_fn_messages");var _r=class extends Response{constructor(d,u,p){let R=d;p&&(R=d.pipeThrough(p.stream)),super(R,{...u,status:200,headers:{"Content-Type":"text/plain; charset=utf-8","X-Experimental-Stream-Data":p?"true":"false",...u?.headers}})}};new TextDecoder("utf-8");let xr="edge",wr="force-dynamic";async function Lr(d){let u=new Ir(process.env.AI);return new _r(function(p){let R=p.getReader();return new ReadableStream({async start(w){if(!R){w.close();return}await kr(R,w)}})}(await u.run("@cf/meta/llama-2-7b-chat-int8",{prompt:"Tell me about mill valley, ca in four sentences",stream:!0})))}let Dr=new TextDecoder("utf-8"),Mr=new TextEncoder;async function kr(d,u){let p="";for(;;){let{value:R,done:w}=await d.read();if(console.log(R),console.log(w),w)break;for(let M of(p+=Dr.decode(R,{stream:!0})).toString().split(`
`).filter(q=>q.trim()!=="")){let q=M.replace(/^data: /,"");if(q==="[DONE]"){console.log("Stream completed"),u.close();return}try{let{response:ee}=JSON.parse(q);u.enqueue(Mr.encode(ee))}catch(ee){console.error("Could not JSON parse stream message",q,ee)}}u.close()}}let Dt=new ir.AppRouteRouteModule({definition:{kind:m.APP_ROUTE,page:"/api/text-generation/route",pathname:"/api/text-generation",filename:"route",bundlePath:"app/api/text-generation/route"},resolvedPagePath:"/Users/pwittig/code/workers-ai-playground-nextjs/src/app/api/text-generation/route.js",nextConfigOutput:"",userland:e}),{requestAsyncStorage:Ur,staticGenerationAsyncStorage:Jt,serverHooks:Xt,headerHooks:Hr,staticGenerationBailout:Br}=Dt,jr="/api/text-generation/route";function Gr(){return(0,lr.XH)({serverHooks:Xt,staticGenerationAsyncStorage:Jt})}let Fr=r,$r=wt.wrap(Dt)},61:(J,T)=>{"use strict";T["#/definitions/text-classification"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){if(!v||typeof v!="object"||Array.isArray(v))return O.errors=[{instancePath:f,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(v.text===void 0&&(e="text"))return O.errors=[{instancePath:f,schemaPath:"#/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(v.text!==void 0&&typeof v.text!="string")return O.errors=[{instancePath:f+"/text",schemaPath:"#/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return O.errors=null,!0},T["#/definitions/text-to-image"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){if(!v||typeof v!="object"||Array.isArray(v))return O.errors=[{instancePath:f,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(v.num_steps===void 0&&(v.num_steps=20),v.prompt===void 0&&(r="prompt"))return O.errors=[{instancePath:f,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(v.prompt!==void 0){if(typeof v.prompt!="string")return O.errors=[{instancePath:f+"/prompt",schemaPath:"#/properties/prompt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var e=!0}else var e=!0;if(e){let n=v.num_steps;if(!(typeof n=="number"&&!(n%1)&&!isNaN(n)))return O.errors=[{instancePath:f+"/num_steps",schemaPath:"#/properties/num_steps/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(typeof n=="number"&&(n>20||isNaN(n)))return O.errors=[{instancePath:f+"/num_steps",schemaPath:"#/properties/num_steps/maximum",keyword:"maximum",params:{comparison:"<=",limit:20},message:"must be <= 20"}],!1;var e=!0}}return O.errors=null,!0},T["#/definitions/text-embeddings"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){let e=null,r=0;if(!v||typeof v!="object"||Array.isArray(v))return O.errors=[{instancePath:f,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(v.text===void 0&&(t="text"))return O.errors=[{instancePath:f,schemaPath:"#/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;if(v.text!==void 0){let o=v.text,i=r,l=!1,h=null,g=r;if(typeof o!="string"){let A={instancePath:f+"/text",schemaPath:"#/properties/text/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[A]:e.push(A),r++}var s=g===r;s&&(l=!0,h=0);let E=r;if(r===E)if(Array.isArray(o))if(o.length>100){let A={instancePath:f+"/text",schemaPath:"#/properties/text/oneOf/1/maxItems",keyword:"maxItems",params:{limit:100},message:"must NOT have more than 100 items"};e===null?e=[A]:e.push(A),r++}else{var n=!0;let A=o.length;for(let _=0;_<A;_++){let C=r;if(typeof o[_]!="string"){let U={instancePath:f+"/text/"+_,schemaPath:"#/properties/text/oneOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[U]:e.push(U),r++}var n=C===r;if(!n)break}}else{let A={instancePath:f+"/text",schemaPath:"#/properties/text/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};e===null?e=[A]:e.push(A),r++}var s=E===r;if(s&&l?(l=!1,h=[h,1]):s&&(l=!0,h=1),l)r=i,e!==null&&(i?e.length=i:e=null);else{let A={instancePath:f+"/text",schemaPath:"#/properties/text/oneOf",keyword:"oneOf",params:{passingSchemas:h},message:"must match exactly one schema in oneOf"};return e===null?e=[A]:e.push(A),r++,O.errors=e,!1}}}return O.errors=e,r===0},T["#/definitions/speech-recognition"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){let e=null,r=0,n=!1,s=null;if(typeof v!="string"){let l={instancePath:f,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[l]:e.push(l),r++}var i=r===0;i&&(n=!0,s=0);let t=r;if(r===t)if(v&&typeof v=="object"&&!Array.isArray(v)){if(v.audio!==void 0){let l=v.audio;if(r===r)if(Array.isArray(l)){var o=!0;let g=l.length;for(let E=0;E<g;E++){let A=r;if(typeof l[E]!="number"){let C={instancePath:f+"/audio/"+E,schemaPath:"#/oneOf/1/properties/audio/items/type",keyword:"type",params:{type:"number"},message:"must be number"};e===null?e=[C]:e.push(C),r++}var o=A===r;if(!o)break}}else{let g={instancePath:f+"/audio",schemaPath:"#/oneOf/1/properties/audio/type",keyword:"type",params:{type:"array"},message:"must be array"};e===null?e=[g]:e.push(g),r++}}}else{let l={instancePath:f,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};e===null?e=[l]:e.push(l),r++}var i=t===r;if(i&&n?(n=!1,s=[s,1]):i&&(n=!0,s=1),n)r=0,e!==null&&(e=null);else{let l={instancePath:f,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:s},message:"must match exactly one schema in oneOf"};return e===null?e=[l]:e.push(l),r++,O.errors=e,!1}return O.errors=e,r===0},T["#/definitions/image-classification"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){let e=null,r=0,n=!1,s=null;if(typeof v!="string"){let l={instancePath:f,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[l]:e.push(l),r++}var i=r===0;i&&(n=!0,s=0);let t=r;if(r===t)if(v&&typeof v=="object"&&!Array.isArray(v)){if(v.image!==void 0){let l=v.image;if(r===r)if(Array.isArray(l)){var o=!0;let g=l.length;for(let E=0;E<g;E++){let A=r;if(typeof l[E]!="number"){let C={instancePath:f+"/image/"+E,schemaPath:"#/oneOf/1/properties/image/items/type",keyword:"type",params:{type:"number"},message:"must be number"};e===null?e=[C]:e.push(C),r++}var o=A===r;if(!o)break}}else{let g={instancePath:f+"/image",schemaPath:"#/oneOf/1/properties/image/type",keyword:"type",params:{type:"array"},message:"must be array"};e===null?e=[g]:e.push(g),r++}}}else{let l={instancePath:f,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};e===null?e=[l]:e.push(l),r++}var i=t===r;if(i&&n?(n=!1,s=[s,1]):i&&(n=!0,s=1),n)r=0,e!==null&&(e=null);else{let l={instancePath:f,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:s},message:"must match exactly one schema in oneOf"};return e===null?e=[l]:e.push(l),r++,O.errors=e,!1}return O.errors=e,r===0},T["#/definitions/object-detection"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){let e=null,r=0,n=!1,s=null;if(typeof v!="string"){let l={instancePath:f,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[l]:e.push(l),r++}var i=r===0;i&&(n=!0,s=0);let t=r;if(r===t)if(v&&typeof v=="object"&&!Array.isArray(v)){if(v.image!==void 0){let l=v.image;if(r===r)if(Array.isArray(l)){var o=!0;let g=l.length;for(let E=0;E<g;E++){let A=r;if(typeof l[E]!="number"){let C={instancePath:f+"/image/"+E,schemaPath:"#/oneOf/1/properties/image/items/type",keyword:"type",params:{type:"number"},message:"must be number"};e===null?e=[C]:e.push(C),r++}var o=A===r;if(!o)break}}else{let g={instancePath:f+"/image",schemaPath:"#/oneOf/1/properties/image/type",keyword:"type",params:{type:"array"},message:"must be array"};e===null?e=[g]:e.push(g),r++}}}else{let l={instancePath:f,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};e===null?e=[l]:e.push(l),r++}var i=t===r;if(i&&n?(n=!1,s=[s,1]):i&&(n=!0,s=1),n)r=0,e!==null&&(e=null);else{let l={instancePath:f,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:s},message:"must match exactly one schema in oneOf"};return e===null?e=[l]:e.push(l),r++,O.errors=e,!1}return O.errors=e,r===0},T["#/definitions/text-generation"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){let e=null,r=0;if(!(v&&typeof v=="object"&&!Array.isArray(v)))return O.errors=[{instancePath:f,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;let n=r,s=!1,t=null,o=r;if(v&&typeof v=="object"&&!Array.isArray(v)){let _;if(v.prompt===void 0&&(_="prompt")){let C={instancePath:f,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};e===null?e=[C]:e.push(C),r++}else{if(v.prompt!==void 0){let C=v.prompt,N=r;if(r===N)if(typeof C=="string"){if(S(C)>4096){let j={instancePath:f+"/prompt",schemaPath:"#/oneOf/0/properties/prompt/maxLength",keyword:"maxLength",params:{limit:4096},message:"must NOT have more than 4096 characters"};e===null?e=[j]:e.push(j),r++}}else{let j={instancePath:f+"/prompt",schemaPath:"#/oneOf/0/properties/prompt/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[j]:e.push(j),r++}var i=N===r}else var i=!0;if(i){if(v.raw!==void 0){let N=r;if(typeof v.raw!="boolean"){let j={instancePath:f+"/raw",schemaPath:"#/oneOf/0/properties/raw/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};e===null?e=[j]:e.push(j),r++}var i=N===r}else var i=!0;if(i){if(v.stream!==void 0){let U=r;if(typeof v.stream!="boolean"){let D={instancePath:f+"/stream",schemaPath:"#/oneOf/0/properties/stream/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};e===null?e=[D]:e.push(D),r++}var i=U===r}else var i=!0;if(i)if(v.max_tokens!==void 0){let j=v.max_tokens,D=r;if(!(typeof j=="number"&&!(j%1)&&!isNaN(j))){let b={instancePath:f+"/max_tokens",schemaPath:"#/oneOf/0/properties/max_tokens/type",keyword:"type",params:{type:"integer"},message:"must be integer"};e===null?e=[b]:e.push(b),r++}var i=D===r}else var i=!0}}}}var A=o===r;A&&(s=!0,t=0);let l=r;if(v&&typeof v=="object"&&!Array.isArray(v)){let _;if(v.messages===void 0&&(_="messages")){let C={instancePath:f,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:_},message:"must have required property '"+_+"'"};e===null?e=[C]:e.push(C),r++}else{if(v.messages!==void 0){let C=v.messages,N=r;if(r===N)if(Array.isArray(C)){var h=!0;let j=C.length;for(let D=0;D<j;D++){let L=C[D],b=r;if(r===b)if(L&&typeof L=="object"&&!Array.isArray(L)){let H;if(L.role===void 0&&(H="role")||L.content===void 0&&(H="content")){let B={instancePath:f+"/messages/"+D,schemaPath:"#/oneOf/1/properties/messages/items/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};e===null?e=[B]:e.push(B),r++}else{if(L.role!==void 0){let B=r;if(typeof L.role!="string"){let G={instancePath:f+"/messages/"+D+"/role",schemaPath:"#/oneOf/1/properties/messages/items/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[G]:e.push(G),r++}var g=B===r}else var g=!0;if(g)if(L.content!==void 0){let se=L.content,G=r;if(r===G)if(typeof se=="string"){if(S(se)>4096){let Pe={instancePath:f+"/messages/"+D+"/content",schemaPath:"#/oneOf/1/properties/messages/items/properties/content/maxLength",keyword:"maxLength",params:{limit:4096},message:"must NOT have more than 4096 characters"};e===null?e=[Pe]:e.push(Pe),r++}}else{let Pe={instancePath:f+"/messages/"+D+"/content",schemaPath:"#/oneOf/1/properties/messages/items/properties/content/type",keyword:"type",params:{type:"string"},message:"must be string"};e===null?e=[Pe]:e.push(Pe),r++}var g=G===r}else var g=!0}}else{let H={instancePath:f+"/messages/"+D,schemaPath:"#/oneOf/1/properties/messages/items/type",keyword:"type",params:{type:"object"},message:"must be object"};e===null?e=[H]:e.push(H),r++}var h=b===r;if(!h)break}}else{let j={instancePath:f+"/messages",schemaPath:"#/oneOf/1/properties/messages/type",keyword:"type",params:{type:"array"},message:"must be array"};e===null?e=[j]:e.push(j),r++}var E=N===r}else var E=!0;if(E){if(v.stream!==void 0){let N=r;if(typeof v.stream!="boolean"){let j={instancePath:f+"/stream",schemaPath:"#/oneOf/1/properties/stream/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};e===null?e=[j]:e.push(j),r++}var E=N===r}else var E=!0;if(E)if(v.max_tokens!==void 0){let U=v.max_tokens,j=r;if(!(typeof U=="number"&&!(U%1)&&!isNaN(U))){let L={instancePath:f+"/max_tokens",schemaPath:"#/oneOf/1/properties/max_tokens/type",keyword:"type",params:{type:"integer"},message:"must be integer"};e===null?e=[L]:e.push(L),r++}var E=j===r}else var E=!0}}}var A=l===r;if(A&&s?(s=!1,t=[t,1]):A&&(s=!0,t=1),s)r=n,e!==null&&(n?e.length=n:e=null);else{let _={instancePath:f,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:t},message:"must match exactly one schema in oneOf"};return e===null?e=[_]:e.push(_),r++,O.errors=e,!1}return O.errors=e,r===0};let S=function(O){let v,f=O.length,m=0,c=0;for(;c<f;)m++,(v=O.charCodeAt(c++))>=55296&&v<=56319&&c<f&&(64512&(v=O.charCodeAt(c)))==56320&&c++;return m};T["#/definitions/translation"]=function O(v,{instancePath:f="",parentData:m,parentDataProperty:c,rootData:a=v}={}){if(!v||typeof v!="object"||Array.isArray(v))return O.errors=[{instancePath:f,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(v.source_lang===void 0&&(v.source_lang="en"),v.text===void 0&&(r="text")||v.target_lang===void 0&&(r="target_lang"))return O.errors=[{instancePath:f,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(v.text!==void 0){if(typeof v.text!="string")return O.errors=[{instancePath:f+"/text",schemaPath:"#/properties/text/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var e=!0}else var e=!0;if(e){if(typeof v.source_lang!="string")return O.errors=[{instancePath:f+"/source_lang",schemaPath:"#/properties/source_lang/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var e=!0;if(v.target_lang!==void 0){if(typeof v.target_lang!="string")return O.errors=[{instancePath:f+"/target_lang",schemaPath:"#/properties/target_lang/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var e=!0}else var e=!0}}return O.errors=null,!0}},462:J=>{"use strict";var T=Object.defineProperty,S=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,f={};function m(t){var o;let i=["path"in t&&t.path&&`Path=${t.path}`,"expires"in t&&(t.expires||t.expires===0)&&`Expires=${(typeof t.expires=="number"?new Date(t.expires):t.expires).toUTCString()}`,"maxAge"in t&&typeof t.maxAge=="number"&&`Max-Age=${t.maxAge}`,"domain"in t&&t.domain&&`Domain=${t.domain}`,"secure"in t&&t.secure&&"Secure","httpOnly"in t&&t.httpOnly&&"HttpOnly","sameSite"in t&&t.sameSite&&`SameSite=${t.sameSite}`,"priority"in t&&t.priority&&`Priority=${t.priority}`].filter(Boolean);return`${t.name}=${encodeURIComponent((o=t.value)!=null?o:"")}; ${i.join("; ")}`}function c(t){let o=new Map;for(let i of t.split(/; */)){if(!i)continue;let l=i.indexOf("=");if(l===-1){o.set(i,"true");continue}let[h,g]=[i.slice(0,l),i.slice(l+1)];try{o.set(h,decodeURIComponent(g??"true"))}catch{}}return o}function a(t){var o,i;if(!t)return;let[[l,h],...g]=c(t),{domain:E,expires:A,httponly:_,maxage:C,path:N,samesite:U,secure:j,priority:D}=Object.fromEntries(g.map(([L,b])=>[L.toLowerCase(),b]));return function(L){let b={};for(let I in L)L[I]&&(b[I]=L[I]);return b}({name:l,value:decodeURIComponent(h),domain:E,...A&&{expires:new Date(A)},..._&&{httpOnly:!0},...typeof C=="string"&&{maxAge:Number(C)},path:N,...U&&{sameSite:e.includes(o=(o=U).toLowerCase())?o:void 0},...j&&{secure:!0},...D&&{priority:r.includes(i=(i=D).toLowerCase())?i:void 0}})}((t,o)=>{for(var i in o)T(t,i,{get:o[i],enumerable:!0})})(f,{RequestCookies:()=>n,ResponseCookies:()=>s,parseCookie:()=>c,parseSetCookie:()=>a,stringifyCookie:()=>m}),J.exports=((t,o,i,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let h of O(o))v.call(t,h)||h===void 0||T(t,h,{get:()=>o[h],enumerable:!(l=S(o,h))||l.enumerable});return t})(T({},"__esModule",{value:!0}),f);var e=["strict","lax","none"],r=["low","medium","high"],n=class{constructor(t){this._parsed=new Map,this._headers=t;let o=t.get("cookie");if(o)for(let[i,l]of c(o))this._parsed.set(i,{name:i,value:l})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...t){let o=typeof t[0]=="string"?t[0]:t[0].name;return this._parsed.get(o)}getAll(...t){var o;let i=Array.from(this._parsed);if(!t.length)return i.map(([h,g])=>g);let l=typeof t[0]=="string"?t[0]:(o=t[0])==null?void 0:o.name;return i.filter(([h])=>h===l).map(([h,g])=>g)}has(t){return this._parsed.has(t)}set(...t){let[o,i]=t.length===1?[t[0].name,t[0].value]:t,l=this._parsed;return l.set(o,{name:o,value:i}),this._headers.set("cookie",Array.from(l).map(([h,g])=>m(g)).join("; ")),this}delete(t){let o=this._parsed,i=Array.isArray(t)?t.map(l=>o.delete(l)):o.delete(t);return this._headers.set("cookie",Array.from(o).map(([l,h])=>m(h)).join("; ")),i}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(t=>`${t.name}=${encodeURIComponent(t.value)}`).join("; ")}},s=class{constructor(t){var o,i,l;this._parsed=new Map,this._headers=t;let h=(l=(i=(o=t.getSetCookie)==null?void 0:o.call(t))!=null?i:t.get("set-cookie"))!=null?l:[];for(let g of Array.isArray(h)?h:function(E){if(!E)return[];var A,_,C,N,U,j=[],D=0;function L(){for(;D<E.length&&/\s/.test(E.charAt(D));)D+=1;return D<E.length}for(;D<E.length;){for(A=D,U=!1;L();)if((_=E.charAt(D))===","){for(C=D,D+=1,L(),N=D;D<E.length&&(_=E.charAt(D))!=="="&&_!==";"&&_!==",";)D+=1;D<E.length&&E.charAt(D)==="="?(U=!0,D=N,j.push(E.substring(A,C)),A=D):D=C+1}else D+=1;(!U||D>=E.length)&&j.push(E.substring(A,E.length))}return j}(h)){let E=a(g);E&&this._parsed.set(E.name,E)}}get(...t){let o=typeof t[0]=="string"?t[0]:t[0].name;return this._parsed.get(o)}getAll(...t){var o;let i=Array.from(this._parsed.values());if(!t.length)return i;let l=typeof t[0]=="string"?t[0]:(o=t[0])==null?void 0:o.name;return i.filter(h=>h.name===l)}has(t){return this._parsed.has(t)}set(...t){let[o,i,l]=t.length===1?[t[0].name,t[0].value,t[0]]:t,h=this._parsed;return h.set(o,function(g={name:"",value:""}){return typeof g.expires=="number"&&(g.expires=new Date(g.expires)),g.maxAge&&(g.expires=new Date(Date.now()+1e3*g.maxAge)),(g.path===null||g.path===void 0)&&(g.path="/"),g}({name:o,value:i,...l})),function(g,E){for(let[,A]of(E.delete("set-cookie"),g)){let _=m(A);E.append("set-cookie",_)}}(h,this._headers),this}delete(...t){let[o,i,l]=typeof t[0]=="string"?[t[0]]:[t[0].name,t[0].path,t[0].domain];return this.set({name:o,path:i,domain:l,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(m).join("; ")}}},75:(J,T,S)=>{(()=>{"use strict";var O={491:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ContextAPI=void 0;let r=e(223),n=e(172),s=e(930),t="context",o=new r.NoopContextManager;class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalContextManager(h){return(0,n.registerGlobal)(t,h,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(h,g,E,...A){return this._getContextManager().with(h,g,E,...A)}bind(h,g){return this._getContextManager().bind(h,g)}_getContextManager(){return(0,n.getGlobal)(t)||o}disable(){this._getContextManager().disable(),(0,n.unregisterGlobal)(t,s.DiagAPI.instance())}}a.ContextAPI=i},930:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DiagAPI=void 0;let r=e(56),n=e(912),s=e(957),t=e(172);class o{constructor(){function l(g){return function(...E){let A=(0,t.getGlobal)("diag");if(A)return A[g](...E)}}let h=this;h.setLogger=(g,E={logLevel:s.DiagLogLevel.INFO})=>{var A,_,C;if(g===h){let j=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return h.error((A=j.stack)!==null&&A!==void 0?A:j.message),!1}typeof E=="number"&&(E={logLevel:E});let N=(0,t.getGlobal)("diag"),U=(0,n.createLogLevelDiagLogger)((_=E.logLevel)!==null&&_!==void 0?_:s.DiagLogLevel.INFO,g);if(N&&!E.suppressOverrideMessage){let j=(C=Error().stack)!==null&&C!==void 0?C:"<failed to generate stacktrace>";N.warn(`Current logger will be overwritten from ${j}`),U.warn(`Current logger will overwrite one already registered from ${j}`)}return(0,t.registerGlobal)("diag",U,h,!0)},h.disable=()=>{(0,t.unregisterGlobal)("diag",h)},h.createComponentLogger=g=>new r.DiagComponentLogger(g),h.verbose=l("verbose"),h.debug=l("debug"),h.info=l("info"),h.warn=l("warn"),h.error=l("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}a.DiagAPI=o},653:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MetricsAPI=void 0;let r=e(660),n=e(172),s=e(930),t="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(l){return(0,n.registerGlobal)(t,l,s.DiagAPI.instance())}getMeterProvider(){return(0,n.getGlobal)(t)||r.NOOP_METER_PROVIDER}getMeter(l,h,g){return this.getMeterProvider().getMeter(l,h,g)}disable(){(0,n.unregisterGlobal)(t,s.DiagAPI.instance())}}a.MetricsAPI=o},181:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PropagationAPI=void 0;let r=e(172),n=e(874),s=e(194),t=e(277),o=e(369),i=e(930),l="propagation",h=new n.NoopTextMapPropagator;class g{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=t.getBaggage,this.getActiveBaggage=t.getActiveBaggage,this.setBaggage=t.setBaggage,this.deleteBaggage=t.deleteBaggage}static getInstance(){return this._instance||(this._instance=new g),this._instance}setGlobalPropagator(A){return(0,r.registerGlobal)(l,A,i.DiagAPI.instance())}inject(A,_,C=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(A,_,C)}extract(A,_,C=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(A,_,C)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,r.unregisterGlobal)(l,i.DiagAPI.instance())}_getGlobalPropagator(){return(0,r.getGlobal)(l)||h}}a.PropagationAPI=g},997:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceAPI=void 0;let r=e(172),n=e(846),s=e(139),t=e(607),o=e(930),i="trace";class l{constructor(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=t.deleteSpan,this.getSpan=t.getSpan,this.getActiveSpan=t.getActiveSpan,this.getSpanContext=t.getSpanContext,this.setSpan=t.setSpan,this.setSpanContext=t.setSpanContext}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalTracerProvider(g){let E=(0,r.registerGlobal)(i,this._proxyTracerProvider,o.DiagAPI.instance());return E&&this._proxyTracerProvider.setDelegate(g),E}getTracerProvider(){return(0,r.getGlobal)(i)||this._proxyTracerProvider}getTracer(g,E){return this.getTracerProvider().getTracer(g,E)}disable(){(0,r.unregisterGlobal)(i,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider}}a.TraceAPI=l},277:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.deleteBaggage=a.setBaggage=a.getActiveBaggage=a.getBaggage=void 0;let r=e(491),n=(0,e(780).createContextKey)("OpenTelemetry Baggage Key");function s(t){return t.getValue(n)||void 0}a.getBaggage=s,a.getActiveBaggage=function(){return s(r.ContextAPI.getInstance().active())},a.setBaggage=function(t,o){return t.setValue(n,o)},a.deleteBaggage=function(t){return t.deleteValue(n)}},993:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaggageImpl=void 0;class e{constructor(n){this._entries=n?new Map(n):new Map}getEntry(n){let s=this._entries.get(n);if(s)return Object.assign({},s)}getAllEntries(){return Array.from(this._entries.entries()).map(([n,s])=>[n,s])}setEntry(n,s){let t=new e(this._entries);return t._entries.set(n,s),t}removeEntry(n){let s=new e(this._entries);return s._entries.delete(n),s}removeEntries(...n){let s=new e(this._entries);for(let t of n)s._entries.delete(t);return s}clear(){return new e}}a.BaggageImpl=e},830:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.baggageEntryMetadataSymbol=void 0,a.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.baggageEntryMetadataFromString=a.createBaggage=void 0;let r=e(930),n=e(993),s=e(830),t=r.DiagAPI.instance();a.createBaggage=function(o={}){return new n.BaggageImpl(new Map(Object.entries(o)))},a.baggageEntryMetadataFromString=function(o){return typeof o!="string"&&(t.error(`Cannot create baggage metadata from unknown type: ${typeof o}`),o=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>o}}},67:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.context=void 0;let r=e(491);a.context=r.ContextAPI.getInstance()},223:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NoopContextManager=void 0;let r=e(780);class n{active(){return r.ROOT_CONTEXT}with(t,o,i,...l){return o.call(i,...l)}bind(t,o){return o}enable(){return this}disable(){return this}}a.NoopContextManager=n},780:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ROOT_CONTEXT=a.createContextKey=void 0,a.createContextKey=function(r){return Symbol.for(r)};class e{constructor(n){let s=this;s._currentContext=n?new Map(n):new Map,s.getValue=t=>s._currentContext.get(t),s.setValue=(t,o)=>{let i=new e(s._currentContext);return i._currentContext.set(t,o),i},s.deleteValue=t=>{let o=new e(s._currentContext);return o._currentContext.delete(t),o}}}a.ROOT_CONTEXT=new e},506:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.diag=void 0;let r=e(930);a.diag=r.DiagAPI.instance()},56:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DiagComponentLogger=void 0;let r=e(172);class n{constructor(o){this._namespace=o.namespace||"DiagComponentLogger"}debug(...o){return s("debug",this._namespace,o)}error(...o){return s("error",this._namespace,o)}info(...o){return s("info",this._namespace,o)}warn(...o){return s("warn",this._namespace,o)}verbose(...o){return s("verbose",this._namespace,o)}}function s(t,o,i){let l=(0,r.getGlobal)("diag");if(l)return i.unshift(o),l[t](...i)}a.DiagComponentLogger=n},972:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DiagConsoleLogger=void 0;let e=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class r{constructor(){for(let s=0;s<e.length;s++)this[e[s].n]=function(t){return function(...o){if(console){let i=console[t];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,o)}}}(e[s].c)}}a.DiagConsoleLogger=r},912:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createLogLevelDiagLogger=void 0;let r=e(957);a.createLogLevelDiagLogger=function(n,s){function t(o,i){let l=s[o];return typeof l=="function"&&n>=i?l.bind(s):function(){}}return n<r.DiagLogLevel.NONE?n=r.DiagLogLevel.NONE:n>r.DiagLogLevel.ALL&&(n=r.DiagLogLevel.ALL),s=s||{},{error:t("error",r.DiagLogLevel.ERROR),warn:t("warn",r.DiagLogLevel.WARN),info:t("info",r.DiagLogLevel.INFO),debug:t("debug",r.DiagLogLevel.DEBUG),verbose:t("verbose",r.DiagLogLevel.VERBOSE)}}},957:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(a.DiagLogLevel||(a.DiagLogLevel={}))},172:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.unregisterGlobal=a.getGlobal=a.registerGlobal=void 0;let r=e(200),n=e(521),s=e(130),t=n.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${t}`),i=r._globalThis;a.registerGlobal=function(l,h,g,E=!1){var A;let _=i[o]=(A=i[o])!==null&&A!==void 0?A:{version:n.VERSION};if(!E&&_[l]){let C=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${l}`);return g.error(C.stack||C.message),!1}if(_.version!==n.VERSION){let C=Error(`@opentelemetry/api: Registration of version v${_.version} for ${l} does not match previously registered API v${n.VERSION}`);return g.error(C.stack||C.message),!1}return _[l]=h,g.debug(`@opentelemetry/api: Registered a global for ${l} v${n.VERSION}.`),!0},a.getGlobal=function(l){var h,g;let E=(h=i[o])===null||h===void 0?void 0:h.version;if(E&&(0,s.isCompatible)(E))return(g=i[o])===null||g===void 0?void 0:g[l]},a.unregisterGlobal=function(l,h){h.debug(`@opentelemetry/api: Unregistering a global for ${l} v${n.VERSION}.`);let g=i[o];g&&delete g[l]}},130:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isCompatible=a._makeCompatibilityCheck=void 0;let r=e(521),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(t){let o=new Set([t]),i=new Set,l=t.match(n);if(!l)return()=>!1;let h={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};if(h.prerelease!=null)return function(E){return E===t};function g(E){return i.add(E),!1}return function(E){if(o.has(E))return!0;if(i.has(E))return!1;let A=E.match(n);if(!A)return g(E);let _={major:+A[1],minor:+A[2],patch:+A[3],prerelease:A[4]};return _.prerelease!=null||h.major!==_.major?g(E):h.major===0?h.minor===_.minor&&h.patch<=_.patch?(o.add(E),!0):g(E):h.minor<=_.minor?(o.add(E),!0):g(E)}}a._makeCompatibilityCheck=s,a.isCompatible=s(r.VERSION)},886:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.metrics=void 0;let r=e(653);a.metrics=r.MetricsAPI.getInstance()},901:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(a.ValueType||(a.ValueType={}))},102:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createNoopMeter=a.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=a.NOOP_OBSERVABLE_GAUGE_METRIC=a.NOOP_OBSERVABLE_COUNTER_METRIC=a.NOOP_UP_DOWN_COUNTER_METRIC=a.NOOP_HISTOGRAM_METRIC=a.NOOP_COUNTER_METRIC=a.NOOP_METER=a.NoopObservableUpDownCounterMetric=a.NoopObservableGaugeMetric=a.NoopObservableCounterMetric=a.NoopObservableMetric=a.NoopHistogramMetric=a.NoopUpDownCounterMetric=a.NoopCounterMetric=a.NoopMetric=a.NoopMeter=void 0;class e{constructor(){}createHistogram(E,A){return a.NOOP_HISTOGRAM_METRIC}createCounter(E,A){return a.NOOP_COUNTER_METRIC}createUpDownCounter(E,A){return a.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(E,A){return a.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(E,A){return a.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(E,A){return a.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(E,A){}removeBatchObservableCallback(E){}}a.NoopMeter=e;class r{}a.NoopMetric=r;class n extends r{add(E,A){}}a.NoopCounterMetric=n;class s extends r{add(E,A){}}a.NoopUpDownCounterMetric=s;class t extends r{record(E,A){}}a.NoopHistogramMetric=t;class o{addCallback(E){}removeCallback(E){}}a.NoopObservableMetric=o;class i extends o{}a.NoopObservableCounterMetric=i;class l extends o{}a.NoopObservableGaugeMetric=l;class h extends o{}a.NoopObservableUpDownCounterMetric=h,a.NOOP_METER=new e,a.NOOP_COUNTER_METRIC=new n,a.NOOP_HISTOGRAM_METRIC=new t,a.NOOP_UP_DOWN_COUNTER_METRIC=new s,a.NOOP_OBSERVABLE_COUNTER_METRIC=new i,a.NOOP_OBSERVABLE_GAUGE_METRIC=new l,a.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new h,a.createNoopMeter=function(){return a.NOOP_METER}},660:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NOOP_METER_PROVIDER=a.NoopMeterProvider=void 0;let r=e(102);class n{getMeter(t,o,i){return r.NOOP_METER}}a.NoopMeterProvider=n,a.NOOP_METER_PROVIDER=new n},200:function(c,a,e){var r=this&&this.__createBinding||(Object.create?function(s,t,o,i){i===void 0&&(i=o),Object.defineProperty(s,i,{enumerable:!0,get:function(){return t[o]}})}:function(s,t,o,i){i===void 0&&(i=o),s[i]=t[o]}),n=this&&this.__exportStar||function(s,t){for(var o in s)o==="default"||Object.prototype.hasOwnProperty.call(t,o)||r(t,s,o)};Object.defineProperty(a,"__esModule",{value:!0}),n(e(46),a)},651:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a._globalThis=void 0,a._globalThis=typeof globalThis=="object"?globalThis:S.g},46:function(c,a,e){var r=this&&this.__createBinding||(Object.create?function(s,t,o,i){i===void 0&&(i=o),Object.defineProperty(s,i,{enumerable:!0,get:function(){return t[o]}})}:function(s,t,o,i){i===void 0&&(i=o),s[i]=t[o]}),n=this&&this.__exportStar||function(s,t){for(var o in s)o==="default"||Object.prototype.hasOwnProperty.call(t,o)||r(t,s,o)};Object.defineProperty(a,"__esModule",{value:!0}),n(e(651),a)},939:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.propagation=void 0;let r=e(181);a.propagation=r.PropagationAPI.getInstance()},874:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NoopTextMapPropagator=void 0;class e{inject(n,s){}extract(n,s){return n}fields(){return[]}}a.NoopTextMapPropagator=e},194:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.defaultTextMapSetter=a.defaultTextMapGetter=void 0,a.defaultTextMapGetter={get(e,r){if(e!=null)return e[r]},keys:e=>e==null?[]:Object.keys(e)},a.defaultTextMapSetter={set(e,r,n){e!=null&&(e[r]=n)}}},845:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.trace=void 0;let r=e(997);a.trace=r.TraceAPI.getInstance()},403:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NonRecordingSpan=void 0;let r=e(476);class n{constructor(t=r.INVALID_SPAN_CONTEXT){this._spanContext=t}spanContext(){return this._spanContext}setAttribute(t,o){return this}setAttributes(t){return this}addEvent(t,o){return this}setStatus(t){return this}updateName(t){return this}end(t){}isRecording(){return!1}recordException(t,o){}}a.NonRecordingSpan=n},614:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NoopTracer=void 0;let r=e(491),n=e(607),s=e(403),t=e(139),o=r.ContextAPI.getInstance();class i{startSpan(h,g,E=o.active()){if(g?.root)return new s.NonRecordingSpan;let A=E&&(0,n.getSpanContext)(E);return typeof A=="object"&&typeof A.spanId=="string"&&typeof A.traceId=="string"&&typeof A.traceFlags=="number"&&(0,t.isSpanContextValid)(A)?new s.NonRecordingSpan(A):new s.NonRecordingSpan}startActiveSpan(h,g,E,A){let _,C,N;if(arguments.length<2)return;arguments.length==2?N=g:arguments.length==3?(_=g,N=E):(_=g,C=E,N=A);let U=C??o.active(),j=this.startSpan(h,_,U),D=(0,n.setSpan)(U,j);return o.with(D,N,void 0,j)}}a.NoopTracer=i},124:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NoopTracerProvider=void 0;let r=e(614);class n{getTracer(t,o,i){return new r.NoopTracer}}a.NoopTracerProvider=n},125:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ProxyTracer=void 0;let r=new(e(614)).NoopTracer;class n{constructor(t,o,i,l){this._provider=t,this.name=o,this.version=i,this.options=l}startSpan(t,o,i){return this._getTracer().startSpan(t,o,i)}startActiveSpan(t,o,i,l){let h=this._getTracer();return Reflect.apply(h.startActiveSpan,h,arguments)}_getTracer(){if(this._delegate)return this._delegate;let t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):r}}a.ProxyTracer=n},846:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ProxyTracerProvider=void 0;let r=e(125),n=new(e(124)).NoopTracerProvider;class s{getTracer(o,i,l){var h;return(h=this.getDelegateTracer(o,i,l))!==null&&h!==void 0?h:new r.ProxyTracer(this,o,i,l)}getDelegate(){var o;return(o=this._delegate)!==null&&o!==void 0?o:n}setDelegate(o){this._delegate=o}getDelegateTracer(o,i,l){var h;return(h=this._delegate)===null||h===void 0?void 0:h.getTracer(o,i,l)}}a.ProxyTracerProvider=s},996:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(a.SamplingDecision||(a.SamplingDecision={}))},607:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getSpanContext=a.setSpanContext=a.deleteSpan=a.setSpan=a.getActiveSpan=a.getSpan=void 0;let r=e(780),n=e(403),s=e(491),t=(0,r.createContextKey)("OpenTelemetry Context Key SPAN");function o(l){return l.getValue(t)||void 0}function i(l,h){return l.setValue(t,h)}a.getSpan=o,a.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},a.setSpan=i,a.deleteSpan=function(l){return l.deleteValue(t)},a.setSpanContext=function(l,h){return i(l,new n.NonRecordingSpan(h))},a.getSpanContext=function(l){var h;return(h=o(l))===null||h===void 0?void 0:h.spanContext()}},325:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceStateImpl=void 0;let r=e(564);class n{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,o){let i=this._clone();return i._internalState.has(t)&&i._internalState.delete(t),i._internalState.set(t,o),i}unset(t){let o=this._clone();return o._internalState.delete(t),o}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,o)=>(t.push(o+"="+this.get(o)),t),[]).join(",")}_parse(t){!(t.length>512)&&(this._internalState=t.split(",").reverse().reduce((o,i)=>{let l=i.trim(),h=l.indexOf("=");if(h!==-1){let g=l.slice(0,h),E=l.slice(h+1,i.length);(0,r.validateKey)(g)&&(0,r.validateValue)(E)&&o.set(g,E)}return o},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new n;return t._internalState=new Map(this._internalState),t}}a.TraceStateImpl=n},564:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.validateValue=a.validateKey=void 0;let e="[_0-9a-z-*/]",r=`[a-z]${e}{0,255}`,n=`[a-z0-9]${e}{0,240}@[a-z]${e}{0,13}`,s=RegExp(`^(?:${r}|${n})$`),t=/^[ -~]{0,255}[!-~]$/,o=/,|=/;a.validateKey=function(i){return s.test(i)},a.validateValue=function(i){return t.test(i)&&!o.test(i)}},98:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createTraceState=void 0;let r=e(325);a.createTraceState=function(n){return new r.TraceStateImpl(n)}},476:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.INVALID_SPAN_CONTEXT=a.INVALID_TRACEID=a.INVALID_SPANID=void 0;let r=e(475);a.INVALID_SPANID="0000000000000000",a.INVALID_TRACEID="00000000000000000000000000000000",a.INVALID_SPAN_CONTEXT={traceId:a.INVALID_TRACEID,spanId:a.INVALID_SPANID,traceFlags:r.TraceFlags.NONE}},357:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(a.SpanKind||(a.SpanKind={}))},139:(c,a,e)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.wrapSpanContext=a.isSpanContextValid=a.isValidSpanId=a.isValidTraceId=void 0;let r=e(476),n=e(403),s=/^([0-9a-f]{32})$/i,t=/^[0-9a-f]{16}$/i;function o(l){return s.test(l)&&l!==r.INVALID_TRACEID}function i(l){return t.test(l)&&l!==r.INVALID_SPANID}a.isValidTraceId=o,a.isValidSpanId=i,a.isSpanContextValid=function(l){return o(l.traceId)&&i(l.spanId)},a.wrapSpanContext=function(l){return new n.NonRecordingSpan(l)}},847:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(a.SpanStatusCode||(a.SpanStatusCode={}))},475:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(a.TraceFlags||(a.TraceFlags={}))},521:(c,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VERSION=void 0,a.VERSION="1.6.0"}},v={};function f(c){var a=v[c];if(a!==void 0)return a.exports;var e=v[c]={exports:{}},r=!0;try{O[c].call(e.exports,e,e.exports,f),r=!1}finally{r&&delete v[c]}return e.exports}f.ab="//";var m={};(()=>{Object.defineProperty(m,"__esModule",{value:!0}),m.trace=m.propagation=m.metrics=m.diag=m.context=m.INVALID_SPAN_CONTEXT=m.INVALID_TRACEID=m.INVALID_SPANID=m.isValidSpanId=m.isValidTraceId=m.isSpanContextValid=m.createTraceState=m.TraceFlags=m.SpanStatusCode=m.SpanKind=m.SamplingDecision=m.ProxyTracerProvider=m.ProxyTracer=m.defaultTextMapSetter=m.defaultTextMapGetter=m.ValueType=m.createNoopMeter=m.DiagLogLevel=m.DiagConsoleLogger=m.ROOT_CONTEXT=m.createContextKey=m.baggageEntryMetadataFromString=void 0;var c=f(369);Object.defineProperty(m,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return c.baggageEntryMetadataFromString}});var a=f(780);Object.defineProperty(m,"createContextKey",{enumerable:!0,get:function(){return a.createContextKey}}),Object.defineProperty(m,"ROOT_CONTEXT",{enumerable:!0,get:function(){return a.ROOT_CONTEXT}});var e=f(972);Object.defineProperty(m,"DiagConsoleLogger",{enumerable:!0,get:function(){return e.DiagConsoleLogger}});var r=f(957);Object.defineProperty(m,"DiagLogLevel",{enumerable:!0,get:function(){return r.DiagLogLevel}});var n=f(102);Object.defineProperty(m,"createNoopMeter",{enumerable:!0,get:function(){return n.createNoopMeter}});var s=f(901);Object.defineProperty(m,"ValueType",{enumerable:!0,get:function(){return s.ValueType}});var t=f(194);Object.defineProperty(m,"defaultTextMapGetter",{enumerable:!0,get:function(){return t.defaultTextMapGetter}}),Object.defineProperty(m,"defaultTextMapSetter",{enumerable:!0,get:function(){return t.defaultTextMapSetter}});var o=f(125);Object.defineProperty(m,"ProxyTracer",{enumerable:!0,get:function(){return o.ProxyTracer}});var i=f(846);Object.defineProperty(m,"ProxyTracerProvider",{enumerable:!0,get:function(){return i.ProxyTracerProvider}});var l=f(996);Object.defineProperty(m,"SamplingDecision",{enumerable:!0,get:function(){return l.SamplingDecision}});var h=f(357);Object.defineProperty(m,"SpanKind",{enumerable:!0,get:function(){return h.SpanKind}});var g=f(847);Object.defineProperty(m,"SpanStatusCode",{enumerable:!0,get:function(){return g.SpanStatusCode}});var E=f(475);Object.defineProperty(m,"TraceFlags",{enumerable:!0,get:function(){return E.TraceFlags}});var A=f(98);Object.defineProperty(m,"createTraceState",{enumerable:!0,get:function(){return A.createTraceState}});var _=f(139);Object.defineProperty(m,"isSpanContextValid",{enumerable:!0,get:function(){return _.isSpanContextValid}}),Object.defineProperty(m,"isValidTraceId",{enumerable:!0,get:function(){return _.isValidTraceId}}),Object.defineProperty(m,"isValidSpanId",{enumerable:!0,get:function(){return _.isValidSpanId}});var C=f(476);Object.defineProperty(m,"INVALID_SPANID",{enumerable:!0,get:function(){return C.INVALID_SPANID}}),Object.defineProperty(m,"INVALID_TRACEID",{enumerable:!0,get:function(){return C.INVALID_TRACEID}}),Object.defineProperty(m,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return C.INVALID_SPAN_CONTEXT}});let N=f(67);Object.defineProperty(m,"context",{enumerable:!0,get:function(){return N.context}});let U=f(506);Object.defineProperty(m,"diag",{enumerable:!0,get:function(){return U.diag}});let j=f(886);Object.defineProperty(m,"metrics",{enumerable:!0,get:function(){return j.metrics}});let D=f(939);Object.defineProperty(m,"propagation",{enumerable:!0,get:function(){return D.propagation}});let L=f(845);Object.defineProperty(m,"trace",{enumerable:!0,get:function(){return L.trace}}),m.default={context:N.context,diag:U.diag,metrics:j.metrics,propagation:D.propagation,trace:L.trace}})(),J.exports=m})()},577:J=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="//");var T={};(()=>{T.parse=function(m,c){if(typeof m!="string")throw TypeError("argument str must be a string");for(var a={},e=m.split(v),r=(c||{}).decode||S,n=0;n<e.length;n++){var s=e[n],t=s.indexOf("=");if(!(t<0)){var o=s.substr(0,t).trim(),i=s.substr(++t,s.length).trim();i[0]=='"'&&(i=i.slice(1,-1)),a[o]==null&&(a[o]=function(l,h){try{return h(l)}catch{return l}}(i,r))}}return a},T.serialize=function(m,c,a){var e=a||{},r=e.encode||O;if(typeof r!="function")throw TypeError("option encode is invalid");if(!f.test(m))throw TypeError("argument name is invalid");var n=r(c);if(n&&!f.test(n))throw TypeError("argument val is invalid");var s=m+"="+n;if(e.maxAge!=null){var t=e.maxAge-0;if(isNaN(t)||!isFinite(t))throw TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(t)}if(e.domain){if(!f.test(e.domain))throw TypeError("option domain is invalid");s+="; Domain="+e.domain}if(e.path){if(!f.test(e.path))throw TypeError("option path is invalid");s+="; Path="+e.path}if(e.expires){if(typeof e.expires.toUTCString!="function")throw TypeError("option expires is invalid");s+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(s+="; HttpOnly"),e.secure&&(s+="; Secure"),e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return s};var S=decodeURIComponent,O=encodeURIComponent,v=/; */,f=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),J.exports=T})()},834:J=>{(()=>{"use strict";var T={806:(f,m,c)=>{let a=c(190),e=Symbol("max"),r=Symbol("length"),n=Symbol("lengthCalculator"),s=Symbol("allowStale"),t=Symbol("maxAge"),o=Symbol("dispose"),i=Symbol("noDisposeOnSet"),l=Symbol("lruList"),h=Symbol("cache"),g=Symbol("updateAgeOnGet"),E=()=>1;class A{constructor(b){if(typeof b=="number"&&(b={max:b}),b||(b={}),b.max&&(typeof b.max!="number"||b.max<0))throw TypeError("max must be a non-negative number");this[e]=b.max||1/0;let I=b.length||E;if(this[n]=typeof I!="function"?E:I,this[s]=b.stale||!1,b.maxAge&&typeof b.maxAge!="number")throw TypeError("maxAge must be a number");this[t]=b.maxAge||0,this[o]=b.dispose,this[i]=b.noDisposeOnSet||!1,this[g]=b.updateAgeOnGet||!1,this.reset()}set max(b){if(typeof b!="number"||b<0)throw TypeError("max must be a non-negative number");this[e]=b||1/0,N(this)}get max(){return this[e]}set allowStale(b){this[s]=!!b}get allowStale(){return this[s]}set maxAge(b){if(typeof b!="number")throw TypeError("maxAge must be a non-negative number");this[t]=b,N(this)}get maxAge(){return this[t]}set lengthCalculator(b){typeof b!="function"&&(b=E),b!==this[n]&&(this[n]=b,this[r]=0,this[l].forEach(I=>{I.length=this[n](I.value,I.key),this[r]+=I.length})),N(this)}get lengthCalculator(){return this[n]}get length(){return this[r]}get itemCount(){return this[l].length}rforEach(b,I){I=I||this;for(let H=this[l].tail;H!==null;){let B=H.prev;D(this,b,H,I),H=B}}forEach(b,I){I=I||this;for(let H=this[l].head;H!==null;){let B=H.next;D(this,b,H,I),H=B}}keys(){return this[l].toArray().map(b=>b.key)}values(){return this[l].toArray().map(b=>b.value)}reset(){this[o]&&this[l]&&this[l].length&&this[l].forEach(b=>this[o](b.key,b.value)),this[h]=new Map,this[l]=new a,this[r]=0}dump(){return this[l].map(b=>!C(this,b)&&{k:b.key,v:b.value,e:b.now+(b.maxAge||0)}).toArray().filter(b=>b)}dumpLru(){return this[l]}set(b,I,H){if((H=H||this[t])&&typeof H!="number")throw TypeError("maxAge must be a number");let B=H?Date.now():0,se=this[n](I,b);if(this[h].has(b)){if(se>this[e])return U(this,this[h].get(b)),!1;let ue=this[h].get(b).value;return this[o]&&!this[i]&&this[o](b,ue.value),ue.now=B,ue.maxAge=H,ue.value=I,this[r]+=se-ue.length,ue.length=se,this.get(b),N(this),!0}let G=new j(b,I,se,B,H);return G.length>this[e]?(this[o]&&this[o](b,I),!1):(this[r]+=G.length,this[l].unshift(G),this[h].set(b,this[l].head),N(this),!0)}has(b){return!!this[h].has(b)&&!C(this,this[h].get(b).value)}get(b){return _(this,b,!0)}peek(b){return _(this,b,!1)}pop(){let b=this[l].tail;return b?(U(this,b),b.value):null}del(b){U(this,this[h].get(b))}load(b){this.reset();let I=Date.now();for(let H=b.length-1;H>=0;H--){let B=b[H],se=B.e||0;if(se===0)this.set(B.k,B.v);else{let G=se-I;G>0&&this.set(B.k,B.v,G)}}}prune(){this[h].forEach((b,I)=>_(this,I,!1))}}let _=(L,b,I)=>{let H=L[h].get(b);if(H){let B=H.value;if(C(L,B)){if(U(L,H),!L[s])return}else I&&(L[g]&&(H.value.now=Date.now()),L[l].unshiftNode(H));return B.value}},C=(L,b)=>{if(!b||!b.maxAge&&!L[t])return!1;let I=Date.now()-b.now;return b.maxAge?I>b.maxAge:L[t]&&I>L[t]},N=L=>{if(L[r]>L[e])for(let b=L[l].tail;L[r]>L[e]&&b!==null;){let I=b.prev;U(L,b),b=I}},U=(L,b)=>{if(b){let I=b.value;L[o]&&L[o](I.key,I.value),L[r]-=I.length,L[h].delete(I.key),L[l].removeNode(b)}};class j{constructor(b,I,H,B,se){this.key=b,this.value=I,this.length=H,this.now=B,this.maxAge=se||0}}let D=(L,b,I,H)=>{let B=I.value;C(L,B)&&(U(L,I),L[s]||(B=void 0)),B&&b.call(H,B.value,B.key,L)};f.exports=A},76:f=>{f.exports=function(m){m.prototype[Symbol.iterator]=function*(){for(let c=this.head;c;c=c.next)yield c.value}}},190:(f,m,c)=>{function a(r){var n=this;if(n instanceof a||(n=new a),n.tail=null,n.head=null,n.length=0,r&&typeof r.forEach=="function")r.forEach(function(o){n.push(o)});else if(arguments.length>0)for(var s=0,t=arguments.length;s<t;s++)n.push(arguments[s]);return n}function e(r,n,s,t){if(!(this instanceof e))return new e(r,n,s,t);this.list=t,this.value=r,n?(n.next=this,this.prev=n):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}f.exports=a,a.Node=e,a.create=a,a.prototype.removeNode=function(r){if(r.list!==this)throw Error("removing node which does not belong to this list");var n=r.next,s=r.prev;return n&&(n.prev=s),s&&(s.next=n),r===this.head&&(this.head=n),r===this.tail&&(this.tail=s),r.list.length--,r.next=null,r.prev=null,r.list=null,n},a.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var n=this.head;r.list=this,r.next=n,n&&(n.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}},a.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var n=this.tail;r.list=this,r.prev=n,n&&(n.next=r),this.tail=r,this.head||(this.head=r),this.length++}},a.prototype.push=function(){for(var r,n=0,s=arguments.length;n<s;n++)r=arguments[n],this.tail=new e(r,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},a.prototype.unshift=function(){for(var r,n=0,s=arguments.length;n<s;n++)r=arguments[n],this.head=new e(r,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},a.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}},a.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}},a.prototype.forEach=function(r,n){n=n||this;for(var s=this.head,t=0;s!==null;t++)r.call(n,s.value,t,this),s=s.next},a.prototype.forEachReverse=function(r,n){n=n||this;for(var s=this.tail,t=this.length-1;s!==null;t--)r.call(n,s.value,t,this),s=s.prev},a.prototype.get=function(r){for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;if(n===r&&s!==null)return s.value},a.prototype.getReverse=function(r){for(var n=0,s=this.tail;s!==null&&n<r;n++)s=s.prev;if(n===r&&s!==null)return s.value},a.prototype.map=function(r,n){n=n||this;for(var s=new a,t=this.head;t!==null;)s.push(r.call(n,t.value,this)),t=t.next;return s},a.prototype.mapReverse=function(r,n){n=n||this;for(var s=new a,t=this.tail;t!==null;)s.push(r.call(n,t.value,this)),t=t.prev;return s},a.prototype.reduce=function(r,n){var s,t=this.head;if(arguments.length>1)s=n;else if(this.head)t=this.head.next,s=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var o=0;t!==null;o++)s=r(s,t.value,o),t=t.next;return s},a.prototype.reduceReverse=function(r,n){var s,t=this.tail;if(arguments.length>1)s=n;else if(this.tail)t=this.tail.prev,s=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;t!==null;o--)s=r(s,t.value,o),t=t.prev;return s},a.prototype.toArray=function(){for(var r=Array(this.length),n=0,s=this.head;s!==null;n++)r[n]=s.value,s=s.next;return r},a.prototype.toArrayReverse=function(){for(var r=Array(this.length),n=0,s=this.tail;s!==null;n++)r[n]=s.value,s=s.prev;return r},a.prototype.slice=function(r,n){(n=n||this.length)<0&&(n+=this.length),(r=r||0)<0&&(r+=this.length);var s=new a;if(n<r||n<0)return s;r<0&&(r=0),n>this.length&&(n=this.length);for(var t=0,o=this.head;o!==null&&t<r;t++)o=o.next;for(;o!==null&&t<n;t++,o=o.next)s.push(o.value);return s},a.prototype.sliceReverse=function(r,n){(n=n||this.length)<0&&(n+=this.length),(r=r||0)<0&&(r+=this.length);var s=new a;if(n<r||n<0)return s;r<0&&(r=0),n>this.length&&(n=this.length);for(var t=this.length,o=this.tail;o!==null&&t>n;t--)o=o.prev;for(;o!==null&&t>r;t--,o=o.prev)s.push(o.value);return s},a.prototype.splice=function(r,n){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var s=0,t=this.head;t!==null&&s<r;s++)t=t.next;for(var o=[],s=0;t&&s<n;s++)o.push(t.value),t=this.removeNode(t);t===null&&(t=this.tail),t!==this.head&&t!==this.tail&&(t=t.prev);for(var s=2;s<arguments.length;s++)t=function(l,h,g){var E=h===l.head?new e(g,null,h,l):new e(g,h,h.next,l);return E.next===null&&(l.tail=E),E.prev===null&&(l.head=E),l.length++,E}(this,t,arguments[s]);return o},a.prototype.reverse=function(){for(var r=this.head,n=this.tail,s=r;s!==null;s=s.prev){var t=s.prev;s.prev=s.next,s.next=t}return this.head=n,this.tail=r,this};try{c(76)(a)}catch{}}},S={};function O(f){var m=S[f];if(m!==void 0)return m.exports;var c=S[f]={exports:{}},a=!0;try{T[f](c,c.exports,O),a=!1}finally{a&&delete S[f]}return c.exports}O.ab="//";var v=O(806);J.exports=v})()},25:(J,T,S)=>{(function(){var O={452:function(c){"use strict";c.exports=S(885)}},v={};function f(c){var a=v[c];if(a!==void 0)return a.exports;var e=v[c]={exports:{}},r=!0;try{O[c](e,e.exports,f),r=!1}finally{r&&delete v[c]}return e.exports}f.ab="//";var m={};(function(){var c,a=(c=f(452))&&typeof c=="object"&&"default"in c?c.default:c,e=/https?|ftp|gopher|file/;function r(N){typeof N=="string"&&(N=C(N));var U,j,D,L,b,I,H,B,se,G=(j=(U=N).auth,D=U.hostname,L=U.protocol||"",b=U.pathname||"",I=U.hash||"",H=U.query||"",B=!1,j=j?encodeURIComponent(j).replace(/%3A/i,":")+"@":"",U.host?B=j+U.host:D&&(B=j+(~D.indexOf(":")?"["+D+"]":D),U.port&&(B+=":"+U.port)),H&&typeof H=="object"&&(H=a.encode(H)),se=U.search||H&&"?"+H||"",L&&L.substr(-1)!==":"&&(L+=":"),U.slashes||(!L||e.test(L))&&B!==!1?(B="//"+(B||""),b&&b[0]!=="/"&&(b="/"+b)):B||(B=""),I&&I[0]!=="#"&&(I="#"+I),se&&se[0]!=="?"&&(se="?"+se),{protocol:L,host:B,pathname:b=b.replace(/[?#]/g,encodeURIComponent),search:se=se.replace("#","%23"),hash:I});return""+G.protocol+G.host+G.pathname+G.search+G.hash}var n="http://",s=n+"w.w",t=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,o=/https?|ftp|gopher|file/;function i(N,U){var j=typeof N=="string"?C(N):N;N=typeof N=="object"?r(N):N;var D=C(U),L="";j.protocol&&!j.slashes&&(L=j.protocol,N=N.replace(j.protocol,""),L+=U[0]==="/"||N[0]==="/"?"/":""),L&&D.protocol&&(L="",D.slashes||(L=D.protocol,U=U.replace(D.protocol,"")));var b=N.match(t);b&&!D.protocol&&(N=N.substr((L=b[1]+(b[2]||"")).length),/^\/\/[^/]/.test(U)&&(L=L.slice(0,-1)));var I=new URL(N,s+"/"),H=new URL(U,I).toString().replace(s,""),B=D.protocol||j.protocol;return B+=j.slashes||D.slashes?"//":"",!L&&B?H=H.replace(n,B):L&&(H=H.replace(n,"")),o.test(H)||~U.indexOf(".")||N.slice(-1)==="/"||U.slice(-1)==="/"||H.slice(-1)!=="/"||(H=H.slice(0,-1)),L&&(H=L+(H[0]==="/"?H.substr(1):H)),H}function l(){}l.prototype.parse=C,l.prototype.format=r,l.prototype.resolve=i,l.prototype.resolveObject=i;var h=/^https?|ftp|gopher|file/,g=/^(.*?)([#?].*)/,E=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,A=/^([a-z0-9.+-]*:)?\/\/\/*/i,_=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function C(N,U,j){if(U===void 0&&(U=!1),j===void 0&&(j=!1),N&&typeof N=="object"&&N instanceof l)return N;var D=(N=N.trim()).match(g);N=D?D[1].replace(/\\/g,"/")+D[2]:N.replace(/\\/g,"/"),_.test(N)&&N.slice(-1)!=="/"&&(N+="/");var L=!/(^javascript)/.test(N)&&N.match(E),b=A.test(N),I="";L&&(h.test(L[1])||(I=L[1].toLowerCase(),N=""+L[2]+L[3]),L[2]||(b=!1,h.test(L[1])?(I=L[1],N=""+L[3]):N="//"+L[3]),L[2].length!==3&&L[2].length!==1||(I=L[1],N="/"+L[3]));var H,B=(D?D[1]:N).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),se=B&&B[1],G=new l,ue="",Pe="";try{H=new URL(N)}catch(K){ue=K,I||j||!/^\/\//.test(N)||/^\/\/.+[@.]/.test(N)||(Pe="/",N=N.substr(1));try{H=new URL(N,s)}catch{return G.protocol=I,G.href=I,G}}G.slashes=b&&!Pe,G.host=H.host==="w.w"?"":H.host,G.hostname=H.hostname==="w.w"?"":H.hostname.replace(/(\[|\])/g,""),G.protocol=ue?I||null:H.protocol,G.search=H.search.replace(/\\/g,"%5C"),G.hash=H.hash.replace(/\\/g,"%5C");var y=N.split("#");!G.search&&~y[0].indexOf("?")&&(G.search="?"),G.hash||y[1]!==""||(G.hash="#"),G.query=U?a.decode(H.search.substr(1)):G.search.substr(1),G.pathname=Pe+(L?H.pathname.replace(/['^|`]/g,function(K){return"%"+K.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(K,X){try{return decodeURIComponent(X).split("").map(function(W){var ie=W.charCodeAt();return ie>256||/^[a-z0-9]$/i.test(W)?W:"%"+ie.toString(16).toUpperCase()}).join("")}catch{return X}}):H.pathname),G.protocol==="about:"&&G.pathname==="blank"&&(G.protocol="",G.pathname=""),ue&&N[0]!=="/"&&(G.pathname=G.pathname.substr(1)),I&&!h.test(I)&&N.slice(-1)!=="/"&&G.pathname==="/"&&(G.pathname=""),G.path=G.pathname+G.search,G.auth=[H.username,H.password].map(decodeURIComponent).filter(Boolean).join(":"),G.port=H.port,se&&!G.host.endsWith(se)&&(G.host+=se,G.port=se.slice(1)),G.href=Pe?""+G.pathname+G.search+G.hash:r(G);var P=/^(file)/.test(G.href)?["host","hostname"]:[];return Object.keys(G).forEach(function(K){~P.indexOf(K)||(G[K]=G[K]||null)}),G}m.parse=C,m.format=r,m.resolve=i,m.resolveObject=function(N,U){return C(i(N,U))},m.Url=l})(),J.exports=m})()},949:J=>{(function(){"use strict";var T={114:function(f){function m(e){if(typeof e!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function c(e,r){for(var n,s="",t=0,o=-1,i=0,l=0;l<=e.length;++l){if(l<e.length)n=e.charCodeAt(l);else{if(n===47)break;n=47}if(n===47){if(!(o===l-1||i===1))if(o!==l-1&&i===2){if(s.length<2||t!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var h=s.lastIndexOf("/");if(h!==s.length-1){h===-1?(s="",t=0):t=(s=s.slice(0,h)).length-1-s.lastIndexOf("/"),o=l,i=0;continue}}else if(s.length===2||s.length===1){s="",t=0,o=l,i=0;continue}}r&&(s.length>0?s+="/..":s="..",t=2)}else s.length>0?s+="/"+e.slice(o+1,l):s=e.slice(o+1,l),t=l-o-1;o=l,i=0}else n===46&&i!==-1?++i:i=-1}return s}var a={resolve:function(){for(var e,r,n="",s=!1,t=arguments.length-1;t>=-1&&!s;t--)t>=0?r=arguments[t]:(e===void 0&&(e=""),r=e),m(r),r.length!==0&&(n=r+"/"+n,s=r.charCodeAt(0)===47);return n=c(n,!s),s?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(m(e),e.length===0)return".";var r=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return(e=c(e,!r)).length!==0||r||(e="."),e.length>0&&n&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return m(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length==0)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];m(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":a.normalize(e)},relative:function(e,r){if(m(e),m(r),e===r||(e=a.resolve(e))===(r=a.resolve(r)))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var s=e.length,t=s-n,o=1;o<r.length&&r.charCodeAt(o)===47;++o);for(var i=r.length-o,l=t<i?t:i,h=-1,g=0;g<=l;++g){if(g===l){if(i>l){if(r.charCodeAt(o+g)===47)return r.slice(o+g+1);if(g===0)return r.slice(o+g)}else t>l&&(e.charCodeAt(n+g)===47?h=g:g===0&&(h=0));break}var E=e.charCodeAt(n+g);if(E!==r.charCodeAt(o+g))break;E===47&&(h=g)}var A="";for(g=n+h+1;g<=s;++g)(g===s||e.charCodeAt(g)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+r.slice(o+h):(o+=h,r.charCodeAt(o)===47&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(m(e),e.length===0)return".";for(var r=e.charCodeAt(0),n=r===47,s=-1,t=!0,o=e.length-1;o>=1;--o)if((r=e.charCodeAt(o))===47){if(!t){s=o;break}}else t=!1;return s===-1?n?"/":".":n&&s===1?"//":e.slice(0,s)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw TypeError('"ext" argument must be a string');m(e);var n,s=0,t=-1,o=!0;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var i=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var h=e.charCodeAt(n);if(h===47){if(!o){s=n+1;break}}else l===-1&&(o=!1,l=n+1),i>=0&&(h===r.charCodeAt(i)?--i==-1&&(t=n):(i=-1,t=l))}return s===t?t=l:t===-1&&(t=e.length),e.slice(s,t)}for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===47){if(!o){s=n+1;break}}else t===-1&&(o=!1,t=n+1);return t===-1?"":e.slice(s,t)},extname:function(e){m(e);for(var r=-1,n=0,s=-1,t=!0,o=0,i=e.length-1;i>=0;--i){var l=e.charCodeAt(i);if(l===47){if(!t){n=i+1;break}continue}s===-1&&(t=!1,s=i+1),l===46?r===-1?r=i:o!==1&&(o=1):r!==-1&&(o=-1)}return r===-1||s===-1||o===0||o===1&&r===s-1&&r===n+1?"":e.slice(r,s)},format:function(e){var r,n;if(e===null||typeof e!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),r?r===e.root?r+n:r+"/"+n:n},parse:function(e){m(e);var r,n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var s=e.charCodeAt(0),t=s===47;t?(n.root="/",r=1):r=0;for(var o=-1,i=0,l=-1,h=!0,g=e.length-1,E=0;g>=r;--g){if((s=e.charCodeAt(g))===47){if(!h){i=g+1;break}continue}l===-1&&(h=!1,l=g+1),s===46?o===-1?o=g:E!==1&&(E=1):o!==-1&&(E=-1)}return o===-1||l===-1||E===0||E===1&&o===l-1&&o===i+1?l!==-1&&(i===0&&t?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(i,l)):(i===0&&t?(n.name=e.slice(1,o),n.base=e.slice(1,l)):(n.name=e.slice(i,o),n.base=e.slice(i,l)),n.ext=e.slice(o,l)),i>0?n.dir=e.slice(0,i-1):t&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,f.exports=a}},S={};function O(f){var m=S[f];if(m!==void 0)return m.exports;var c=S[f]={exports:{}},a=!0;try{T[f](c,c.exports,O),a=!1}finally{a&&delete S[f]}return c.exports}O.ab="//";var v=O(114);J.exports=v})()},752:(J,T)=>{"use strict";function S(f,m){m===void 0&&(m={});for(var c=function(D){for(var L=[],b=0;b<D.length;){var I=D[b];if(I==="*"||I==="+"||I==="?"){L.push({type:"MODIFIER",index:b,value:D[b++]});continue}if(I==="\\"){L.push({type:"ESCAPED_CHAR",index:b++,value:D[b++]});continue}if(I==="{"){L.push({type:"OPEN",index:b,value:D[b++]});continue}if(I==="}"){L.push({type:"CLOSE",index:b,value:D[b++]});continue}if(I===":"){for(var H="",B=b+1;B<D.length;){var se=D.charCodeAt(B);if(se>=48&&se<=57||se>=65&&se<=90||se>=97&&se<=122||se===95){H+=D[B++];continue}break}if(!H)throw TypeError("Missing parameter name at "+b);L.push({type:"NAME",index:b,value:H}),b=B;continue}if(I==="("){var G=1,ue="",B=b+1;if(D[B]==="?")throw TypeError('Pattern cannot start with "?" at '+B);for(;B<D.length;){if(D[B]==="\\"){ue+=D[B++]+D[B++];continue}if(D[B]===")"){if(--G==0){B++;break}}else if(D[B]==="("&&(G++,D[B+1]!=="?"))throw TypeError("Capturing groups are not allowed at "+B);ue+=D[B++]}if(G)throw TypeError("Unbalanced pattern at "+b);if(!ue)throw TypeError("Missing pattern at "+b);L.push({type:"PATTERN",index:b,value:ue}),b=B;continue}L.push({type:"CHAR",index:b,value:D[b++]})}return L.push({type:"END",index:b,value:""}),L}(f),a=m.prefixes,e=a===void 0?"./":a,r="[^"+O(m.delimiter||"/#?")+"]+?",n=[],s=0,t=0,o="",i=function(D){if(t<c.length&&c[t].type===D)return c[t++].value},l=function(D){var L=i(D);if(L!==void 0)return L;var b=c[t];throw TypeError("Unexpected "+b.type+" at "+b.index+", expected "+D)},h=function(){for(var D,L="";D=i("CHAR")||i("ESCAPED_CHAR");)L+=D;return L};t<c.length;){var g=i("CHAR"),E=i("NAME"),A=i("PATTERN");if(E||A){var _=g||"";e.indexOf(_)===-1&&(o+=_,_=""),o&&(n.push(o),o=""),n.push({name:E||s++,prefix:_,suffix:"",pattern:A||r,modifier:i("MODIFIER")||""});continue}var C=g||i("ESCAPED_CHAR");if(C){o+=C;continue}if(o&&(n.push(o),o=""),i("OPEN")){var _=h(),N=i("NAME")||"",U=i("PATTERN")||"",j=h();l("CLOSE"),n.push({name:N||(U?s++:""),pattern:N&&!U?r:U,prefix:_,suffix:j,modifier:i("MODIFIER")||""});continue}l("END")}return n}function O(f){return f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function v(f){return f&&f.sensitive?"":"i"}T.MY=function(f,m){var c,a,e,r,n,s,t,o;return c=S(f,m),(a=m)===void 0&&(a={}),e=v(a),n=(r=a.encode)===void 0?function(i){return i}:r,t=(s=a.validate)===void 0||s,o=c.map(function(i){if(typeof i=="object")return RegExp("^(?:"+i.pattern+")$",e)}),function(i){for(var l="",h=0;h<c.length;h++){var g=c[h];if(typeof g=="string"){l+=g;continue}var E=i?i[g.name]:void 0,A=g.modifier==="?"||g.modifier==="*",_=g.modifier==="*"||g.modifier==="+";if(Array.isArray(E)){if(!_)throw TypeError('Expected "'+g.name+'" to not repeat, but got an array');if(E.length===0){if(A)continue;throw TypeError('Expected "'+g.name+'" to not be empty')}for(var C=0;C<E.length;C++){var N=n(E[C],g);if(t&&!o[h].test(N))throw TypeError('Expected all "'+g.name+'" to match "'+g.pattern+'", but got "'+N+'"');l+=g.prefix+N+g.suffix}continue}if(typeof E=="string"||typeof E=="number"){var N=n(String(E),g);if(t&&!o[h].test(N))throw TypeError('Expected "'+g.name+'" to match "'+g.pattern+'", but got "'+N+'"');l+=g.prefix+N+g.suffix;continue}if(!A){var U=_?"an array":"a string";throw TypeError('Expected "'+g.name+'" to be '+U)}}return l}},T.WS=function(f,m,c){c===void 0&&(c={});var a=c.decode,e=a===void 0?function(r){return r}:a;return function(r){var n=f.exec(r);if(!n)return!1;for(var s=n[0],t=n.index,o=Object.create(null),i=1;i<n.length;i++)(function(l){if(n[l]!==void 0){var h=m[l-1];h.modifier==="*"||h.modifier==="+"?o[h.name]=n[l].split(h.prefix+h.suffix).map(function(g){return e(g,h)}):o[h.name]=e(n[l],h)}})(i);return{path:s,index:t,params:o}}},T.Bo=function f(m,c,a){return m instanceof RegExp?function(e,r){if(!r)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var s=0;s<n.length;s++)r.push({name:s,prefix:"",suffix:"",modifier:"",pattern:""});return e}(m,c):Array.isArray(m)?RegExp("(?:"+m.map(function(e){return f(e,c,a).source}).join("|")+")",v(a)):function(e,r,n){n===void 0&&(n={});for(var s=n.strict,t=s!==void 0&&s,o=n.start,i=n.end,l=n.encode,h=l===void 0?function(b){return b}:l,g="["+O(n.endsWith||"")+"]|$",E="["+O(n.delimiter||"/#?")+"]",A=o===void 0||o?"^":"",_=0;_<e.length;_++){var C=e[_];if(typeof C=="string")A+=O(h(C));else{var N=O(h(C.prefix)),U=O(h(C.suffix));if(C.pattern)if(r&&r.push(C),N||U)if(C.modifier==="+"||C.modifier==="*"){var j=C.modifier==="*"?"?":"";A+="(?:"+N+"((?:"+C.pattern+")(?:"+U+N+"(?:"+C.pattern+"))*)"+U+")"+j}else A+="(?:"+N+"("+C.pattern+")"+U+")"+C.modifier;else A+="("+C.pattern+")"+C.modifier;else A+="(?:"+N+U+")"+C.modifier}}if(i===void 0||i)t||(A+=E+"?"),A+=n.endsWith?"(?="+g+")":"$";else{var D=e[e.length-1],L=typeof D=="string"?E.indexOf(D[D.length-1])>-1:D===void 0;t||(A+="(?:"+E+"(?="+g+"))?"),L||(A+="(?="+E+"|"+g+")")}return new RegExp(A,v(n))}(S(m,a),c,a)}},885:J=>{(function(){"use strict";var T={815:function(f){f.exports=function(c,a,e,r){a=a||"&",e=e||"=";var n={};if(typeof c!="string"||c.length===0)return n;var s=/\+/g;c=c.split(a);var t=1e3;r&&typeof r.maxKeys=="number"&&(t=r.maxKeys);var o=c.length;t>0&&o>t&&(o=t);for(var i=0;i<o;++i){var l,h,g,E,A=c[i].replace(s,"%20"),_=A.indexOf(e);_>=0?(l=A.substr(0,_),h=A.substr(_+1)):(l=A,h=""),g=decodeURIComponent(l),E=decodeURIComponent(h),Object.prototype.hasOwnProperty.call(n,g)?m(n[g])?n[g].push(E):n[g]=[n[g],E]:n[g]=E}return n};var m=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"}},577:function(f){var m=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};f.exports=function(r,n,s,t){return n=n||"&",s=s||"=",r===null&&(r=void 0),typeof r=="object"?a(e(r),function(o){var i=encodeURIComponent(m(o))+s;return c(r[o])?a(r[o],function(l){return i+encodeURIComponent(m(l))}).join(n):i+encodeURIComponent(m(r[o]))}).join(n):t?encodeURIComponent(m(t))+s+encodeURIComponent(m(r)):""};var c=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function a(r,n){if(r.map)return r.map(n);for(var s=[],t=0;t<r.length;t++)s.push(n(r[t],t));return s}var e=Object.keys||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.push(s);return n}}},S={};function O(f){var m=S[f];if(m!==void 0)return m.exports;var c=S[f]={exports:{}},a=!0;try{T[f](c,c.exports,O),a=!1}finally{a&&delete S[f]}return c.exports}O.ab="//";var v={};v.decode=v.parse=O(815),v.encode=v.stringify=O(577),J.exports=v})()},869:(J,T,S)=>{"use strict";var O=S(506),v={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function f(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)s+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(n,s){return n==="font"?"":typeof s=="string"?s==="use-credentials"?s:"":void 0}var c=v.Dispatcher,a=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function e(){return a.current.useHostTransitionStatus()}function r(n,s,t){return a.current.useFormState(n,s,t)}T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v,T.createPortal=function(){throw Error(f(448))},T.experimental_useFormState=function(n,s,t){return r(n,s,t)},T.experimental_useFormStatus=function(){return e()},T.flushSync=function(){throw Error(f(449))},T.preconnect=function(n,s){var t=c.current;t&&typeof n=="string"&&(s=s?typeof(s=s.crossOrigin)=="string"?s==="use-credentials"?s:"":void 0:null,t.preconnect(n,s))},T.prefetchDNS=function(n){var s=c.current;s&&typeof n=="string"&&s.prefetchDNS(n)},T.preinit=function(n,s){var t=c.current;if(t&&typeof n=="string"&&s&&typeof s.as=="string"){var o=s.as,i=m(o,s.crossOrigin),l=typeof s.integrity=="string"?s.integrity:void 0,h=typeof s.fetchPriority=="string"?s.fetchPriority:void 0;o==="style"?t.preinitStyle(n,typeof s.precedence=="string"?s.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:h}):o==="script"&&t.preinitScript(n,{crossOrigin:i,integrity:l,fetchPriority:h,nonce:typeof s.nonce=="string"?s.nonce:void 0})}},T.preinitModule=function(n,s){var t=c.current;if(t&&typeof n=="string")if(typeof s=="object"&&s!==null){if(s.as==null||s.as==="script"){var o=m(s.as,s.crossOrigin);t.preinitModuleScript(n,{crossOrigin:o,integrity:typeof s.integrity=="string"?s.integrity:void 0,nonce:typeof s.nonce=="string"?s.nonce:void 0})}}else s==null&&t.preinitModuleScript(n)},T.preload=function(n,s){var t=c.current;if(t&&typeof n=="string"&&typeof s=="object"&&s!==null&&typeof s.as=="string"){var o=s.as,i=m(o,s.crossOrigin);t.preload(n,o,{crossOrigin:i,integrity:typeof s.integrity=="string"?s.integrity:void 0,nonce:typeof s.nonce=="string"?s.nonce:void 0,type:typeof s.type=="string"?s.type:void 0,fetchPriority:typeof s.fetchPriority=="string"?s.fetchPriority:void 0,referrerPolicy:typeof s.referrerPolicy=="string"?s.referrerPolicy:void 0,imageSrcSet:typeof s.imageSrcSet=="string"?s.imageSrcSet:void 0,imageSizes:typeof s.imageSizes=="string"?s.imageSizes:void 0})}},T.preloadModule=function(n,s){var t=c.current;if(t&&typeof n=="string")if(s){var o=m(s.as,s.crossOrigin);t.preloadModule(n,{as:typeof s.as=="string"&&s.as!=="script"?s.as:void 0,crossOrigin:o,integrity:typeof s.integrity=="string"?s.integrity:void 0})}else t.preloadModule(n)},T.unstable_batchedUpdates=function(n,s){return n(s)},T.useFormState=r,T.useFormStatus=e,T.version="18.3.0-canary-2c338b16f-20231116"},901:(J,T,S)=>{"use strict";J.exports=S(869)},855:(J,T,S)=>{"use strict";var O=S(379),v=S(901),f=null,m=0;function c(x,k){if(k.byteLength!==0)if(512<k.byteLength)0<m&&(x.enqueue(new Uint8Array(f.buffer,0,m)),f=new Uint8Array(512),m=0),x.enqueue(k);else{var V=f.length-m;V<k.byteLength&&(V===0?x.enqueue(f):(f.set(k.subarray(0,V),m),x.enqueue(f),k=k.subarray(V)),f=new Uint8Array(512),m=0),f.set(k,m),m+=k.byteLength}return!0}var a=new TextEncoder,e=Symbol.for("react.client.reference"),r=Symbol.for("react.server.reference");function n(x,k,V){return Object.defineProperties(x,{$$typeof:{value:e},$$id:{value:k},$$async:{value:V}})}var s=Function.prototype.bind,t=Array.prototype.slice;function o(){var x=s.apply(this,arguments);if(this.$$typeof===r){var k=t.call(arguments,1);return Object.defineProperties(x,{$$typeof:{value:r},$$id:{value:this.$$id},$$bound:{value:this.$$bound?this.$$bound.concat(k):k},bind:{value:o}})}return x}var i=Promise.prototype,l={get:function(x,k){switch(k){case"$$typeof":return x.$$typeof;case"$$id":return x.$$id;case"$$async":return x.$$async;case"name":return x.name;case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.")}throw Error("Cannot access "+String(x.name)+"."+String(k)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function h(x,k){switch(k){case"$$typeof":return x.$$typeof;case"$$id":return x.$$id;case"$$async":return x.$$async;case"name":return x.name;case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case"__esModule":var V=x.$$id;return x.default=n(function(){throw Error("Attempted to call the default export of "+V+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},x.$$id+"#",x.$$async),!0;case"then":if(x.then)return x.then;if(x.$$async)return;var le=n({},x.$$id,!0),ne=new Proxy(le,g);return x.status="fulfilled",x.value=ne,x.then=n(function(fe){return Promise.resolve(fe(ne))},x.$$id+"#then",!1)}return(le=x[k])||(Object.defineProperty(le=n(function(){throw Error("Attempted to call "+String(k)+"() from the server but "+String(k)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},x.$$id+"#"+k,x.$$async),"name",{value:k}),le=x[k]=new Proxy(le,l)),le}var g={get:function(x,k){return h(x,k)},getOwnPropertyDescriptor:function(x,k){var V=Object.getOwnPropertyDescriptor(x,k);return V||(V={value:h(x,k),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(x,k,V)),V},getPrototypeOf:function(){return i},set:function(){throw Error("Cannot assign to a client module from a server module.")}};v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher;var E=typeof AsyncLocalStorage=="function",A=E?new AsyncLocalStorage:null,_=Symbol.for("react.element"),C=Symbol.for("react.fragment"),N=Symbol.for("react.server_context"),U=Symbol.for("react.forward_ref"),j=(Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo")),D=Symbol.for("react.lazy"),L=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var b=null;function I(x,k){if(x!==k){x.context._currentValue=x.parentValue,x=x.parent;var V=k.parent;if(x===null){if(V!==null)throw Error("The stacks must reach the root at the same time. This is a bug in React.")}else{if(V===null)throw Error("The stacks must reach the root at the same time. This is a bug in React.");I(x,V),k.context._currentValue=k.value}}}var H=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`");function B(){}var se=null,G=0,ue=null;function Pe(x){return x._currentValue}function y(){throw Error("This Hook is not supported in Server Components.")}function P(){throw Error("Refreshing the cache is not supported in Server Components.")}var K=Array.isArray,X=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=O.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;if(!W)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');Object.prototype;var ie=JSON.stringify;W.ReactCurrentCache,X.ReactCurrentDispatcher;function z(x){if(x.status==="fulfilled")return x.value;throw x.status==="rejected"?x.reason:x}function re(x,k,V,le,ne,fe){if(le!=null)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if(typeof k=="function")return k.$$typeof===e?[_,k,V,ne]:(G=0,ue=fe,typeof(ne=k(ne))=="object"&&ne!==null&&typeof ne.then=="function"?ne.status==="fulfilled"?ne.value:function(Y){switch(Y.status){case"fulfilled":case"rejected":break;default:typeof Y.status!="string"&&(Y.status="pending",Y.then(function(Re){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Re)},function(Re){Y.status==="pending"&&(Y.status="rejected",Y.reason=Re)}))}return{$$typeof:D,_payload:Y,_init:z}}(ne):ne);if(typeof k=="string")return[_,k,V,ne];if(typeof k=="symbol")return k===C?ne.children:[_,k,V,ne];if(k!=null&&typeof k=="object"){if(k.$$typeof===e)return[_,k,V,ne];switch(k.$$typeof){case D:return re(x,k=(0,k._init)(k._payload),V,le,ne,fe);case U:return x=k.render,G=0,ue=fe,x(ne,void 0);case j:return re(x,k.type,V,le,ne,fe)}}throw Error("Unsupported Server Component type: "+function(Y){switch(typeof Y){case"string":return JSON.stringify(10>=Y.length?Y:Y.slice(0,10)+"...");case"object":var Re;return K(Y)?"[...]":(Re=Y,(Y=Object.prototype.toString.call(Re).replace(/^\[object (.*)\]$/,function(Me,Je){return Je}))==="Object"?"{...}":Y);case"function":return"function";default:return String(Y)}}(k))}var pe=new Map;function Ee(x){var k=globalThis.__next_require__(x);return typeof k.then!="function"||k.status==="fulfilled"?null:(k.then(function(V){k.status="fulfilled",k.value=V},function(V){k.status="rejected",k.reason=V}),k)}function Se(){}function Fe(x,k,V,le){this.status=x,this.value=k,this.reason=V,this._response=le}function et(x,k){for(var V=0;V<x.length;V++)(0,x[V])(k)}Fe.prototype=Object.create(Promise.prototype),Fe.prototype.then=function(x,k){switch(this.status==="resolved_model"&&Q(this),this.status){case"fulfilled":x(this.value);break;case"pending":case"blocked":x&&(this.value===null&&(this.value=[]),this.value.push(x)),k&&(this.reason===null&&(this.reason=[]),this.reason.push(k));break;default:k(this.reason)}};var ke=null,Oe=null;function Q(x){var k=ke,V=Oe;ke=x,Oe=null;try{var le=JSON.parse(x.value,x._response._fromJSON);Oe!==null&&0<Oe.deps?(Oe.value=le,x.status="blocked",x.value=null,x.reason=null):(x.status="fulfilled",x.value=le)}catch(ne){x.status="rejected",x.reason=ne}finally{ke=k,Oe=V}}T.createClientModuleProxy=function(x){return x=n({},x,!1),new Proxy(x,g)}},616:(J,T,S)=>{"use strict";J.exports=S(855)},898:(J,T)=>{"use strict";var S=Symbol.for("react.element"),O=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),a=Symbol.for("react.context"),e=Symbol.for("react.forward_ref"),r=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),t=Symbol.iterator,o={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i=Object.assign,l={};function h(y,P,K){this.props=y,this.context=P,this.refs=l,this.updater=K||o}function g(){}function E(y,P,K){this.props=y,this.context=P,this.refs=l,this.updater=K||o}h.prototype.isReactComponent={},h.prototype.setState=function(y,P){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,P,"setState")},h.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")},g.prototype=h.prototype;var A=E.prototype=new g;A.constructor=E,i(A,h.prototype),A.isPureReactComponent=!0;var _=Array.isArray,C=Object.prototype.hasOwnProperty,N={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function j(y,P,K){var X,W={},ie=null,z=null;if(P!=null)for(X in P.ref!==void 0&&(z=P.ref),P.key!==void 0&&(ie=""+P.key),P)C.call(P,X)&&!U.hasOwnProperty(X)&&(W[X]=P[X]);var re=arguments.length-2;if(re===1)W.children=K;else if(1<re){for(var pe=Array(re),Ee=0;Ee<re;Ee++)pe[Ee]=arguments[Ee+2];W.children=pe}if(y&&y.defaultProps)for(X in re=y.defaultProps)W[X]===void 0&&(W[X]=re[X]);return{$$typeof:S,type:y,key:ie,ref:z,props:W,_owner:N.current}}function D(y){return typeof y=="object"&&y!==null&&y.$$typeof===S}var L=/\/+/g;function b(y,P){var K,X;return typeof y=="object"&&y!==null&&y.key!=null?(K=""+y.key,X={"=":"=0",":":"=2"},"$"+K.replace(/[=:]/g,function(W){return X[W]})):P.toString(36)}function I(y,P,K){if(y==null)return y;var X=[],W=0;return function ie(z,re,pe,Ee,Se){var Fe,et,ke,Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var Q=!1;if(z===null)Q=!0;else switch(Oe){case"string":case"number":Q=!0;break;case"object":switch(z.$$typeof){case S:case O:Q=!0}}if(Q)return Se=Se(Q=z),z=Ee===""?"."+b(Q,0):Ee,_(Se)?(pe="",z!=null&&(pe=z.replace(L,"$&/")+"/"),ie(Se,re,pe,"",function(V){return V})):Se!=null&&(D(Se)&&(Fe=Se,et=pe+(!Se.key||Q&&Q.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+z,Se={$$typeof:S,type:Fe.type,key:et,ref:Fe.ref,props:Fe.props,_owner:Fe._owner}),re.push(Se)),1;if(Q=0,Ee=Ee===""?".":Ee+":",_(z))for(var x=0;x<z.length;x++){var k=Ee+b(Oe=z[x],x);Q+=ie(Oe,re,pe,k,Se)}else if(typeof(k=(ke=z)===null||typeof ke!="object"?null:typeof(ke=t&&ke[t]||ke["@@iterator"])=="function"?ke:null)=="function")for(z=k.call(z),x=0;!(Oe=z.next()).done;)k=Ee+b(Oe=Oe.value,x++),Q+=ie(Oe,re,pe,k,Se);else if(Oe==="object")throw Error("Objects are not valid as a React child (found: "+((re=String(z))==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Q}(y,X,"","",function(ie){return P.call(K,ie,W++)}),X}function H(y){if(y._status===-1){var P=y._result;(P=P()).then(function(K){(y._status===0||y._status===-1)&&(y._status=1,y._result=K)},function(K){(y._status===0||y._status===-1)&&(y._status=2,y._result=K)}),y._status===-1&&(y._status=0,y._result=P)}if(y._status===1)return y._result.default;throw y._result}var B={current:null};function se(){return new WeakMap}function G(){return{s:0,v:void 0,o:null,p:null}}var ue={current:null},Pe={transition:null};T.Children={map:I,forEach:function(y,P,K){I(y,function(){P.apply(this,arguments)},K)},count:function(y){var P=0;return I(y,function(){P++}),P},toArray:function(y){return I(y,function(P){return P})||[]},only:function(y){if(!D(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},T.Component=h,T.Fragment=v,T.Profiler=m,T.PureComponent=E,T.StrictMode=f,T.Suspense=r,T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:ue,ReactCurrentCache:B,ReactCurrentBatchConfig:Pe,ReactCurrentOwner:N},T.cache=function(y){return function(){var P=B.current;if(!P)return y.apply(null,arguments);var K=P.getCacheForType(se);(P=K.get(y))===void 0&&(P=G(),K.set(y,P)),K=0;for(var X=arguments.length;K<X;K++){var W=arguments[K];if(typeof W=="function"||typeof W=="object"&&W!==null){var ie=P.o;ie===null&&(P.o=ie=new WeakMap),(P=ie.get(W))===void 0&&(P=G(),ie.set(W,P))}else(ie=P.p)===null&&(P.p=ie=new Map),(P=ie.get(W))===void 0&&(P=G(),ie.set(W,P))}if(P.s===1)return P.v;if(P.s===2)throw P.v;try{var z=y.apply(null,arguments);return(K=P).s=1,K.v=z}catch(re){throw(z=P).s=2,z.v=re,re}}},T.cloneElement=function(y,P,K){if(y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+y+".");var X=i({},y.props),W=y.key,ie=y.ref,z=y._owner;if(P!=null){if(P.ref!==void 0&&(ie=P.ref,z=N.current),P.key!==void 0&&(W=""+P.key),y.type&&y.type.defaultProps)var re=y.type.defaultProps;for(pe in P)C.call(P,pe)&&!U.hasOwnProperty(pe)&&(X[pe]=P[pe]===void 0&&re!==void 0?re[pe]:P[pe])}var pe=arguments.length-2;if(pe===1)X.children=K;else if(1<pe){re=Array(pe);for(var Ee=0;Ee<pe;Ee++)re[Ee]=arguments[Ee+2];X.children=re}return{$$typeof:S,type:y.type,key:W,ref:ie,props:X,_owner:z}},T.createContext=function(y){return(y={$$typeof:a,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:c,_context:y},y.Consumer=y},T.createElement=j,T.createFactory=function(y){var P=j.bind(null,y);return P.type=y,P},T.createRef=function(){return{current:null}},T.forwardRef=function(y){return{$$typeof:e,render:y}},T.isValidElement=D,T.lazy=function(y){return{$$typeof:s,_payload:{_status:-1,_result:y},_init:H}},T.memo=function(y,P){return{$$typeof:n,type:y,compare:P===void 0?null:P}},T.startTransition=function(y){var P=Pe.transition;Pe.transition={};try{y()}finally{Pe.transition=P}},T.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},T.unstable_useCacheRefresh=function(){return ue.current.useCacheRefresh()},T.use=function(y){return ue.current.use(y)},T.useCallback=function(y,P){return ue.current.useCallback(y,P)},T.useContext=function(y){return ue.current.useContext(y)},T.useDebugValue=function(){},T.useDeferredValue=function(y,P){return ue.current.useDeferredValue(y,P)},T.useEffect=function(y,P){return ue.current.useEffect(y,P)},T.useId=function(){return ue.current.useId()},T.useImperativeHandle=function(y,P,K){return ue.current.useImperativeHandle(y,P,K)},T.useInsertionEffect=function(y,P){return ue.current.useInsertionEffect(y,P)},T.useLayoutEffect=function(y,P){return ue.current.useLayoutEffect(y,P)},T.useMemo=function(y,P){return ue.current.useMemo(y,P)},T.useOptimistic=function(y,P){return ue.current.useOptimistic(y,P)},T.useReducer=function(y,P,K){return ue.current.useReducer(y,P,K)},T.useRef=function(y){return ue.current.useRef(y)},T.useState=function(y){return ue.current.useState(y)},T.useSyncExternalStore=function(y,P,K){return ue.current.useSyncExternalStore(y,P,K)},T.useTransition=function(){return ue.current.useTransition()},T.version="18.3.0-canary-2c338b16f-20231116"},115:(J,T)=>{"use strict";var S=Object.assign,O={current:null};function v(){return new Map}if(typeof fetch=="function"){var f=fetch,m=function(y,P){var K=O.current;if(!K||P&&P.signal&&P.signal!==K.getCacheSignal())return f(y,P);if(typeof y!="string"||P){var X=typeof y=="string"||y instanceof URL?new Request(y,P):y;if(X.method!=="GET"&&X.method!=="HEAD"||X.keepalive)return f(y,P);var W=JSON.stringify([X.method,Array.from(X.headers.entries()),null,X.redirect,null,X.referrer,X.referrerPolicy,null]);X=X.url}else W='["GET",[],null,"follow",null,null,null,null]',X=y;var ie=K.getCacheForType(v);if((K=ie.get(X))===void 0)y=f(y,P),ie.set(X,[W,y]);else{for(X=0,ie=K.length;X<ie;X+=2){var z=K[X+1];if(K[X]===W)return(y=z).then(function(re){return re.clone()})}y=f(y,P),K.push(W,y)}return y.then(function(re){return re.clone()})};S(m,f);try{fetch=m}catch{try{globalThis.fetch=m}catch{console.warn("React was unable to patch the fetch() function in this environment. Suspensey APIs might not work correctly as a result.")}}}var c={current:null},a={current:null},e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),t=Symbol.for("react.profiler"),o=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function E(y){for(var P="https://reactjs.org/docs/error-decoder.html?invariant="+y,K=1;K<arguments.length;K++)P+="&args[]="+encodeURIComponent(arguments[K]);return"Minified React error #"+y+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function C(y,P,K){this.props=y,this.context=P,this.refs=_,this.updater=K||A}function N(){}function U(y,P,K){this.props=y,this.context=P,this.refs=_,this.updater=K||A}C.prototype.isReactComponent={},C.prototype.setState=function(y,P){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error(E(85));this.updater.enqueueSetState(this,y,P,"setState")},C.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")},N.prototype=C.prototype;var j=U.prototype=new N;j.constructor=U,S(j,C.prototype),j.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function I(y){return typeof y=="object"&&y!==null&&y.$$typeof===e}var H=/\/+/g;function B(y,P){var K,X;return typeof y=="object"&&y!==null&&y.key!=null?(K=""+y.key,X={"=":"=0",":":"=2"},"$"+K.replace(/[=:]/g,function(W){return X[W]})):P.toString(36)}function se(y,P,K){if(y==null)return y;var X=[],W=0;return function ie(z,re,pe,Ee,Se){var Fe,et,ke,Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var Q=!1;if(z===null)Q=!0;else switch(Oe){case"string":case"number":Q=!0;break;case"object":switch(z.$$typeof){case e:case r:Q=!0}}if(Q)return Se=Se(Q=z),z=Ee===""?"."+B(Q,0):Ee,D(Se)?(pe="",z!=null&&(pe=z.replace(H,"$&/")+"/"),ie(Se,re,pe,"",function(V){return V})):Se!=null&&(I(Se)&&(Fe=Se,et=pe+(!Se.key||Q&&Q.key===Se.key?"":(""+Se.key).replace(H,"$&/")+"/")+z,Se={$$typeof:e,type:Fe.type,key:et,ref:Fe.ref,props:Fe.props,_owner:Fe._owner}),re.push(Se)),1;if(Q=0,Ee=Ee===""?".":Ee+":",D(z))for(var x=0;x<z.length;x++){var k=Ee+B(Oe=z[x],x);Q+=ie(Oe,re,pe,k,Se)}else if(typeof(k=(ke=z)===null||typeof ke!="object"?null:typeof(ke=g&&ke[g]||ke["@@iterator"])=="function"?ke:null)=="function")for(z=k.call(z),x=0;!(Oe=z.next()).done;)k=Ee+B(Oe=Oe.value,x++),Q+=ie(Oe,re,pe,k,Se);else if(Oe==="object")throw Error(E(31,(re=String(z))==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re));return Q}(y,X,"","",function(ie){return P.call(K,ie,W++)}),X}function G(y){if(y._status===-1){var P=y._result;(P=P()).then(function(K){(y._status===0||y._status===-1)&&(y._status=1,y._result=K)},function(K){(y._status===0||y._status===-1)&&(y._status=2,y._result=K)}),y._status===-1&&(y._status=0,y._result=P)}if(y._status===1)return y._result.default;throw y._result}function ue(){return new WeakMap}function Pe(){return{s:0,v:void 0,o:null,p:null}}T.Children={map:se,forEach:function(y,P,K){se(y,function(){P.apply(this,arguments)},K)},count:function(y){var P=0;return se(y,function(){P++}),P},toArray:function(y){return se(y,function(P){return P})||[]},only:function(y){if(!I(y))throw Error(E(143));return y}},T.Fragment=n,T.Profiler=t,T.StrictMode=s,T.Suspense=i,T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:c,ReactCurrentOwner:a},T.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentCache:O},T.cache=function(y){return function(){var P=O.current;if(!P)return y.apply(null,arguments);var K=P.getCacheForType(ue);(P=K.get(y))===void 0&&(P=Pe(),K.set(y,P)),K=0;for(var X=arguments.length;K<X;K++){var W=arguments[K];if(typeof W=="function"||typeof W=="object"&&W!==null){var ie=P.o;ie===null&&(P.o=ie=new WeakMap),(P=ie.get(W))===void 0&&(P=Pe(),ie.set(W,P))}else(ie=P.p)===null&&(P.p=ie=new Map),(P=ie.get(W))===void 0&&(P=Pe(),ie.set(W,P))}if(P.s===1)return P.v;if(P.s===2)throw P.v;try{var z=y.apply(null,arguments);return(K=P).s=1,K.v=z}catch(re){throw(z=P).s=2,z.v=re,re}}},T.cloneElement=function(y,P,K){if(y==null)throw Error(E(267,y));var X=S({},y.props),W=y.key,ie=y.ref,z=y._owner;if(P!=null){if(P.ref!==void 0&&(ie=P.ref,z=a.current),P.key!==void 0&&(W=""+P.key),y.type&&y.type.defaultProps)var re=y.type.defaultProps;for(pe in P)L.call(P,pe)&&!b.hasOwnProperty(pe)&&(X[pe]=P[pe]===void 0&&re!==void 0?re[pe]:P[pe])}var pe=arguments.length-2;if(pe===1)X.children=K;else if(1<pe){re=Array(pe);for(var Ee=0;Ee<pe;Ee++)re[Ee]=arguments[Ee+2];X.children=re}return{$$typeof:e,type:y.type,key:W,ref:ie,props:X,_owner:z}},T.createElement=function(y,P,K){var X,W={},ie=null,z=null;if(P!=null)for(X in P.ref!==void 0&&(z=P.ref),P.key!==void 0&&(ie=""+P.key),P)L.call(P,X)&&!b.hasOwnProperty(X)&&(W[X]=P[X]);var re=arguments.length-2;if(re===1)W.children=K;else if(1<re){for(var pe=Array(re),Ee=0;Ee<re;Ee++)pe[Ee]=arguments[Ee+2];W.children=pe}if(y&&y.defaultProps)for(X in re=y.defaultProps)W[X]===void 0&&(W[X]=re[X]);return{$$typeof:e,type:y,key:ie,ref:z,props:W,_owner:a.current}},T.createRef=function(){return{current:null}},T.createServerContext=function(){throw Error(E(248))},T.forwardRef=function(y){return{$$typeof:o,render:y}},T.isValidElement=I,T.lazy=function(y){return{$$typeof:h,_payload:{_status:-1,_result:y},_init:G}},T.memo=function(y,P){return{$$typeof:l,type:y,compare:P===void 0?null:P}},T.startTransition=function(y){y()},T.use=function(y){return c.current.use(y)},T.useCallback=function(y,P){return c.current.useCallback(y,P)},T.useContext=function(y){return c.current.useContext(y)},T.useDebugValue=function(){},T.useId=function(){return c.current.useId()},T.useMemo=function(y,P){return c.current.useMemo(y,P)},T.version="18.3.0-canary-2c338b16f-20231116"},506:(J,T,S)=>{"use strict";J.exports=S(898)},379:(J,T,S)=>{"use strict";J.exports=S(115)},844:(J,T,S)=>{"use strict";var O;S.d(T,{ZK:()=>h});let{env:v,stdout:f}=((O=globalThis)==null?void 0:O.process)??{},m=v&&!v.NO_COLOR&&(v.FORCE_COLOR||f?.isTTY&&!v.CI&&v.TERM!=="dumb"),c=(g,E,A,_)=>{let C=g.substring(0,_)+A,N=g.substring(_+E.length),U=N.indexOf(E);return~U?C+c(N,E,A,U):C+N},a=(g,E,A=g)=>_=>{let C=""+_,N=C.indexOf(E,g.length);return~N?g+c(C,E,A,N)+E:g+C+E},e=m?a("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String;m&&a("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),m&&a("\x1B[3m","\x1B[23m"),m&&a("\x1B[4m","\x1B[24m"),m&&a("\x1B[7m","\x1B[27m"),m&&a("\x1B[8m","\x1B[28m"),m&&a("\x1B[9m","\x1B[29m"),m&&a("\x1B[30m","\x1B[39m");let r=m?a("\x1B[31m","\x1B[39m"):String,n=m?a("\x1B[32m","\x1B[39m"):String,s=m?a("\x1B[33m","\x1B[39m"):String;m&&a("\x1B[34m","\x1B[39m");let t=m?a("\x1B[35m","\x1B[39m"):String;m&&a("\x1B[38;2;173;127;168m","\x1B[39m"),m&&a("\x1B[36m","\x1B[39m");let o=m?a("\x1B[37m","\x1B[39m"):String;m&&a("\x1B[90m","\x1B[39m"),m&&a("\x1B[40m","\x1B[49m"),m&&a("\x1B[41m","\x1B[49m"),m&&a("\x1B[42m","\x1B[49m"),m&&a("\x1B[43m","\x1B[49m"),m&&a("\x1B[44m","\x1B[49m"),m&&a("\x1B[45m","\x1B[49m"),m&&a("\x1B[46m","\x1B[49m"),m&&a("\x1B[47m","\x1B[49m");let i={wait:o(e("\u25CB")),error:r(e("\u2A2F")),warn:s(e("\u26A0")),ready:"\u25B2",info:o(e(" ")),event:n(e("\u2713")),trace:t(e("\xBB"))},l={log:"log",warn:"warn",error:"error"};function h(...g){(function(E,...A){(A[0]===""||A[0]===void 0)&&A.length===1&&A.shift();let _=E in l?l[E]:"log",C=i[E];A.length===0?console[_](""):console[_](" "+C,...A)})("warn",...g)}},2:(J,T,S)=>{"use strict";S.d(T,{H4:()=>f,om:()=>O,vu:()=>v});let O="Next-Action",v=[["RSC"],["Next-Router-State-Tree"],["Next-Router-Prefetch"]],f="_rsc"},707:(J,T,S)=>{"use strict";S.d(T,{Ar:()=>n,BR:()=>l,EX:()=>e,Et:()=>r,Ho:()=>o,JT:()=>a,Qq:()=>f,Sx:()=>m,X_:()=>t,dN:()=>O,hd:()=>c,of:()=>s,y3:()=>v,zt:()=>i});let O="nxtP",v="x-prerender-revalidate",f="x-prerender-revalidate-if-generated",m=".prefetch.rsc",c=".rsc",a=".json",e=".meta",r="x-next-cache-tags",n="x-next-cache-soft-tags",s="x-next-revalidated-tags",t="x-next-revalidate-tag-token",o=256,i="_N_T_",l=31536e3,h={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"};({...h,GROUP:(h.reactServerComponents,h.actionBrowser,h.appMetadataRoute,h.appRouteHandler,h.middleware,h.api,h.reactServerComponents,h.actionBrowser,h.appMetadataRoute,h.appRouteHandler,h.serverSideRendering,h.appPagesBrowser)})},932:(J,T,S)=>{"use strict";S.d(T,{B:()=>r});var O=S(2),v=S(683),f=S(119),m=S(789),c=S(707);let a="__prerender_bypass";Symbol("__next_preview_data"),Symbol(a);class e{constructor(s,t,o,i){var l;let h=s&&function(E,A){let _=v.h.from(E.headers);return{isOnDemandRevalidate:_.get(c.y3)===A.previewModeId,revalidateOnlyGenerated:_.has(c.Qq)}}(t,s).isOnDemandRevalidate,g=(l=o.get(a))==null?void 0:l.value;this.isEnabled=!!(!h&&g&&s&&g===s.previewModeId),this._previewModeId=s?.previewModeId,this._mutableCookies=i}enable(){if(!this._previewModeId)throw Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:a,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:a,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}}let r={wrap(n,{req:s,res:t,renderOpts:o},i){let l;function h(A){t&&t.setHeader("Set-Cookie",A)}o&&"previewProps"in o&&(l=o.previewProps);let g={},E={get headers(){return g.headers||(g.headers=function(A){let _=v.h.from(A);for(let C of O.vu)_.delete(C.toString().toLowerCase());return v.h.seal(_)}(s.headers)),g.headers},get cookies(){return g.cookies||(g.cookies=function(A){let _=new m.q(v.h.from(A));return f.Qb.seal(_)}(s.headers)),g.cookies},get mutableCookies(){return g.mutableCookies||(g.mutableCookies=function(A,_){let C=new m.q(v.h.from(A));return f.vr.wrap(C,_)}(s.headers,o?.onUpdateCookies||(t?h:void 0))),g.mutableCookies},get draftMode(){return g.draftMode||(g.draftMode=new e(l,s,this.cookies,this.mutableCookies)),g.draftMode}};return n.run(E,i,E)}}},381:(J,T,S)=>{J.exports=S(335)},335:(J,T,S)=>{"use strict";S.d(T,{AppRouteRouteModule:()=>Oe});var O,v,f={};S.r(f),S.d(f,{DYNAMIC_ERROR_CODE:()=>b,DynamicServerError:()=>I});var m={};S.r(m),S.d(m,{cookies:()=>K,draftMode:()=>X,headers:()=>P});var c={};S.r(c),S.d(c,{AppRouterContext:()=>Ee,CacheStates:()=>pe,GlobalLayoutRouterContext:()=>Fe,LayoutRouterContext:()=>Se,TemplateContext:()=>et});var a={};S.r(a),S.d(a,{appRouterContext:()=>c});class e{constructor({userland:x,definition:k}){this.userland=x,this.definition=k}}var r=S(932);let n={wrap(Q,{urlPathname:x,renderOpts:k,postpone:V},le){let ne=!k.supportsDynamicHTML&&!k.isDraftMode&&!k.isServerAction,fe={isStaticGeneration:ne,urlPathname:x,pagePath:k.originalPathname,incrementalCache:k.incrementalCache||globalThis.__incrementalCache,isRevalidate:k.isRevalidate,isPrerendering:k.nextExport,fetchCache:k.fetchCache,isOnDemandRevalidate:k.isOnDemandRevalidate,isDraftMode:k.isDraftMode,postpone:ne&&k.experimental.ppr&&V?Y=>(fe.postponeWasTriggered=!0,V(`This page needs to bail out of prerendering at this point because it used ${Y}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`)):void 0};return k.store=fe,Q.run(fe,le,fe)}};var s=S(119);function t(){return new Response(null,{status:400})}function o(){return new Response(null,{status:405})}let i=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var l=S(845),h=S(200),g=S(490),E=S(462),A=S(639);function _(Q){let x=new URL(Q);return x.host="localhost:3000",x.search="",x.protocol="http",x.toString()}var C=S(445),N=S(186);let U=(0,N.P)();(function(Q){Q[Q.SeeOther=303]="SeeOther",Q[Q.TemporaryRedirect=307]="TemporaryRedirect",Q[Q.PermanentRedirect=308]="PermanentRedirect"})(O||(O={}));function j(Q){if(typeof Q?.digest!="string")return!1;let[x,k,V,le]=Q.digest.split(";",4),ne=Number(le);return x==="NEXT_REDIRECT"&&(k==="replace"||k==="push")&&typeof V=="string"&&!isNaN(ne)&&ne in O}(function(Q){Q.push="push",Q.replace="replace"})(v||(v={})),S(844);let D=["HEAD","OPTIONS"],L=["OPTIONS","POST","PUT","DELETE","PATCH"],b="DYNAMIC_SERVER_USAGE";class I extends Error{constructor(x){super("Dynamic server usage: "+x),this.digest=b}}var H=S(683),B=S(789);let se=(0,N.P)();class G extends Error{constructor(...x){super(...x),this.code="NEXT_STATIC_GEN_BAILOUT"}}function ue(Q,x){let{dynamic:k,link:V}=x||{};return"Page"+(k?' with `dynamic = "'+k+'"`':"")+" couldn't be rendered statically because it used `"+Q+"`."+(V?" See more info here: "+V:"")}let Pe=(Q,x)=>{let{dynamic:k,link:V}=x===void 0?{}:x,le=se.getStore();if(!le)return!1;if(le.forceStatic)return!0;if(le.dynamicShouldError)throw new G(ue(Q,{link:V,dynamic:k??"error"}));let ne=ue(Q,{dynamic:k,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(le.postpone==null||le.postpone.call(le,Q),le.revalidate=0,le.isStaticGeneration){let fe=new I(ne);throw le.dynamicUsageDescription=Q,le.dynamicUsageStack=fe.stack,fe}return!1};class y{get isEnabled(){return this._provider.isEnabled}enable(){if(!Pe("draftMode().enable()"))return this._provider.enable()}disable(){if(!Pe("draftMode().disable()"))return this._provider.disable()}constructor(x){this._provider=x}}function P(){if(Pe("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return H.h.seal(new Headers({}));let Q=C.F.getStore();if(!Q)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return Q.headers}function K(){if(Pe("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return s.Qb.seal(new B.q(new Headers({})));let Q=C.F.getStore();if(!Q)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let x=U.getStore();return x&&(x.isAction||x.isAppRoute)?Q.mutableCookies:Q.cookies}function X(){let Q=C.F.getStore();if(!Q)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new y(Q.draftMode)}let W=S(616).createClientModuleProxy,ie=W(String.raw`/Users/pwittig/code/workers-ai-playground-nextjs/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js`),{__esModule:z,$$typeof:re}=ie;ie.default;let pe=W(String.raw`/Users/pwittig/code/workers-ai-playground-nextjs/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#CacheStates`),Ee=W(String.raw`/Users/pwittig/code/workers-ai-playground-nextjs/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#AppRouterContext`),Se=W(String.raw`/Users/pwittig/code/workers-ai-playground-nextjs/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#LayoutRouterContext`),Fe=W(String.raw`/Users/pwittig/code/workers-ai-playground-nextjs/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#GlobalLayoutRouterContext`),et=W(String.raw`/Users/pwittig/code/workers-ai-playground-nextjs/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#TemplateContext`);var ke=S(2);class Oe extends e{static#e=this.sharedModules=a;constructor({userland:x,definition:k,resolvedPagePath:V,nextConfigOutput:le}){if(super({userland:x,definition:k}),this.requestAsyncStorage=C.F,this.staticGenerationAsyncStorage=se,this.serverHooks=f,this.headerHooks=m,this.staticGenerationBailout=Pe,this.actionAsyncStorage=U,this.resolvedPagePath=V,this.nextConfigOutput=le,this.methods=function(ne){let fe=i.reduce((Re,Me)=>({...Re,[Me]:ne[Me]??o}),{}),Y=new Set(i.filter(Re=>ne[Re]));for(let Re of D.filter(Me=>!Y.has(Me))){if(Re==="HEAD"){if(!ne.GET)break;fe.HEAD=ne.GET,Y.add("HEAD");continue}if(Re==="OPTIONS"){let Me=["OPTIONS",...Y];!Y.has("HEAD")&&Y.has("GET")&&Me.push("HEAD");let Je={Allow:Me.sort().join(", ")};fe.OPTIONS=()=>new Response(null,{status:204,headers:Je}),Y.add("OPTIONS");continue}throw Error(`Invariant: should handle all automatic implementable methods, got method: ${Re}`)}return fe}(x),this.nonStaticMethods=function(ne){let fe=L.filter(Y=>ne[Y]);return fe.length!==0&&fe}(x),this.dynamic=this.userland.dynamic,this.nextConfigOutput==="export")if(this.dynamic&&this.dynamic!=="auto"){if(this.dynamic==="force-dynamic")throw Error(`export const dynamic = "force-dynamic" on page "${k.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`)}else this.dynamic="error"}resolve(x){return i.includes(x)?this.methods[x]:t}async execute(x,k){let V=this.resolve(x.method),le={req:x};le.renderOpts={previewProps:k.prerenderManifest.preview};let ne={urlPathname:x.nextUrl.pathname,renderOpts:k.renderOpts};ne.renderOpts.fetchCache=this.userland.fetchCache;let fe=await this.actionAsyncStorage.run({isAppRoute:!0,isAction:function(Y){let{isFetchAction:Re,isURLEncodedAction:Me,isMultipartAction:Je}=function(je){let Ue,Ve;je.headers instanceof Headers?(Ue=je.headers.get(ke.om.toLowerCase())??null,Ve=je.headers.get("content-type")):(Ue=je.headers[ke.om.toLowerCase()]??null,Ve=je.headers["content-type"]??null);let tt=je.method==="POST"&&Ve==="application/x-www-form-urlencoded",Ie=!!(je.method==="POST"&&Ve?.startsWith("multipart/form-data")),st=Ue!==void 0&&typeof Ue=="string"&&je.method==="POST";return{actionId:Ue,isURLEncodedAction:tt,isMultipartAction:Ie,isFetchAction:st}}(Y);return!!(Re||Me||Je)}(x)},()=>r.B.wrap(this.requestAsyncStorage,le,()=>n.wrap(this.staticGenerationAsyncStorage,ne,Y=>{var Re;switch(this.nonStaticMethods&&this.staticGenerationBailout(`non-static methods used ${this.nonStaticMethods.join(", ")}`),this.dynamic){case"force-dynamic":Y.forceDynamic=!0,this.staticGenerationBailout("force-dynamic",{dynamic:this.dynamic});break;case"force-static":Y.forceStatic=!0;break;case"error":Y.dynamicShouldError=!0}Y.revalidate??=this.userland.revalidate??!1;let Me=function(je,{dynamic:Ue},Ve){function tt(Be){switch(Be){case"search":case"searchParams":case"toString":case"href":case"origin":Ve.staticGenerationBailout(`nextUrl.${Be}`);return;default:return}}let Ie={},st=(Be,He)=>{switch(He){case"search":return"";case"searchParams":return Ie.searchParams||(Ie.searchParams=new URLSearchParams),Ie.searchParams;case"url":case"href":return Ie.url||(Ie.url=_(Be)),Ie.url;case"toJSON":case"toString":return Ie.url||(Ie.url=_(Be)),Ie.toString||(Ie.toString=()=>Ie.url),Ie.toString;case"headers":return Ie.headers||(Ie.headers=new Headers),Ie.headers;case"cookies":return Ie.headers||(Ie.headers=new Headers),Ie.cookies||(Ie.cookies=new E.RequestCookies(Ie.headers)),Ie.cookies;case"clone":return Ie.url||(Ie.url=_(Be)),()=>new A.c(Ie.url)}},ot=new Proxy(je.nextUrl,{get(Be,He){if(tt(He),Ue==="force-static"&&typeof He=="string"){let nt=st(Be.href,He);if(nt!==void 0)return nt}let Xe=Be[He];return typeof Xe=="function"?Xe.bind(Be):Xe},set:(Be,He,Xe)=>(tt(He),Be[He]=Xe,!0)}),Tt=Be=>{switch(Be){case"headers":Ve.headerHooks.headers();return;case"url":case"cookies":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":Ve.staticGenerationBailout(`request.${Be}`);return;default:return}};return new Proxy(je,{get(Be,He){if(Tt(He),He==="nextUrl")return ot;if(Ue==="force-static"&&typeof He=="string"){let nt=st(Be.url,He);if(nt!==void 0)return nt}let Xe=Be[He];return typeof Xe=="function"?Xe.bind(Be):Xe},set:(Be,He,Xe)=>(Tt(He),Be[He]=Xe,!0)})}(x,{dynamic:this.dynamic},{headerHooks:this.headerHooks,serverHooks:this.serverHooks,staticGenerationBailout:this.staticGenerationBailout}),Je=function(je){let Ue="/app/";je.includes(Ue)||(Ue="\\app\\");let[,...Ve]=je.split(Ue);return(Ue[0]+Ve.join(Ue)).split(".").slice(0,-1).join(".")}(this.resolvedPagePath);return(Re=(0,h.Yz)().getRootSpanAttributes())==null||Re.set("next.route",Je),(0,h.Yz)().trace(g.PB.runHandler,{spanName:`executing api route (app) ${Je}`,attributes:{"next.route":Je}},async()=>{var je;(0,l.XH)({serverHooks:this.serverHooks,staticGenerationAsyncStorage:this.staticGenerationAsyncStorage});let Ue=await V(Me,{params:k.params?function(tt){let Ie={};for(let[st,ot]of Object.entries(tt))ot!==void 0&&(Ie[st]=ot);return Ie}(k.params):void 0});if(!(Ue instanceof Response))throw Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`);k.renderOpts.fetchMetrics=Y.fetchMetrics,k.renderOpts.waitUntil=Promise.all(Object.values(Y.pendingRevalidates||[])),(0,l.RQ)(Y),k.renderOpts.fetchTags=(je=Y.tags)==null?void 0:je.join(",");let Ve=this.requestAsyncStorage.getStore();if(Ve&&Ve.mutableCookies){let tt=new Headers(Ue.headers);if((0,s._5)(tt,Ve.mutableCookies))return new Response(Ue.body,{status:Ue.status,statusText:Ue.statusText,headers:tt})}return Ue})})));if(!(fe instanceof Response))return new Response(null,{status:500});if(fe.headers.has("x-middleware-rewrite"))throw Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue.");if(fe.headers.get("x-middleware-next")==="1")throw Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler");return fe}async handle(x,k){try{return await this.execute(x,k)}catch(V){let le=function(ne){if(j(ne)){let fe=j(ne)?ne.digest.split(";",3)[2]:null;if(!fe)throw Error("Invariant: Unexpected redirect url format");let Y=function(Re){if(!j(Re))throw Error("Not a redirect error");return Number(Re.digest.split(";",4)[3])}(ne);return function(Re,Me,Je){let je=new Headers({location:Re});return(0,s._5)(je,Me),new Response(null,{status:Je,headers:je})}(fe,ne.mutableCookies,Y)}return ne?.digest==="NEXT_NOT_FOUND"&&new Response(null,{status:404})}(V);if(!le)throw V;return le}}}},845:(J,T,S)=>{"use strict";S.d(T,{RQ:()=>e,XH:()=>n});var O=S(490),v=S(200),f=S(707),m=S(844),c=S(195).Buffer;let a=s=>{let t=["/layout"];if(s.startsWith("/")){let o=s.split("/");for(let i=1;i<o.length+1;i++){let l=o.slice(0,i).join("/");l&&(l.endsWith("/page")||l.endsWith("/route")||(l=`${l}${l.endsWith("/")?"":"/"}layout`),t.push(l))}}return t};function e(s){var t,o;let i=[],{pagePath:l,urlPathname:h}=s;if(Array.isArray(s.tags)||(s.tags=[]),l)for(let g of a(l))g=`${f.zt}${g}`,(t=s.tags)!=null&&t.includes(g)||s.tags.push(g),i.push(g);if(h){let g=new URL(h,"http://n").pathname,E=`${f.zt}${g}`;(o=s.tags)!=null&&o.includes(E)||s.tags.push(E),i.push(E)}return i}function r(s,t){if(!s)return;s.fetchMetrics||(s.fetchMetrics=[]);let o=["url","status","method"];s.fetchMetrics.some(i=>o.every(l=>i[l]===t[l]))||s.fetchMetrics.push({url:t.url,cacheStatus:t.cacheStatus,cacheReason:t.cacheReason,status:t.status,method:t.method,start:t.start,end:Date.now(),idx:s.nextFetchId||0})}function n({serverHooks:s,staticGenerationAsyncStorage:t}){if(globalThis._nextOriginalFetch||(globalThis._nextOriginalFetch=globalThis.fetch),globalThis.fetch.__nextPatched)return;let{DynamicServerError:o}=s,i=globalThis._nextOriginalFetch;globalThis.fetch=async(l,h)=>{var g,E;let A;try{(A=new URL(l instanceof Request?l.url:l)).username="",A.password=""}catch{A=void 0}let _=A?.href??"",C=Date.now(),N=(h==null||(g=h.method)==null?void 0:g.toUpperCase())||"GET",U=((E=h?.next)==null?void 0:E.internal)===!0;return await(0,v.Yz)().trace(U?O.Xy.internalFetch:O.k0.fetch,{kind:v.MU.CLIENT,spanName:["fetch",N,_].filter(Boolean).join(" "),attributes:{"http.url":_,"http.method":N,"net.peer.name":A?.hostname,"net.peer.port":A?.port||void 0}},async()=>{var j;let D,L,b,I=t.getStore()||(fetch.__nextGetStaticStore==null?void 0:fetch.__nextGetStaticStore.call(fetch)),H=l&&typeof l=="object"&&typeof l.method=="string",B=V=>(H?l[V]:null)||h?.[V];if(!I||U||I.isDraftMode)return i(l,h);let se=V=>{var le,ne,fe;return(h==null||(le=h.next)==null?void 0:le[V])!==void 0?h==null||(ne=h.next)==null?void 0:ne[V]:H?(fe=l.next)==null?void 0:fe[V]:void 0},G=se("revalidate"),ue=function(V,le){let ne=[],fe=[];for(let Y of V)typeof Y!="string"?fe.push({tag:Y,reason:"invalid type, must be a string"}):Y.length>f.Ho?fe.push({tag:Y,reason:`exceeded max length of ${f.Ho}`}):ne.push(Y);if(fe.length>0)for(let{tag:Y,reason:Re}of(console.warn(`Warning: invalid tags passed to ${le}: `),fe))console.log(`tag: "${Y}" ${Re}`);return ne}(se("tags")||[],`fetch ${l.toString()}`);if(Array.isArray(ue))for(let V of(I.tags||(I.tags=[]),ue))I.tags.includes(V)||I.tags.push(V);let Pe=e(I),y=I.fetchCache==="only-cache",P=I.fetchCache==="force-cache",K=I.fetchCache==="default-cache",X=I.fetchCache==="default-no-store",W=I.fetchCache==="only-no-store",ie=I.fetchCache==="force-no-store",z=B("cache"),re="";typeof z=="string"&&G!==void 0&&(H&&z==="default"||m.ZK(`fetch for ${_} on ${I.urlPathname} specified "cache: ${z}" and "revalidate: ${G}", only one should be specified.`),z=void 0),z==="force-cache"?G=!1:(z==="no-cache"||z==="no-store"||ie||W)&&(G=0),(z==="no-cache"||z==="no-store")&&(re=`cache: ${z}`),(typeof G=="number"||G===!1)&&(b=G);let pe=B("headers"),Ee=typeof pe?.get=="function"?pe:new Headers(pe||{}),Se=Ee.get("authorization")||Ee.get("cookie"),Fe=!["get","head"].includes(((j=B("method"))==null?void 0:j.toLowerCase())||"get"),et=(Se||Fe)&&I.revalidate===0;if(ie&&(re="fetchCache = force-no-store"),W){if(z==="force-cache"||b!==void 0&&(b===!1||b>0))throw Error(`cache: 'force-cache' used on fetch for ${_} with 'export const fetchCache = 'only-no-store'`);re="fetchCache = only-no-store"}if(y&&z==="no-store")throw Error(`cache: 'no-store' used on fetch for ${_} with 'export const fetchCache = 'only-cache'`);P&&(G===void 0||G===0)&&(re="fetchCache = force-cache",b=!1),b===void 0?K?(b=!1,re="fetchCache = default-cache"):et?(b=0,re="auto no cache"):X?(b=0,re="fetchCache = default-no-store"):(re="auto cache",b=typeof I.revalidate!="boolean"&&I.revalidate!==void 0&&I.revalidate):re||(re=`revalidate: ${b}`),!et&&(I.revalidate===void 0||typeof b=="number"&&(I.revalidate===!1||typeof I.revalidate=="number"&&b<I.revalidate))&&(b===0&&(I.postpone==null||I.postpone.call(I,"revalidate: 0")),I.revalidate=b);let ke=typeof b=="number"&&b>0||b===!1;if(I.incrementalCache&&ke)try{D=await I.incrementalCache.fetchCacheKey(_,H?l:h)}catch{console.error("Failed to generate cache key for",l)}let Oe=I.nextFetchId??1;I.nextFetchId=Oe+1;let Q=typeof b!="number"?f.BR:b,x=async(V,le)=>{let ne=["credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...V?[]:["signal"]];if(H){let Y=l,Re={body:Y._ogBody||Y.body};for(let Me of ne)Re[Me]=Y[Me];l=new Request(Y.url,Re)}else if(h){let Y=h;for(let Re of(h={body:h._ogBody||h.body},ne))h[Re]=Y[Re]}let fe={...h,next:{...h?.next,fetchType:"origin",fetchIdx:Oe}};return i(l,fe).then(async Y=>{if(V||r(I,{start:C,url:_,cacheReason:le||re,cacheStatus:b===0||le?"skip":"miss",status:Y.status,method:fe.method||"GET"}),Y.status===200&&I.incrementalCache&&D&&ke){let Re=c.from(await Y.arrayBuffer());try{await I.incrementalCache.set(D,{kind:"FETCH",data:{headers:Object.fromEntries(Y.headers.entries()),body:Re.toString("base64"),status:Y.status,url:Y.url},revalidate:Q},{fetchCache:!0,revalidate:b,fetchUrl:_,fetchIdx:Oe,tags:ue})}catch(Je){console.warn("Failed to set fetch cache",l,Je)}let Me=new Response(Re,{headers:new Headers(Y.headers),status:Y.status});return Object.defineProperty(Me,"url",{value:Y.url}),Me}return Y})},k=()=>Promise.resolve();if(D&&I.incrementalCache){k=await I.incrementalCache.lock(D);let V=I.isOnDemandRevalidate?null:await I.incrementalCache.get(D,{kindHint:"fetch",revalidate:b,fetchUrl:_,fetchIdx:Oe,tags:ue,softTags:Pe});if(V?await k():L="cache-control: no-cache (hard refresh)",V?.value&&V.value.kind==="FETCH"&&!(I.isRevalidate&&V.isStale)){V.isStale&&(I.pendingRevalidates??={},I.pendingRevalidates[D]||(I.pendingRevalidates[D]=x(!0).catch(console.error)));let le=V.value.data;r(I,{start:C,url:_,cacheReason:re,cacheStatus:"hit",status:le.status||200,method:h?.method||"GET"});let ne=new Response(c.from(le.body,"base64"),{headers:le.headers,status:le.status});return Object.defineProperty(ne,"url",{value:V.value.data.url}),ne}}if(I.isStaticGeneration&&h&&typeof h=="object"){let{cache:V}=h;if(delete h.cache,V==="no-store"){let fe=`no-store fetch ${l}${I.urlPathname?` ${I.urlPathname}`:""}`;I.postpone==null||I.postpone.call(I,fe),I.revalidate=0;let Y=new o(fe);I.dynamicUsageErr=Y,I.dynamicUsageDescription=fe}let le="next"in h,{next:ne={}}=h;if(typeof ne.revalidate=="number"&&(I.revalidate===void 0||typeof I.revalidate=="number"&&ne.revalidate<I.revalidate)){let fe=I.forceDynamic;if(!fe&&ne.revalidate===0){let Y=`revalidate: 0 fetch ${l}${I.urlPathname?` ${I.urlPathname}`:""}`;I.postpone==null||I.postpone.call(I,Y);let Re=new o(Y);I.dynamicUsageErr=Re,I.dynamicUsageDescription=Y}fe&&ne.revalidate===0||(I.revalidate=ne.revalidate)}le&&delete h.next}return x(!1,L).finally(k)})},globalThis.fetch.__nextGetStaticStore=()=>t,globalThis.fetch.__nextPatched=!0}},490:(J,T,S)=>{"use strict";var O,v,f,m,c,a,e,r,n,s,t;S.d(T,{PB:()=>s,Xy:()=>m,k0:()=>e,lw:()=>o}),function(i){i.handleRequest="BaseServer.handleRequest",i.run="BaseServer.run",i.pipe="BaseServer.pipe",i.getStaticHTML="BaseServer.getStaticHTML",i.render="BaseServer.render",i.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",i.renderToResponse="BaseServer.renderToResponse",i.renderToHTML="BaseServer.renderToHTML",i.renderError="BaseServer.renderError",i.renderErrorToResponse="BaseServer.renderErrorToResponse",i.renderErrorToHTML="BaseServer.renderErrorToHTML",i.render404="BaseServer.render404"}(O||(O={})),function(i){i.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",i.loadComponents="LoadComponents.loadComponents"}(v||(v={})),function(i){i.getRequestHandler="NextServer.getRequestHandler",i.getServer="NextServer.getServer",i.getServerRequestHandler="NextServer.getServerRequestHandler",i.createServer="createServer.createServer"}(f||(f={})),function(i){i.compression="NextNodeServer.compression",i.getBuildId="NextNodeServer.getBuildId",i.generateStaticRoutes="NextNodeServer.generateStaticRoutes",i.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",i.generatePublicRoutes="NextNodeServer.generatePublicRoutes",i.generateImageRoutes="NextNodeServer.generateImageRoutes.route",i.sendRenderResult="NextNodeServer.sendRenderResult",i.proxyRequest="NextNodeServer.proxyRequest",i.runApi="NextNodeServer.runApi",i.render="NextNodeServer.render",i.renderHTML="NextNodeServer.renderHTML",i.imageOptimizer="NextNodeServer.imageOptimizer",i.getPagePath="NextNodeServer.getPagePath",i.getRoutesManifest="NextNodeServer.getRoutesManifest",i.findPageComponents="NextNodeServer.findPageComponents",i.getFontManifest="NextNodeServer.getFontManifest",i.getServerComponentManifest="NextNodeServer.getServerComponentManifest",i.getRequestHandler="NextNodeServer.getRequestHandler",i.renderToHTML="NextNodeServer.renderToHTML",i.renderError="NextNodeServer.renderError",i.renderErrorToHTML="NextNodeServer.renderErrorToHTML",i.render404="NextNodeServer.render404",i.route="route",i.onProxyReq="onProxyReq",i.apiResolver="apiResolver",i.internalFetch="internalFetch"}(m||(m={})),(c||(c={})).startServer="startServer.startServer",function(i){i.getServerSideProps="Render.getServerSideProps",i.getStaticProps="Render.getStaticProps",i.renderToString="Render.renderToString",i.renderDocument="Render.renderDocument",i.createBodyResult="Render.createBodyResult"}(a||(a={})),function(i){i.renderToString="AppRender.renderToString",i.renderToReadableStream="AppRender.renderToReadableStream",i.getBodyResult="AppRender.getBodyResult",i.fetch="AppRender.fetch"}(e||(e={})),(r||(r={})).executeRoute="Router.executeRoute",(n||(n={})).runHandler="Node.runHandler",(s||(s={})).runHandler="AppRouteRouteHandlers.runHandler",function(i){i.generateMetadata="ResolveMetadata.generateMetadata",i.generateViewport="ResolveMetadata.generateViewport"}(t||(t={}));let o=["BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport"]},200:(J,T,S)=>{"use strict";let O;S.d(T,{MU:()=>e,Yz:()=>g});var v=S(490);let{context:f,propagation:m,trace:c,SpanStatusCode:a,SpanKind:e,ROOT_CONTEXT:r}=O=S(75),n=E=>E!==null&&typeof E=="object"&&typeof E.then=="function",s=(E,A)=>{A?.bubble===!0?E.setAttribute("next.bubble",!0):(A&&E.recordException(A),E.setStatus({code:a.ERROR,message:A?.message})),E.end()},t=new Map,o=O.createContextKey("next.rootSpanId"),i=0,l=()=>i++;class h{getTracerInstance(){return c.getTracer("next.js","0.0.1")}getContext(){return f}getActiveScopeSpan(){return c.getSpan(f?.active())}withPropagatedContext(A,_,C){let N=f.active();if(c.getSpanContext(N))return _();let U=m.extract(N,A,C);return f.with(U,_)}trace(...A){var _;let[C,N,U]=A,{fn:j,options:D}=typeof N=="function"?{fn:N,options:{}}:{fn:U,options:{...N}};if(!v.lw.includes(C)&&process.env.NEXT_OTEL_VERBOSE!=="1"||D.hideSpan)return j();let L=D.spanName??C,b=this.getSpanContext(D?.parentSpan??this.getActiveScopeSpan()),I=!1;b?(_=c.getSpanContext(b))!=null&&_.isRemote&&(I=!0):(b=r,I=!0);let H=l();return D.attributes={"next.span_name":L,"next.span_type":C,...D.attributes},f.with(b.setValue(o,H),()=>this.getTracerInstance().startActiveSpan(L,D,B=>{let se=()=>{t.delete(H)};I&&t.set(H,new Map(Object.entries(D.attributes??{})));try{if(j.length>1)return j(B,ue=>s(B,ue));let G=j(B);return n(G)?G.then(()=>B.end(),ue=>s(B,ue)).finally(se):(B.end(),se()),G}catch(G){throw s(B,G),se(),G}}))}wrap(...A){let _=this,[C,N,U]=A.length===3?A:[A[0],{},A[1]];return v.lw.includes(C)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let j=N;typeof j=="function"&&typeof U=="function"&&(j=j.apply(this,arguments));let D=arguments.length-1,L=arguments[D];if(typeof L!="function")return _.trace(C,j,()=>U.apply(this,arguments));{let b=_.getContext().bind(f.active(),L);return _.trace(C,j,(I,H)=>(arguments[D]=function(B){return H?.(B),b.apply(this,arguments)},U.apply(this,arguments)))}}:U}startSpan(...A){let[_,C]=A,N=this.getSpanContext(C?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(_,C,N)}getSpanContext(A){return A?c.setSpan(f.active(),A):void 0}getRootSpanAttributes(){let A=f.active().getValue(o);return t.get(A)}}let g=(()=>{let E=new h;return()=>E})()},639:(J,T,S)=>{"use strict";S.d(T,{c:()=>s});var O=S(274);function v(t){let o=t.indexOf("#"),i=t.indexOf("?"),l=i>-1&&(o<0||i<o);return l||o>-1?{pathname:t.substring(0,l?i:o),query:l?t.substring(i,o>-1?o:void 0):"",hash:o>-1?t.slice(o):""}:{pathname:t,query:"",hash:""}}function f(t,o){if(!t.startsWith("/")||!o)return t;let{pathname:i,query:l,hash:h}=v(t);return""+o+i+l+h}function m(t,o){if(!t.startsWith("/")||!o)return t;let{pathname:i,query:l,hash:h}=v(t);return""+i+o+l+h}function c(t,o){if(typeof t!="string")return!1;let{pathname:i}=v(t);return i===o||i.startsWith(o+"/")}var a=S(823);let e=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function r(t,o){return new URL(String(t).replace(e,"localhost"),o&&String(o).replace(e,"localhost"))}let n=Symbol("NextURLInternal");class s{constructor(o,i,l){let h,g;typeof i=="object"&&"pathname"in i||typeof i=="string"?(h=i,g=l||{}):g=l||i||{},this[n]={url:r(o,h??g.base),options:g,basePath:""},this.analyze()}analyze(){var o,i,l,h,g;let E=function(C,N){var U,j;let{basePath:D,i18n:L,trailingSlash:b}=(U=N.nextConfig)!=null?U:{},I={pathname:C,trailingSlash:C!=="/"?C.endsWith("/"):b};D&&c(I.pathname,D)&&(I.pathname=function(B,se){if(!c(B,se))return B;let G=B.slice(se.length);return G.startsWith("/")?G:"/"+G}(I.pathname,D),I.basePath=D);let H=I.pathname;if(I.pathname.startsWith("/_next/data/")&&I.pathname.endsWith(".json")){let B=I.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),se=B[0];I.buildId=se,H=B[1]!=="index"?"/"+B.slice(1).join("/"):"/",N.parseData===!0&&(I.pathname=H)}if(L){let B=N.i18nProvider?N.i18nProvider.analyze(I.pathname):(0,a.h)(I.pathname,L.locales);I.locale=B.detectedLocale,I.pathname=(j=B.pathname)!=null?j:I.pathname,!B.detectedLocale&&I.buildId&&(B=N.i18nProvider?N.i18nProvider.analyze(H):(0,a.h)(H,L.locales)).detectedLocale&&(I.locale=B.detectedLocale)}return I}(this[n].url.pathname,{nextConfig:this[n].options.nextConfig,parseData:!0,i18nProvider:this[n].options.i18nProvider}),A=function(C,N){let U;if(N?.host&&!Array.isArray(N.host))U=N.host.toString().split(":",1)[0];else{if(!C.hostname)return;U=C.hostname}return U.toLowerCase()}(this[n].url,this[n].options.headers);this[n].domainLocale=this[n].options.i18nProvider?this[n].options.i18nProvider.detectDomainLocale(A):function(C,N,U){if(C)for(let L of(U&&(U=U.toLowerCase()),C)){var j,D;if(N===((j=L.domain)==null?void 0:j.split(":",1)[0].toLowerCase())||U===L.defaultLocale.toLowerCase()||((D=L.locales)==null?void 0:D.some(b=>b.toLowerCase()===U)))return L}}((i=this[n].options.nextConfig)==null||(o=i.i18n)==null?void 0:o.domains,A);let _=((l=this[n].domainLocale)==null?void 0:l.defaultLocale)||((g=this[n].options.nextConfig)==null||(h=g.i18n)==null?void 0:h.defaultLocale);this[n].url.pathname=E.pathname,this[n].defaultLocale=_,this[n].basePath=E.basePath??"",this[n].buildId=E.buildId,this[n].locale=E.locale??_,this[n].trailingSlash=E.trailingSlash}formatPathname(){var o;let i;return i=function(l,h,g,E){if(!h||h===g)return l;let A=l.toLowerCase();return!E&&(c(A,"/api")||c(A,"/"+h.toLowerCase()))?l:f(l,"/"+h)}((o={basePath:this[n].basePath,buildId:this[n].buildId,defaultLocale:this[n].options.forceLocale?void 0:this[n].defaultLocale,locale:this[n].locale,pathname:this[n].url.pathname,trailingSlash:this[n].trailingSlash}).pathname,o.locale,o.buildId?void 0:o.defaultLocale,o.ignorePrefix),(o.buildId||!o.trailingSlash)&&(i=(0,O.Q)(i)),o.buildId&&(i=m(f(i,"/_next/data/"+o.buildId),o.pathname==="/"?"index.json":".json")),i=f(i,o.basePath),!o.buildId&&o.trailingSlash?i.endsWith("/")?i:m(i,"/"):(0,O.Q)(i)}formatSearch(){return this[n].url.search}get buildId(){return this[n].buildId}set buildId(o){this[n].buildId=o}get locale(){return this[n].locale??""}set locale(o){var i,l;if(!this[n].locale||!(!((l=this[n].options.nextConfig)==null||(i=l.i18n)==null)&&i.locales.includes(o)))throw TypeError(`The NextURL configuration includes no locale "${o}"`);this[n].locale=o}get defaultLocale(){return this[n].defaultLocale}get domainLocale(){return this[n].domainLocale}get searchParams(){return this[n].url.searchParams}get host(){return this[n].url.host}set host(o){this[n].url.host=o}get hostname(){return this[n].url.hostname}set hostname(o){this[n].url.hostname=o}get port(){return this[n].url.port}set port(o){this[n].url.port=o}get protocol(){return this[n].url.protocol}set protocol(o){this[n].url.protocol=o}get href(){let o=this.formatPathname(),i=this.formatSearch();return`${this.protocol}//${this.host}${o}${i}${this.hash}`}set href(o){this[n].url=r(o),this.analyze()}get origin(){return this[n].url.origin}get pathname(){return this[n].url.pathname}set pathname(o){this[n].url.pathname=o}get hash(){return this[n].url.hash}set hash(o){this[n].url.hash=o}get search(){return this[n].url.search}set search(o){this[n].url.search=o}get password(){return this[n].url.password}set password(o){this[n].url.password=o}get username(){return this[n].url.username}set username(o){this[n].url.username=o}get basePath(){return this[n].basePath}set basePath(o){this[n].basePath=o.startsWith("/")?o:`/${o}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new s(String(this),this[n].options)}}},683:(J,T,S)=>{"use strict";S.d(T,{h:()=>f});var O=S(805);class v extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new v}}class f extends Headers{constructor(c){super(),this.headers=new Proxy(c,{get(a,e,r){if(typeof e=="symbol")return O.g.get(a,e,r);let n=e.toLowerCase(),s=Object.keys(c).find(t=>t.toLowerCase()===n);if(s!==void 0)return O.g.get(a,s,r)},set(a,e,r,n){if(typeof e=="symbol")return O.g.set(a,e,r,n);let s=e.toLowerCase(),t=Object.keys(c).find(o=>o.toLowerCase()===s);return O.g.set(a,t??e,r,n)},has(a,e){if(typeof e=="symbol")return O.g.has(a,e);let r=e.toLowerCase(),n=Object.keys(c).find(s=>s.toLowerCase()===r);return n!==void 0&&O.g.has(a,n)},deleteProperty(a,e){if(typeof e=="symbol")return O.g.deleteProperty(a,e);let r=e.toLowerCase(),n=Object.keys(c).find(s=>s.toLowerCase()===r);return n===void 0||O.g.deleteProperty(a,n)}})}static seal(c){return new Proxy(c,{get(a,e,r){switch(e){case"append":case"delete":case"set":return v.callable;default:return O.g.get(a,e,r)}}})}merge(c){return Array.isArray(c)?c.join(", "):c}static from(c){return c instanceof Headers?c:new f(c)}append(c,a){let e=this.headers[c];typeof e=="string"?this.headers[c]=[e,a]:Array.isArray(e)?e.push(a):this.headers[c]=a}delete(c){delete this.headers[c]}get(c){let a=this.headers[c];return a!==void 0?this.merge(a):null}has(c){return this.headers[c]!==void 0}set(c,a){this.headers[c]=a}forEach(c,a){for(let[e,r]of this.entries())c.call(a,r,e,this)}*entries(){for(let c of Object.keys(this.headers)){let a=c.toLowerCase(),e=this.get(a);yield[a,e]}}*keys(){for(let c of Object.keys(this.headers))yield c.toLowerCase()}*values(){for(let c of Object.keys(this.headers))yield this.get(c)}[Symbol.iterator](){return this.entries()}}},805:(J,T,S)=>{"use strict";S.d(T,{g:()=>O});class O{static get(f,m,c){let a=Reflect.get(f,m,c);return typeof a=="function"?a.bind(f):a}static set(f,m,c,a){return Reflect.set(f,m,c,a)}static has(f,m){return Reflect.has(f,m)}static deleteProperty(f,m){return Reflect.deleteProperty(f,m)}}},119:(J,T,S)=>{"use strict";S.d(T,{Qb:()=>m,_5:()=>a,vr:()=>e});var O=S(789),v=S(805);class f extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new f}}class m{static seal(n){return new Proxy(n,{get(s,t,o){switch(t){case"clear":case"delete":case"set":return f.callable;default:return v.g.get(s,t,o)}}})}}let c=Symbol.for("next.mutated.cookies");function a(r,n){let s=function(i){let l=i[c];return l&&Array.isArray(l)&&l.length!==0?l:[]}(n);if(s.length===0)return!1;let t=new O.n(r),o=t.getAll();for(let i of s)t.set(i);for(let i of o)t.set(i);return!0}class e{static wrap(n,s){let t=new O.n(new Headers);for(let h of n.getAll())t.set(h);let o=[],i=new Set,l=()=>{var h;let g=fetch.__nextGetStaticStore==null||(h=fetch.__nextGetStaticStore.call(fetch))==null?void 0:h.getStore();if(g&&(g.pathWasRevalidated=!0),o=t.getAll().filter(E=>i.has(E.name)),s){let E=[];for(let A of o){let _=new O.n(new Headers);_.set(A),E.push(_.toString())}s(E)}};return new Proxy(t,{get(h,g,E){switch(g){case c:return o;case"delete":return function(...A){i.add(typeof A[0]=="string"?A[0]:A[0].name);try{h.delete(...A)}finally{l()}};case"set":return function(...A){i.add(typeof A[0]=="string"?A[0]:A[0].name);try{return h.set(...A)}finally{l()}};default:return v.g.get(h,g,E)}}})}}},789:(J,T,S)=>{"use strict";S.d(T,{n:()=>O.ResponseCookies,q:()=>O.RequestCookies});var O=S(462)},823:(J,T,S)=>{"use strict";function O(v,f){let m,c=v.split("/");return(f||[]).some(a=>!!c[1]&&c[1].toLowerCase()===a.toLowerCase()&&(m=a,c.splice(1,1),v=c.join("/")||"/",!0)),{pathname:v,detectedLocale:m}}S.d(T,{h:()=>O})},62:(J,T,S)=>{let O;O=S(949),J.exports=O},283:J=>{J.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},274:(J,T,S)=>{"use strict";function O(v){return v.replace(/\/$/,"")||"/"}S.d(T,{Q:()=>O})},724:(J,T,S)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(c,a){for(var e in a)Object.defineProperty(c,e,{enumerable:!0,get:a[e]})}(T,{withRequest:function(){return f},getTestReqInfo:function(){return m}});let O=new(S(67)).AsyncLocalStorage;function v(c,a){let e=a.header(c,"next-test-proxy-port");if(e)return{url:a.url(c),proxyPort:Number(e),testData:a.header(c,"next-test-data")||""}}function f(c,a,e){let r=v(c,a);return r?O.run(r,e):e()}function m(c,a){return O.getStore()||(c&&a?v(c,a):void 0)}},108:(J,T,S)=>{"use strict";var O=S(195).Buffer;Object.defineProperty(T,"__esModule",{value:!0}),function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(T,{reader:function(){return f},handleFetch:function(){return c},interceptFetch:function(){return a}});let v=S(724),f={url:e=>e.url,header:(e,r)=>e.headers.get(r)};async function m(e,r){let{url:n,method:s,headers:t,body:o,cache:i,credentials:l,integrity:h,mode:g,redirect:E,referrer:A,referrerPolicy:_}=r;return{testData:e,api:"fetch",request:{url:n,method:s,headers:[...Array.from(t),["next-test-stack",function(){let C=(Error().stack??"").split(`
`);for(let N=1;N<C.length;N++)if(C[N].length>0){C=C.slice(N);break}return(C=(C=(C=C.filter(N=>!N.includes("/next/dist/"))).slice(0,5)).map(N=>N.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:o?O.from(await r.arrayBuffer()).toString("base64"):null,cache:i,credentials:l,integrity:h,mode:g,redirect:E,referrer:A,referrerPolicy:_}}}async function c(e,r){let n=(0,v.getTestReqInfo)(r,f);if(!n)throw Error(`No test info for ${r.method} ${r.url}`);let{testData:s,proxyPort:t}=n,o=await m(s,r),i=await e(`http://localhost:${t}`,{method:"POST",body:JSON.stringify(o),next:{internal:!0}});if(!i.ok)throw Error(`Proxy request failed: ${i.status}`);let l=await i.json(),{api:h}=l;switch(h){case"continue":return e(r);case"abort":case"unhandled":throw Error(`Proxy request aborted [${r.method} ${r.url}]`)}return function(g){let{status:E,headers:A,body:_}=g.response;return new Response(_?O.from(_,"base64"):null,{status:E,headers:new Headers(A)})}(l)}function a(e){return S.g.fetch=function(r,n){var s;return!(n==null||(s=n.next)==null)&&s.internal?e(r,n):c(e,new Request(r,n))},()=>{S.g.fetch=e}}},471:(J,T,S)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(c,a){for(var e in a)Object.defineProperty(c,e,{enumerable:!0,get:a[e]})}(T,{interceptTestApis:function(){return f},wrapRequestHandler:function(){return m}});let O=S(724),v=S(108);function f(){return(0,v.interceptFetch)(S.g.fetch)}function m(c){return(a,e)=>(0,O.withRequest)(a,v.reader,()=>c(a,e))}},186:(J,T,S)=>{"use strict";S.d(T,{P:()=>m});let O=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class v{disable(){throw O}getStore(){}run(){throw O}exit(){throw O}enterWith(){throw O}}let f=globalThis.AsyncLocalStorage;function m(){return f?new f:new v}},445:(J,T,S)=>{"use strict";S.d(T,{F:()=>O});let O=(0,S(186).P)()}},J=>{var T=J(J.s=337);(_ENTRIES=typeof _ENTRIES>"u"?{}:_ENTRIES)["middleware_app/api/text-generation/route"]=T}]);var an=function(){let J={exports:{},loaded:!1};return function(S,O){var v=Object.defineProperty,f=t=>v(t,"__esModule",{value:!0}),m=(t,o)=>{f(t);for(var i in o)v(t,i,{get:o[i],enumerable:!0})};m(O,{default:()=>e});function c(t){let o={};return t&&t.forEach((i,l)=>{o[l]=i,l.toLowerCase()==="set-cookie"&&(o[l]=a(i))}),o}function a(t){let o=[],i=0,l,h,g,E,A;function _(){for(;i<t.length&&/\s/.test(t.charAt(i));)i+=1;return i<t.length}function C(){return h=t.charAt(i),h!=="="&&h!==";"&&h!==","}for(;i<t.length;){for(l=i,A=!1;_();)if(h=t.charAt(i),h===","){for(g=i,i+=1,_(),E=i;i<t.length&&C();)i+=1;i<t.length&&t.charAt(i)==="="?(A=!0,i=E,o.push(t.substring(l,g)),l=i):i=g+1}else i+=1;(!A||i>=t.length)&&o.push(t.substring(l,t.length))}return o}function e(t){let o=t.staticRoutes.map(l=>({regexp:new RegExp(l.namedRegex),page:l.page})),i=t.dynamicRoutes?.map(l=>({regexp:new RegExp(l.namedRegex),page:l.page}))||[];return async function(l,h){let g=new URL(l.url).pathname,E={};if(t.nextConfig?.basePath&&g.startsWith(t.nextConfig.basePath)&&(g=g.replace(t.nextConfig.basePath,"")||"/"),t.nextConfig?.i18n)for(let _ of t.nextConfig.i18n.locales){let C=new RegExp(`^/${_}($|/)`,"i");if(g.match(C)){g=g.replace(C,"/")||"/";break}}for(let _ of o)if(_.regexp.exec(g)){E.name=_.page;break}if(!E.name){let _=n(g);for(let C of i||[]){if(_&&!n(C.page))continue;let N=C.regexp.exec(g);if(N){E={name:C.page,params:N.groups};break}}}let A=await _ENTRIES[`middleware_${t.name}`].default.call({},{request:{url:l.url,method:l.method,headers:c(l.headers),ip:r(l.headers,s.Ip),geo:{city:r(l.headers,s.City,!0),country:r(l.headers,s.Country,!0),latitude:r(l.headers,s.Latitude),longitude:r(l.headers,s.Longitude),region:r(l.headers,s.Region,!0)},nextConfig:t.nextConfig,page:E,body:l.body}});return h.waitUntil(A.waitUntil),A.response}}function r(t,o,i=!1){let l=t.get(o)||void 0;return i&&l?decodeURIComponent(l):l}function n(t){return t==="/api"||t.startsWith("/api/")}var s;(function(t){t.City="x-vercel-ip-city",t.Country="x-vercel-ip-country",t.Ip="x-real-ip",t.Latitude="x-vercel-ip-latitude",t.Longitude="x-vercel-ip-longitude",t.Region="x-vercel-ip-country-region"})(s||(s={}))}(J,J.exports),J.exports}.call({}).default({name:"app/api/text-generation/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"}],dynamicRoutes:[],nextConfig:{basePath:""}});export{an as default};
/*!
* cookie
* Copyright(c) 2012-2014 Roman Shtylman
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/
